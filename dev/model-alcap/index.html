<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ALCAPS · CarboKitten</title><meta name="title" content="ALCAPS · CarboKitten"/><meta property="og:title" content="ALCAPS · CarboKitten"/><meta property="twitter:title" content="ALCAPS · CarboKitten"/><meta name="description" content="Documentation for CarboKitten."/><meta property="og:description" content="Documentation for CarboKitten."/><meta property="twitter:description" content="Documentation for CarboKitten."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CarboKitten</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><span class="tocitem">Models</span><ul><li><a class="tocitem" href="../bosscher-1992/">Bosscher and Schlager 1992</a></li><li><a class="tocitem" href="../ca-with-production/">Model with CA and Production</a></li><li class="is-active"><a class="tocitem" href>ALCAPS</a><ul class="internal"><li><a class="tocitem" href="#Example-Input"><span>Example Input</span></a></li><li><a class="tocitem" href="#Modular-Implementation"><span>Modular Implementation</span></a></li><li><a class="tocitem" href="#API"><span>API</span></a></li></ul></li><li><a class="tocitem" href="../models/without-ca/">Model without CA</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../first_tutorial/">Tutorial (Pluto notebook)</a></li><li><a class="tocitem" href="../cases/tabular-sea-level/">Tabular Sea Levels</a></li></ul></li><li><a class="tocitem" href="../architecture/">Architecture</a></li><li><span class="tocitem">Model Components</span><ul><li><a class="tocitem" href="../components/components/">Components</a></li><li><a class="tocitem" href="../components/run_model/">Model Runner</a></li><li><a class="tocitem" href="../components/hdf5/">HDF5 Writer</a></li><li><a class="tocitem" href="../components/tag/">Tags</a></li><li><a class="tocitem" href="../components/boxes/">Boxes</a></li><li><a class="tocitem" href="../components/time/">Time</a></li><li><a class="tocitem" href="../components/facies/">Facies</a></li><li><a class="tocitem" href="../components/cellular-automata/">Cellular Automata</a></li><li><a class="tocitem" href="../components/waterdepth/">Water Depth</a></li><li><a class="tocitem" href="../components/production/">Production</a></li><li><a class="tocitem" href="../components/sediment_buffer/">Sediment Buffers</a></li><li><a class="tocitem" href="../active-layer-transport/">Active Layer Transport</a></li><li><a class="tocitem" href="../onshore-transport/">Onshore Transport</a></li></ul></li><li><a class="tocitem" href="../visualization/">Visualizations</a></li><li><span class="tocitem">CarboCAT</span><ul><li><a class="tocitem" href="../carbocat/">Summary</a></li></ul></li><li><span class="tocitem">Denudation</span><ul><li><a class="tocitem" href="../denudation/denudation/">Denudation</a></li><li><a class="tocitem" href="../denudation/empirical/">Empirical Denudation</a></li><li><a class="tocitem" href="../denudation/chemical/">Chemical Dissolution</a></li><li><a class="tocitem" href="../denudation/physical_erosion/">Physical Erosion</a></li></ul></li><li><span class="tocitem">Input &amp; Output</span><ul><li><a class="tocitem" href="../input-methods/">Input Methods</a></li><li><a class="tocitem" href="../data-export/">CSV Export</a></li></ul></li><li><span class="tocitem">Algorithms</span><ul><li><a class="tocitem" href="../unitful/">Unitful</a></li><li><a class="tocitem" href="../boxes/">Boxes</a></li><li><a class="tocitem" href="../stencils/">Stencils</a></li><li><a class="tocitem" href="../utility/">Utility</a></li><li><a class="tocitem" href="../finite-difference-transport/">Finite Difference</a></li></ul></li><li><a class="tocitem" href="../api/">API Documentation</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Models</a></li><li class="is-active"><a href>ALCAPS</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ALCAPS</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl/blob/main/docs/transpiled/model-alcap.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)"><a class="docs-heading-anchor" href="#Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)">Model with CA, Production and Active Layer transport (ALCAP)</a><a id="Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)-1"></a><a class="docs-heading-anchor-permalink" href="#Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)" title="Permalink"></a></h1><p>The following <strong>S</strong>edimentation model includes the Burgess 2013 <strong>C</strong>ellular <strong>A</strong>utomaton, Bosscher &amp; Schlager 1992 <strong>P</strong>roduction curves and an <strong>A</strong>ctive <strong>L</strong>ayer transport model, based on Paola 1992, henceforth ALCAP.</p><p><img src="../fig/alcaps-alternative.png" alt="Result from alternative input"/></p><h2 id="Example-Input"><a class="docs-heading-anchor" href="#Example-Input">Example Input</a><a id="Example-Input-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Input" title="Permalink"></a></h2><p>The following is a complete example input.</p><div class="noweb-label">⪡alcap-example-input⪢≣</div><pre><code class="language- julia hljs">const TAG = &quot;alcap-example&quot;

const FACIES = [
    ALCAP.Facies(
        viability_range=(4, 10),
        activation_range=(6, 10),
        maximum_growth_rate=500u&quot;m/Myr&quot;,
        extinction_coefficient=0.8u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=50.0u&quot;m/yr&quot;),
    ALCAP.Facies(
        viability_range=(4, 10),
        activation_range=(6, 10),
        maximum_growth_rate=400u&quot;m/Myr&quot;,
        extinction_coefficient=0.1u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=25.0u&quot;m/yr&quot;),
    ALCAP.Facies(
        viability_range=(4, 10),
        activation_range=(6, 10),
        maximum_growth_rate=100u&quot;m/Myr&quot;,
        extinction_coefficient=0.005u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=12.5u&quot;m/yr&quot;)
]

const PERIOD = 0.2u&quot;Myr&quot;
const AMPLITUDE = 4.0u&quot;m&quot;

const INPUT = ALCAP.Input(
    tag=&quot;$TAG&quot;,
    box=Box{Coast}(grid_size=(100, 50), phys_scale=150.0u&quot;m&quot;),
    time=TimeProperties(
        Δt=0.0002u&quot;Myr&quot;,
        steps=5000,
        write_interval=1),
    ca_interval=1,
    initial_topography=(x, y) -&gt; -x / 300.0,
    sea_level=t -&gt; AMPLITUDE * sin(2π * t / PERIOD),
    subsidence_rate=50.0u&quot;m/Myr&quot;,
    disintegration_rate=50.0u&quot;m/Myr&quot;,
    insolation=400.0u&quot;W/m^2&quot;,
    sediment_buffer_size=50,
    depositional_resolution=0.5u&quot;m&quot;,
    facies=FACIES)</code></pre><div class="noweb-label">file:<i>examples/model/alcap/run.jl</i></div><pre><code class="language- julia hljs">#| requires: src/Models/ALCAP.jl
#| creates: data/output/alcap-example.h5

module Script

using Unitful
using CarboKitten
using CarboKitten.Export: data_export, CSV
using CarboKitten.Transport.Solvers: forward_euler

const PATH = &quot;data/output&quot;

&lt;&lt;alcap-example-input&gt;&gt;

function main()
    run_model(Model{ALCAP}, INPUT, &quot;$(PATH)/$(TAG).h5&quot;)

    data_export(
        CSV(tuple.(10:20:70, 25),
            :sediment_accumulation_curve =&gt; &quot;$(PATH)/$(TAG)_sac.csv&quot;,
            :age_depth_model =&gt; &quot;$(PATH)/$(TAG)_adm.csv&quot;,
            :stratigraphic_column =&gt; &quot;$(PATH)/$(TAG)_sc.csv&quot;,
            :water_depth =&gt; &quot;$(PATH)/$(TAG)_wd.csv&quot;,
            :metadata =&gt; &quot;$(PATH)/$(TAG).toml&quot;),
        &quot;$(PATH)/$(TAG).h5&quot;)
end

end

Script.main()</code></pre><details><summary>Plotting code</summary><div class="noweb-label">file:<i>examples/model/alcap/plot.jl</i></div><pre><code class="language- julia hljs">#| creates: docs/src/_fig/alcaps-alternative.png
#| requires: data/output/alcap-example.h5
#| collect: figures

using GLMakie
using CarboKitten.Visualization

GLMakie.activate!()

save(&quot;docs/src/_fig/alcaps-alternative.png&quot;, summary_plot(&quot;data/output/alcap-example.h5&quot;))</code></pre></details><h2 id="Modular-Implementation"><a class="docs-heading-anchor" href="#Modular-Implementation">Modular Implementation</a><a id="Modular-Implementation-1"></a><a class="docs-heading-anchor-permalink" href="#Modular-Implementation" title="Permalink"></a></h2><div class="component-dag" style="overflow: scroll"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Pages: 1 -->
<svg width="1257pt" height="599pt"
 viewBox="0.00 0.00 1257.00 599.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 595)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-595 1253,-595 1253,4 -4,4"/>
<!-- Boxes -->
<g id="node1" class="node">
<title>Boxes</title>
<path fill="none" stroke="black" d="M654.5,-591C654.5,-591 516.5,-591 516.5,-591 510.5,-591 504.5,-585 504.5,-579 504.5,-579 504.5,-524 504.5,-524 504.5,-518 510.5,-512 516.5,-512 516.5,-512 654.5,-512 654.5,-512 660.5,-512 666.5,-518 666.5,-524 666.5,-524 666.5,-579 666.5,-579 666.5,-585 660.5,-591 654.5,-591"/>
<polyline fill="none" stroke="black" points="511.5,-560.5 659.5,-560.5 "/>
<text text-anchor="start" x="562" y="-569.3" font-family="Times,serif" font-weight="bold" font-size="14.00">Boxes</text>
<polygon fill="#cccccc" stroke="transparent" points="511.5,-537.5 511.5,-560.5 558.5,-560.5 558.5,-537.5 511.5,-537.5"/>
<polyline fill="none" stroke="black" points="511.5,-537.5 558.5,-537.5 558.5,-560.5 511.5,-560.5 "/>
<text text-anchor="start" x="515.5" y="-545.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="558.5,-537.5 558.5,-560.5 612.5,-560.5 612.5,-537.5 558.5,-537.5"/>
<polygon fill="none" stroke="black" points="558.5,-537.5 558.5,-560.5 612.5,-560.5 612.5,-537.5 558.5,-537.5"/>
<text text-anchor="start" x="562.5" y="-545.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="612.5,-537.5 612.5,-560.5 659.5,-560.5 659.5,-537.5 612.5,-537.5"/>
<polyline fill="none" stroke="black" points="659.5,-560.5 612.5,-560.5 612.5,-537.5 659.5,-537.5 "/>
<text text-anchor="start" x="616.5" y="-545.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="558.5,-518.5 558.5,-537.5 "/>
<text text-anchor="start" x="515.5" y="-525.5" font-family="monospace" font-size="10.00">box</text>
<polyline fill="none" stroke="black" points="612.5,-518.5 612.5,-537.5 "/>
<text text-anchor="start" x="562.5" y="-525.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="615.5" y="-525.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth -->
<g id="node3" class="node">
<title>WaterDepth</title>
<path fill="none" stroke="black" d="M624.5,-476C624.5,-476 366.5,-476 366.5,-476 360.5,-476 354.5,-470 354.5,-464 354.5,-464 354.5,-371 354.5,-371 354.5,-365 360.5,-359 366.5,-359 366.5,-359 624.5,-359 624.5,-359 630.5,-359 636.5,-365 636.5,-371 636.5,-371 636.5,-464 636.5,-464 636.5,-470 630.5,-476 624.5,-476"/>
<polyline fill="none" stroke="black" points="361.5,-445.5 629.5,-445.5 "/>
<text text-anchor="start" x="448" y="-454.3" font-family="Times,serif" font-weight="bold" font-size="14.00">WaterDepth</text>
<polygon fill="#cccccc" stroke="transparent" points="361.5,-422.5 361.5,-445.5 478.5,-445.5 478.5,-422.5 361.5,-422.5"/>
<polyline fill="none" stroke="black" points="361.5,-422.5 478.5,-422.5 478.5,-445.5 361.5,-445.5 "/>
<text text-anchor="start" x="365.5" y="-430.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="478.5,-422.5 478.5,-445.5 532.5,-445.5 532.5,-422.5 478.5,-422.5"/>
<polygon fill="none" stroke="black" points="478.5,-422.5 478.5,-445.5 532.5,-445.5 532.5,-422.5 478.5,-422.5"/>
<text text-anchor="start" x="482.5" y="-430.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="532.5,-422.5 532.5,-445.5 629.5,-445.5 629.5,-422.5 532.5,-422.5"/>
<polyline fill="none" stroke="black" points="629.5,-445.5 532.5,-445.5 532.5,-422.5 629.5,-422.5 "/>
<text text-anchor="start" x="536.5" y="-430.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="478.5,-403.5 478.5,-422.5 "/>
<text text-anchor="start" x="365.5" y="-410.5" font-family="monospace" font-size="10.00">sea_level</text>
<polyline fill="none" stroke="black" points="532.5,-403.5 532.5,-422.5 "/>
<text text-anchor="start" x="482.5" y="-410.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="535.5" y="-410.5" font-family="monospace" font-size="10.00">sediment_height</text>
<polyline fill="none" stroke="black" points="478.5,-384.5 478.5,-403.5 "/>
<text text-anchor="start" x="365.5" y="-391.5" font-family="monospace" font-size="10.00">initial_topography</text>
<polyline fill="none" stroke="black" points="532.5,-384.5 532.5,-403.5 "/>
<text text-anchor="start" x="482.5" y="-391.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="535.5" y="-391.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="478.5,-365.5 478.5,-384.5 "/>
<text text-anchor="start" x="365.5" y="-372.5" font-family="monospace" font-size="10.00">subsidence_rate</text>
<polyline fill="none" stroke="black" points="532.5,-365.5 532.5,-384.5 "/>
<text text-anchor="start" x="482.5" y="-372.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="535.5" y="-372.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;WaterDepth -->
<g id="edge2" class="edge">
<title>Boxes&#45;&gt;WaterDepth</title>
<path fill="none" stroke="black" d="M559.23,-511.97C553.43,-503.46 547.12,-494.21 540.81,-484.95"/>
<polygon fill="black" stroke="black" points="543.55,-482.76 535.02,-476.47 537.77,-486.7 543.55,-482.76"/>
</g>
<!-- SedimentBuffer -->
<g id="node6" class="node">
<title>SedimentBuffer</title>
<path fill="none" stroke="black" d="M324.5,-466.5C324.5,-466.5 36.5,-466.5 36.5,-466.5 30.5,-466.5 24.5,-460.5 24.5,-454.5 24.5,-454.5 24.5,-380.5 24.5,-380.5 24.5,-374.5 30.5,-368.5 36.5,-368.5 36.5,-368.5 324.5,-368.5 324.5,-368.5 330.5,-368.5 336.5,-374.5 336.5,-380.5 336.5,-380.5 336.5,-454.5 336.5,-454.5 336.5,-460.5 330.5,-466.5 324.5,-466.5"/>
<polyline fill="none" stroke="black" points="31.5,-436.5 329.5,-436.5 "/>
<text text-anchor="start" x="117.5" y="-445.3" font-family="Times,serif" font-weight="bold" font-size="14.00">SedimentBuffer</text>
<polygon fill="#cccccc" stroke="transparent" points="31.5,-413.5 31.5,-436.5 178.5,-436.5 178.5,-413.5 31.5,-413.5"/>
<polyline fill="none" stroke="black" points="31.5,-413.5 178.5,-413.5 178.5,-436.5 31.5,-436.5 "/>
<text text-anchor="start" x="35.5" y="-421.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="178.5,-413.5 178.5,-436.5 232.5,-436.5 232.5,-413.5 178.5,-413.5"/>
<polygon fill="none" stroke="black" points="178.5,-413.5 178.5,-436.5 232.5,-436.5 232.5,-413.5 178.5,-413.5"/>
<text text-anchor="start" x="182.5" y="-421.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="232.5,-413.5 232.5,-436.5 329.5,-436.5 329.5,-413.5 232.5,-413.5"/>
<polyline fill="none" stroke="black" points="329.5,-436.5 232.5,-436.5 232.5,-413.5 329.5,-413.5 "/>
<text text-anchor="start" x="236.5" y="-421.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="178.5,-394.5 178.5,-413.5 "/>
<text text-anchor="start" x="35.5" y="-401.5" font-family="monospace" font-size="10.00">sediment_buffer_size</text>
<polyline fill="none" stroke="black" points="232.5,-394.5 232.5,-413.5 "/>
<text text-anchor="start" x="182.5" y="-401.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="235.5" y="-401.5" font-family="monospace" font-size="10.00">sediment_buffer</text>
<polyline fill="none" stroke="black" points="178.5,-375.5 178.5,-394.5 "/>
<text text-anchor="start" x="35.5" y="-382.5" font-family="monospace" font-size="10.00">depositional_resolution</text>
<polyline fill="none" stroke="black" points="232.5,-375.5 232.5,-394.5 "/>
<text text-anchor="start" x="182.5" y="-382.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="235.5" y="-382.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;SedimentBuffer -->
<g id="edge13" class="edge">
<title>Boxes&#45;&gt;SedimentBuffer</title>
<path fill="none" stroke="black" d="M504.3,-515.04C501.34,-513.98 498.4,-512.96 495.5,-512 430.42,-490.44 411.29,-495.3 345.5,-476 338.6,-473.97 331.55,-471.83 324.46,-469.61"/>
<polygon fill="black" stroke="black" points="325.35,-466.22 314.76,-466.53 323.24,-472.89 325.35,-466.22"/>
</g>
<!-- CellularAutomaton -->
<g id="node11" class="node">
<title>CellularAutomaton</title>
<path fill="none" stroke="black" d="M1237,-304C1237,-304 976,-304 976,-304 970,-304 964,-298 964,-292 964,-292 964,-218 964,-218 964,-212 970,-206 976,-206 976,-206 1237,-206 1237,-206 1243,-206 1249,-212 1249,-218 1249,-218 1249,-292 1249,-292 1249,-298 1243,-304 1237,-304"/>
<polyline fill="none" stroke="black" points="971.5,-274 1242.5,-274 "/>
<text text-anchor="start" x="1031.5" y="-282.8" font-family="Times,serif" font-weight="bold" font-size="14.00">CellularAutomaton</text>
<polygon fill="#cccccc" stroke="transparent" points="971.5,-251 971.5,-274 1064.5,-274 1064.5,-251 971.5,-251"/>
<polyline fill="none" stroke="black" points="971.5,-251 1064.5,-251 1064.5,-274 971.5,-274 "/>
<text text-anchor="start" x="975.5" y="-258.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="1064.5,-251 1064.5,-274 1169.5,-274 1169.5,-251 1064.5,-251"/>
<polygon fill="none" stroke="black" points="1064.5,-251 1064.5,-274 1169.5,-274 1169.5,-251 1064.5,-251"/>
<text text-anchor="start" x="1068.5" y="-258.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="1169.5,-251 1169.5,-274 1242.5,-274 1242.5,-251 1169.5,-251"/>
<polyline fill="none" stroke="black" points="1242.5,-274 1169.5,-274 1169.5,-251 1242.5,-251 "/>
<text text-anchor="start" x="1173.5" y="-258.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="1064.5,-232 1064.5,-251 "/>
<text text-anchor="start" x="975.5" y="-239" font-family="monospace" font-size="10.00">ca_interval</text>
<polyline fill="none" stroke="black" points="1169.5,-232 1169.5,-251 "/>
<text text-anchor="start" x="1068.5" y="-239" font-family="monospace" font-size="10.00">viability_range</text>
<text text-anchor="start" x="1172.5" y="-239" font-family="monospace" font-size="10.00">ca</text>
<polyline fill="none" stroke="black" points="1064.5,-213 1064.5,-232 "/>
<text text-anchor="start" x="975.5" y="-220" font-family="monospace" font-size="10.00">ca_random_seed</text>
<polyline fill="none" stroke="black" points="1169.5,-213 1169.5,-232 "/>
<text text-anchor="start" x="1068.5" y="-220" font-family="monospace" font-size="10.00">activation_range</text>
<text text-anchor="start" x="1172.5" y="-220" font-family="monospace" font-size="10.00">ca_priority</text>
</g>
<!-- Boxes&#45;&gt;CellularAutomaton -->
<g id="edge21" class="edge">
<title>Boxes&#45;&gt;CellularAutomaton</title>
<path fill="none" stroke="black" d="M666.73,-533.11C714.63,-520.98 775.45,-502.22 825.5,-476 910.41,-431.51 995.33,-360.44 1049.23,-311.16"/>
<polygon fill="black" stroke="black" points="1051.63,-313.71 1056.63,-304.36 1046.9,-308.55 1051.63,-313.71"/>
</g>
<!-- TimeIntegration -->
<g id="node2" class="node">
<title>TimeIntegration</title>
<path fill="none" stroke="black" d="M474.5,-591C474.5,-591 336.5,-591 336.5,-591 330.5,-591 324.5,-585 324.5,-579 324.5,-579 324.5,-524 324.5,-524 324.5,-518 330.5,-512 336.5,-512 336.5,-512 474.5,-512 474.5,-512 480.5,-512 486.5,-518 486.5,-524 486.5,-524 486.5,-579 486.5,-579 486.5,-585 480.5,-591 474.5,-591"/>
<polyline fill="none" stroke="black" points="331.5,-560.5 479.5,-560.5 "/>
<text text-anchor="start" x="340" y="-569.3" font-family="Times,serif" font-weight="bold" font-size="14.00">TimeIntegration</text>
<polygon fill="#cccccc" stroke="transparent" points="331.5,-537.5 331.5,-560.5 378.5,-560.5 378.5,-537.5 331.5,-537.5"/>
<polyline fill="none" stroke="black" points="331.5,-537.5 378.5,-537.5 378.5,-560.5 331.5,-560.5 "/>
<text text-anchor="start" x="335.5" y="-545.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="378.5,-537.5 378.5,-560.5 432.5,-560.5 432.5,-537.5 378.5,-537.5"/>
<polygon fill="none" stroke="black" points="378.5,-537.5 378.5,-560.5 432.5,-560.5 432.5,-537.5 378.5,-537.5"/>
<text text-anchor="start" x="382.5" y="-545.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="432.5,-537.5 432.5,-560.5 479.5,-560.5 479.5,-537.5 432.5,-537.5"/>
<polyline fill="none" stroke="black" points="479.5,-560.5 432.5,-560.5 432.5,-537.5 479.5,-537.5 "/>
<text text-anchor="start" x="436.5" y="-545.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="378.5,-518.5 378.5,-537.5 "/>
<text text-anchor="start" x="335.5" y="-525.5" font-family="monospace" font-size="10.00">time</text>
<polyline fill="none" stroke="black" points="432.5,-518.5 432.5,-537.5 "/>
<text text-anchor="start" x="382.5" y="-525.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="435.5" y="-525.5" font-family="monospace" font-size="10.00">step</text>
</g>
<!-- TimeIntegration&#45;&gt;WaterDepth -->
<g id="edge1" class="edge">
<title>TimeIntegration&#45;&gt;WaterDepth</title>
<path fill="none" stroke="black" d="M431.77,-511.97C437.57,-503.46 443.88,-494.21 450.19,-484.95"/>
<polygon fill="black" stroke="black" points="453.23,-486.7 455.98,-476.47 447.45,-482.76 453.23,-486.7"/>
</g>
<!-- ActiveLayer -->
<g id="node4" class="node">
<title>ActiveLayer</title>
<path fill="none" stroke="black" d="M538,-313.5C538,-313.5 243,-313.5 243,-313.5 237,-313.5 231,-307.5 231,-301.5 231,-301.5 231,-208.5 231,-208.5 231,-202.5 237,-196.5 243,-196.5 243,-196.5 538,-196.5 538,-196.5 544,-196.5 550,-202.5 550,-208.5 550,-208.5 550,-301.5 550,-301.5 550,-307.5 544,-313.5 538,-313.5"/>
<polyline fill="none" stroke="black" points="238.5,-283 543.5,-283 "/>
<text text-anchor="start" x="345" y="-291.8" font-family="Times,serif" font-weight="bold" font-size="14.00">ActiveLayer</text>
<polygon fill="#cccccc" stroke="transparent" points="238.5,-260 238.5,-283 361.5,-283 361.5,-260 238.5,-260"/>
<polyline fill="none" stroke="black" points="238.5,-260 361.5,-260 361.5,-283 238.5,-283 "/>
<text text-anchor="start" x="242.5" y="-267.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="361.5,-260 361.5,-283 496.5,-283 496.5,-260 361.5,-260"/>
<polygon fill="none" stroke="black" points="361.5,-260 361.5,-283 496.5,-283 496.5,-260 361.5,-260"/>
<text text-anchor="start" x="365.5" y="-267.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="496.5,-260 496.5,-283 543.5,-283 543.5,-260 496.5,-260"/>
<polyline fill="none" stroke="black" points="543.5,-283 496.5,-283 496.5,-260 543.5,-260 "/>
<text text-anchor="start" x="500.5" y="-267.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="361.5,-241 361.5,-260 "/>
<text text-anchor="start" x="242.5" y="-248" font-family="monospace" font-size="10.00">disintegration_rate</text>
<polyline fill="none" stroke="black" points="496.5,-241 496.5,-260 "/>
<text text-anchor="start" x="365.5" y="-248" font-family="monospace" font-size="10.00">diffusion_coefficient</text>
<text text-anchor="start" x="499.5" y="-248" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="361.5,-222 361.5,-241 "/>
<text text-anchor="start" x="242.5" y="-229" font-family="monospace" font-size="10.00">transport_solver</text>
<polyline fill="none" stroke="black" points="496.5,-222 496.5,-241 "/>
<text text-anchor="start" x="365.5" y="-229" font-family="monospace" font-size="10.00">wave_velocity</text>
<text text-anchor="start" x="499.5" y="-229" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="361.5,-203 361.5,-222 "/>
<text text-anchor="start" x="242.5" y="-210" font-family="monospace" font-size="10.00">transport_substeps</text>
<polyline fill="none" stroke="black" points="496.5,-203 496.5,-222 "/>
<text text-anchor="start" x="365.5" y="-210" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="499.5" y="-210" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;ActiveLayer -->
<g id="edge3" class="edge">
<title>WaterDepth&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M457.59,-358.56C449.89,-346.78 441.73,-334.3 433.85,-322.26"/>
<polygon fill="black" stroke="black" points="436.58,-320.04 428.18,-313.59 430.72,-323.87 436.58,-320.04"/>
</g>
<!-- InitialSediment -->
<g id="node7" class="node">
<title>InitialSediment</title>
<path fill="none" stroke="black" d="M201,-294.5C201,-294.5 12,-294.5 12,-294.5 6,-294.5 0,-288.5 0,-282.5 0,-282.5 0,-227.5 0,-227.5 0,-221.5 6,-215.5 12,-215.5 12,-215.5 201,-215.5 201,-215.5 207,-215.5 213,-221.5 213,-227.5 213,-227.5 213,-282.5 213,-282.5 213,-288.5 207,-294.5 201,-294.5"/>
<polyline fill="none" stroke="black" points="7.5,-264 206.5,-264 "/>
<text text-anchor="start" x="45" y="-272.8" font-family="Times,serif" font-weight="bold" font-size="14.00">InitialSediment</text>
<polygon fill="#cccccc" stroke="transparent" points="7.5,-241 7.5,-264 54.5,-264 54.5,-241 7.5,-241"/>
<polyline fill="none" stroke="black" points="7.5,-241 54.5,-241 54.5,-264 7.5,-264 "/>
<text text-anchor="start" x="11.5" y="-248.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="54.5,-241 54.5,-264 159.5,-264 159.5,-241 54.5,-241"/>
<polygon fill="none" stroke="black" points="54.5,-241 54.5,-264 159.5,-264 159.5,-241 54.5,-241"/>
<text text-anchor="start" x="58.5" y="-248.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="159.5,-241 159.5,-264 206.5,-264 206.5,-241 159.5,-241"/>
<polyline fill="none" stroke="black" points="206.5,-264 159.5,-264 159.5,-241 206.5,-241 "/>
<text text-anchor="start" x="163.5" y="-248.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="54.5,-222 54.5,-241 "/>
<text text-anchor="start" x="11.5" y="-229" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="159.5,-222 159.5,-241 "/>
<text text-anchor="start" x="58.5" y="-229" font-family="monospace" font-size="10.00">initial_sediment</text>
<text text-anchor="start" x="162.5" y="-229" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;InitialSediment -->
<g id="edge7" class="edge">
<title>WaterDepth&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M354.3,-362C351.34,-360.98 348.41,-359.98 345.5,-359 291.1,-340.71 274.24,-345.61 221.5,-323 205.97,-316.34 189.92,-308.02 174.92,-299.52"/>
<polygon fill="black" stroke="black" points="176.64,-296.47 166.23,-294.51 173.15,-302.54 176.64,-296.47"/>
</g>
<!-- H5Writer -->
<g id="node8" class="node">
<title>H5Writer</title>
<path fill="none" stroke="black" d="M645,-273C645,-273 580,-273 580,-273 574,-273 568,-267 568,-261 568,-261 568,-249 568,-249 568,-243 574,-237 580,-237 580,-237 645,-237 645,-237 651,-237 657,-243 657,-249 657,-249 657,-261 657,-261 657,-267 651,-273 645,-273"/>
<text text-anchor="start" x="575" y="-252.3" font-family="Times,serif" font-weight="bold" font-size="14.00">H5Writer</text>
</g>
<!-- WaterDepth&#45;&gt;H5Writer -->
<g id="edge10" class="edge">
<title>WaterDepth&#45;&gt;H5Writer</title>
<path fill="none" stroke="black" d="M537.74,-358.56C556.98,-332.16 578.78,-302.26 593.85,-281.59"/>
<polygon fill="black" stroke="black" points="596.81,-283.47 599.87,-273.33 591.15,-279.35 596.81,-283.47"/>
</g>
<!-- Production -->
<g id="node9" class="node">
<title>Production</title>
<path fill="none" stroke="black" d="M934,-323C934,-323 687,-323 687,-323 681,-323 675,-317 675,-311 675,-311 675,-199 675,-199 675,-193 681,-187 687,-187 687,-187 934,-187 934,-187 940,-187 946,-193 946,-199 946,-199 946,-311 946,-311 946,-317 940,-323 934,-323"/>
<polyline fill="none" stroke="black" points="682.5,-293 939.5,-293 "/>
<text text-anchor="start" x="767" y="-301.8" font-family="Times,serif" font-weight="bold" font-size="14.00">Production</text>
<polygon fill="#cccccc" stroke="transparent" points="682.5,-270 682.5,-293 751.5,-293 751.5,-270 682.5,-270"/>
<polyline fill="none" stroke="black" points="682.5,-270 751.5,-270 751.5,-293 682.5,-293 "/>
<text text-anchor="start" x="686.5" y="-277.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="751.5,-270 751.5,-293 892.5,-293 892.5,-270 751.5,-270"/>
<polygon fill="none" stroke="black" points="751.5,-270 751.5,-293 892.5,-293 892.5,-270 751.5,-270"/>
<text text-anchor="start" x="755.5" y="-277.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="892.5,-270 892.5,-293 939.5,-293 939.5,-270 892.5,-270"/>
<polyline fill="none" stroke="black" points="939.5,-293 892.5,-293 892.5,-270 939.5,-270 "/>
<text text-anchor="start" x="896.5" y="-277.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="751.5,-251 751.5,-270 "/>
<text text-anchor="start" x="686.5" y="-258" font-family="monospace" font-size="10.00">insolation</text>
<polyline fill="none" stroke="black" points="892.5,-251 892.5,-270 "/>
<text text-anchor="start" x="755.5" y="-258" font-family="monospace" font-size="10.00">maximum_growth_rate</text>
<text text-anchor="start" x="895.5" y="-258" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="751.5,-232 751.5,-251 "/>
<text text-anchor="start" x="686.5" y="-239" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="892.5,-232 892.5,-251 "/>
<text text-anchor="start" x="755.5" y="-239" font-family="monospace" font-size="10.00">extinction_coefficient</text>
<text text-anchor="start" x="895.5" y="-239" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="751.5,-213 751.5,-232 "/>
<text text-anchor="start" x="686.5" y="-220" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="892.5,-213 892.5,-232 "/>
<text text-anchor="start" x="755.5" y="-220" font-family="monospace" font-size="10.00">saturation_intensity</text>
<text text-anchor="start" x="895.5" y="-220" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="751.5,-194 751.5,-213 "/>
<text text-anchor="start" x="686.5" y="-201" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="892.5,-194 892.5,-213 "/>
<text text-anchor="start" x="755.5" y="-201" font-family="monospace" font-size="10.00">production_offset</text>
<text text-anchor="start" x="895.5" y="-201" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;Production -->
<g id="edge11" class="edge">
<title>WaterDepth&#45;&gt;Production</title>
<path fill="none" stroke="black" d="M608.78,-358.78C628.6,-348.68 649.43,-338.07 669.89,-327.65"/>
<polygon fill="black" stroke="black" points="671.62,-330.69 678.94,-323.03 668.44,-324.46 671.62,-330.69"/>
</g>
<!-- ALCAP -->
<g id="node13" class="node">
<title>ALCAP</title>
<path fill="none" stroke="black" d="M634,-36C634,-36 591,-36 591,-36 585,-36 579,-30 579,-24 579,-24 579,-12 579,-12 579,-6 585,0 591,0 591,0 634,0 634,0 640,0 646,-6 646,-12 646,-12 646,-24 646,-24 646,-30 640,-36 634,-36"/>
<text text-anchor="start" x="586" y="-15.3" font-family="Times,serif" font-weight="bold" font-size="14.00">ALCAP</text>
</g>
<!-- ActiveLayer&#45;&gt;ALCAP -->
<g id="edge19" class="edge">
<title>ActiveLayer&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M445.09,-196.21C491.28,-147.32 555.22,-79.63 589.16,-43.71"/>
<polygon fill="black" stroke="black" points="592,-45.8 596.32,-36.13 586.91,-40.99 592,-45.8"/>
</g>
<!-- FaciesBase -->
<g id="node5" class="node">
<title>FaciesBase</title>
<path fill="none" stroke="black" d="M804.5,-457C804.5,-457 666.5,-457 666.5,-457 660.5,-457 654.5,-451 654.5,-445 654.5,-445 654.5,-390 654.5,-390 654.5,-384 660.5,-378 666.5,-378 666.5,-378 804.5,-378 804.5,-378 810.5,-378 816.5,-384 816.5,-390 816.5,-390 816.5,-445 816.5,-445 816.5,-451 810.5,-457 804.5,-457"/>
<polyline fill="none" stroke="black" points="661.5,-426.5 809.5,-426.5 "/>
<text text-anchor="start" x="691.5" y="-435.3" font-family="Times,serif" font-weight="bold" font-size="14.00">FaciesBase</text>
<polygon fill="#cccccc" stroke="transparent" points="661.5,-403.5 661.5,-426.5 708.5,-426.5 708.5,-403.5 661.5,-403.5"/>
<polyline fill="none" stroke="black" points="661.5,-403.5 708.5,-403.5 708.5,-426.5 661.5,-426.5 "/>
<text text-anchor="start" x="665.5" y="-411.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="708.5,-403.5 708.5,-426.5 762.5,-426.5 762.5,-403.5 708.5,-403.5"/>
<polygon fill="none" stroke="black" points="708.5,-403.5 708.5,-426.5 762.5,-426.5 762.5,-403.5 708.5,-403.5"/>
<text text-anchor="start" x="712.5" y="-411.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="762.5,-403.5 762.5,-426.5 809.5,-426.5 809.5,-403.5 762.5,-403.5"/>
<polyline fill="none" stroke="black" points="809.5,-426.5 762.5,-426.5 762.5,-403.5 809.5,-403.5 "/>
<text text-anchor="start" x="766.5" y="-411.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="708.5,-384.5 708.5,-403.5 "/>
<text text-anchor="start" x="665.5" y="-391.5" font-family="monospace" font-size="10.00">facies</text>
<polyline fill="none" stroke="black" points="762.5,-384.5 762.5,-403.5 "/>
<text text-anchor="start" x="712.5" y="-391.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="765.5" y="-391.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- FaciesBase&#45;&gt;ActiveLayer -->
<g id="edge4" class="edge">
<title>FaciesBase&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M678.33,-377.77C667.63,-371.15 656.38,-364.61 645.5,-359 639.86,-356.09 594.87,-337.81 544.22,-317.44"/>
<polygon fill="black" stroke="black" points="545.28,-314.1 534.7,-313.62 542.67,-320.59 545.28,-314.1"/>
</g>
<!-- FaciesBase&#45;&gt;InitialSediment -->
<g id="edge6" class="edge">
<title>FaciesBase&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M684.38,-377.9C672.2,-370.43 658.85,-363.52 645.5,-359 466.38,-298.32 401.83,-379.99 221.5,-323 204.03,-317.48 186.34,-308.95 170.25,-299.8"/>
<polygon fill="black" stroke="black" points="171.89,-296.7 161.49,-294.67 168.35,-302.74 171.89,-296.7"/>
</g>
<!-- FaciesBase&#45;&gt;H5Writer -->
<g id="edge9" class="edge">
<title>FaciesBase&#45;&gt;H5Writer</title>
<path fill="none" stroke="black" d="M705.73,-377.65C682.86,-347.81 651.93,-307.45 632.09,-281.57"/>
<polygon fill="black" stroke="black" points="634.68,-279.19 625.82,-273.38 629.13,-283.45 634.68,-279.19"/>
</g>
<!-- FaciesBase&#45;&gt;Production -->
<g id="edge12" class="edge">
<title>FaciesBase&#45;&gt;Production</title>
<path fill="none" stroke="black" d="M753.66,-377.65C760.03,-364 767.44,-348.15 774.76,-332.49"/>
<polygon fill="black" stroke="black" points="777.98,-333.85 779.05,-323.31 771.64,-330.89 777.98,-333.85"/>
</g>
<!-- FaciesBase&#45;&gt;CellularAutomaton -->
<g id="edge22" class="edge">
<title>FaciesBase&#45;&gt;CellularAutomaton</title>
<path fill="none" stroke="black" d="M816.61,-382.39C858.2,-364.81 909.63,-342.92 955.5,-323 966.5,-318.22 977.94,-313.22 989.37,-308.19"/>
<polygon fill="black" stroke="black" points="990.8,-311.38 998.54,-304.15 987.97,-304.98 990.8,-311.38"/>
</g>
<!-- SedimentBuffer&#45;&gt;ActiveLayer -->
<g id="edge5" class="edge">
<title>SedimentBuffer&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M243.51,-368.34C263.43,-353.12 285.77,-336.04 306.91,-319.89"/>
<polygon fill="black" stroke="black" points="309.12,-322.6 314.94,-313.75 304.87,-317.04 309.12,-322.6"/>
</g>
<!-- SedimentBuffer&#45;&gt;InitialSediment -->
<g id="edge8" class="edge">
<title>SedimentBuffer&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M158.3,-368.34C148.88,-347.93 137.94,-324.19 128.54,-303.81"/>
<polygon fill="black" stroke="black" points="131.71,-302.32 124.34,-294.7 125.35,-305.25 131.71,-302.32"/>
</g>
<!-- InitialSediment&#45;&gt;ALCAP -->
<g id="edge20" class="edge">
<title>InitialSediment&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M169.65,-215.47C186.31,-205.8 204.41,-195.7 221.5,-187 344.46,-124.45 496.06,-63.77 569.1,-35.51"/>
<polygon fill="black" stroke="black" points="570.81,-38.6 578.88,-31.74 568.29,-32.07 570.81,-38.6"/>
</g>
<!-- H5Writer&#45;&gt;ALCAP -->
<g id="edge17" class="edge">
<title>H5Writer&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M612.5,-236.72C612.5,-196.32 612.5,-95.4 612.5,-46.47"/>
<polygon fill="black" stroke="black" points="616,-46.31 612.5,-36.31 609,-46.31 616,-46.31"/>
</g>
<!-- CAProduction -->
<g id="node10" class="node">
<title>CAProduction</title>
<path fill="none" stroke="black" d="M806,-129.5C806,-129.5 707,-129.5 707,-129.5 701,-129.5 695,-123.5 695,-117.5 695,-117.5 695,-105.5 695,-105.5 695,-99.5 701,-93.5 707,-93.5 707,-93.5 806,-93.5 806,-93.5 812,-93.5 818,-99.5 818,-105.5 818,-105.5 818,-117.5 818,-117.5 818,-123.5 812,-129.5 806,-129.5"/>
<text text-anchor="start" x="702" y="-108.8" font-family="Times,serif" font-weight="bold" font-size="14.00">CAProduction</text>
</g>
<!-- Production&#45;&gt;CAProduction -->
<g id="edge15" class="edge">
<title>Production&#45;&gt;CAProduction</title>
<path fill="none" stroke="black" d="M784.92,-186.98C778.45,-170.02 771.87,-152.77 766.67,-139.15"/>
<polygon fill="black" stroke="black" points="769.82,-137.6 762.99,-129.5 763.28,-140.09 769.82,-137.6"/>
</g>
<!-- CAProduction&#45;&gt;ALCAP -->
<g id="edge18" class="edge">
<title>CAProduction&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M729.41,-93.29C706.39,-78.66 673.15,-57.54 647.99,-41.55"/>
<polygon fill="black" stroke="black" points="649.78,-38.54 639.46,-36.13 646.03,-44.45 649.78,-38.54"/>
</g>
<!-- CellularAutomaton&#45;&gt;CAProduction -->
<g id="edge14" class="edge">
<title>CellularAutomaton&#45;&gt;CAProduction</title>
<path fill="none" stroke="black" d="M1003.32,-205.88C987.46,-199.16 971.15,-192.64 955.5,-187 899.9,-166.96 882.26,-173.22 827.5,-151 816.03,-146.35 804.03,-140.32 793.22,-134.43"/>
<polygon fill="black" stroke="black" points="794.91,-131.36 784.47,-129.54 791.49,-137.47 794.91,-131.36"/>
</g>
<!-- Tag -->
<g id="node12" class="node">
<title>Tag</title>
<path fill="none" stroke="black" d="M986.5,-151C986.5,-151 848.5,-151 848.5,-151 842.5,-151 836.5,-145 836.5,-139 836.5,-139 836.5,-84 836.5,-84 836.5,-78 842.5,-72 848.5,-72 848.5,-72 986.5,-72 986.5,-72 992.5,-72 998.5,-78 998.5,-84 998.5,-84 998.5,-139 998.5,-139 998.5,-145 992.5,-151 986.5,-151"/>
<polyline fill="none" stroke="black" points="843.5,-120.5 991.5,-120.5 "/>
<text text-anchor="start" x="903.5" y="-129.3" font-family="Times,serif" font-weight="bold" font-size="14.00">Tag</text>
<polygon fill="#cccccc" stroke="transparent" points="843.5,-97.5 843.5,-120.5 890.5,-120.5 890.5,-97.5 843.5,-97.5"/>
<polyline fill="none" stroke="black" points="843.5,-97.5 890.5,-97.5 890.5,-120.5 843.5,-120.5 "/>
<text text-anchor="start" x="847.5" y="-105.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="890.5,-97.5 890.5,-120.5 944.5,-120.5 944.5,-97.5 890.5,-97.5"/>
<polygon fill="none" stroke="black" points="890.5,-97.5 890.5,-120.5 944.5,-120.5 944.5,-97.5 890.5,-97.5"/>
<text text-anchor="start" x="894.5" y="-105.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="944.5,-97.5 944.5,-120.5 991.5,-120.5 991.5,-97.5 944.5,-97.5"/>
<polyline fill="none" stroke="black" points="991.5,-120.5 944.5,-120.5 944.5,-97.5 991.5,-97.5 "/>
<text text-anchor="start" x="948.5" y="-105.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="890.5,-78.5 890.5,-97.5 "/>
<text text-anchor="start" x="847.5" y="-85.5" font-family="monospace" font-size="10.00">tag</text>
<polyline fill="none" stroke="black" points="944.5,-78.5 944.5,-97.5 "/>
<text text-anchor="start" x="894.5" y="-85.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="947.5" y="-85.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Tag&#45;&gt;ALCAP -->
<g id="edge16" class="edge">
<title>Tag&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M836.29,-75.06C833.34,-74 830.4,-72.97 827.5,-72 769.28,-52.52 700.03,-36.72 656.17,-27.59"/>
<polygon fill="black" stroke="black" points="656.63,-24.11 646.13,-25.52 655.22,-30.96 656.63,-24.11"/>
</g>
</g>
</svg>
</div><div class="noweb-label">file:<i>src/Models/ALCAP/Example.jl</i></div><pre><code class="language- julia hljs">module Example

using Unitful
using ..ALCAP: ALCAP
using CarboKitten.Boxes: Box, Coast
using CarboKitten.Config: TimeProperties

&lt;&lt;alcap-example-input&gt;&gt;

end</code></pre><div class="noweb-label">file:<i>src/Models/ALCAP.jl</i></div><pre><code class="language- julia hljs">@compose module ALCAP
@mixin Tag, H5Writer, CAProduction, ActiveLayer, InitialSediment

using ..Common
using ..CAProduction: production
using ..TimeIntegration
using ..WaterDepth
using ModuleMixins: @for_each

export Input, Facies

function initial_state(input::AbstractInput)
    ca_state = CellularAutomaton.initial_state(input)
    for _ in 1:20
        CellularAutomaton.step!(input)(ca_state)
    end

    sediment_height = zeros(Height, input.box.grid_size...)
    sediment_buffer = zeros(Float64, input.sediment_buffer_size, n_facies(input), input.box.grid_size...)

    state = State(
        step=0, sediment_height=sediment_height,
        sediment_buffer=sediment_buffer,
        ca=ca_state.ca, ca_priority=ca_state.ca_priority)

    InitialSediment.push_initial_sediment!(input, state)
    return state
end

function step!(input::Input)
    step_ca! = CellularAutomaton.step!(input)
    disintegrate! = ActiveLayer.disintegrator(input)
    produce = production(input)
    transport! = ActiveLayer.transporter(input)

    function (state::State)
        if mod(state.step, input.ca_interval) == 0
            step_ca!(state)
        end

        p = produce(state)
        d = disintegrate!(state)

        active_layer = p .+ d
        transport!(state, active_layer)

        push_sediment!(state.sediment_buffer, active_layer ./ input.depositional_resolution .|&gt; NoUnits)
        state.sediment_height .+= sum(active_layer; dims=1)[1,:,:]
        state.step += 1

        return Frame(
            production = p,
            disintegration = d,
            deposition = active_layer)
    end
end

function write_header(fid, input::AbstractInput)
    @for_each(P -&gt; P.write_header(fid, input), PARENTS)
end

include(&quot;ALCAP/Example.jl&quot;)

end</code></pre><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ca-with-production/">« Model with CA and Production</a><a class="docs-footer-nextpage" href="../models/without-ca/">Model without CA »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Tuesday 20 May 2025 11:35">Tuesday 20 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
