<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ALCAPS · CarboKitten</title><meta name="title" content="ALCAPS · CarboKitten"/><meta property="og:title" content="ALCAPS · CarboKitten"/><meta property="twitter:title" content="ALCAPS · CarboKitten"/><meta name="description" content="Documentation for CarboKitten."/><meta property="og:description" content="Documentation for CarboKitten."/><meta property="twitter:description" content="Documentation for CarboKitten."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CarboKitten</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><span class="tocitem">Models</span><ul><li><a class="tocitem" href="../bosscher-1992/">Bosscher and Schlager 1992</a></li><li><a class="tocitem" href="../ca-with-production/">Model with CA and Production</a></li><li class="is-active"><a class="tocitem" href>ALCAPS</a><ul class="internal"><li><a class="tocitem" href="#Example-Input"><span>Example Input</span></a></li><li><a class="tocitem" href="#Modular-Implementation"><span>Modular Implementation</span></a></li><li><a class="tocitem" href="#API"><span>API</span></a></li></ul></li><li><a class="tocitem" href="../models/without-ca/">Model without CA</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../first_tutorial/">Tutorial (Pluto notebook)</a></li><li><a class="tocitem" href="../cases/tabular-sea-level/">Tabular Sea Levels</a></li></ul></li><li><a class="tocitem" href="../architecture/">Architecture</a></li><li><span class="tocitem">Model Components</span><ul><li><a class="tocitem" href="../components/components/">Components</a></li><li><a class="tocitem" href="../components/run_model/">Model Runner</a></li><li><a class="tocitem" href="../components/hdf5/">HDF5 Writer</a></li><li><a class="tocitem" href="../components/tag/">Tags</a></li><li><a class="tocitem" href="../components/boxes/">Boxes</a></li><li><a class="tocitem" href="../components/time/">Time</a></li><li><a class="tocitem" href="../components/facies/">Facies</a></li><li><a class="tocitem" href="../components/cellular-automata/">Cellular Automata</a></li><li><a class="tocitem" href="../components/waterdepth/">Water Depth</a></li><li><a class="tocitem" href="../components/production/">Production</a></li><li><a class="tocitem" href="../components/sediment_buffer/">Sediment Buffers</a></li><li><a class="tocitem" href="../active-layer-transport/">Active Layer Transport</a></li><li><a class="tocitem" href="../onshore-transport/">Onshore Transport</a></li></ul></li><li><a class="tocitem" href="../visualization/">Visualizations</a></li><li><span class="tocitem">CarboCAT</span><ul><li><a class="tocitem" href="../carbocat/">Summary</a></li></ul></li><li><span class="tocitem">Denudation</span><ul><li><a class="tocitem" href="../denudation/denudation/">Denudation</a></li><li><a class="tocitem" href="../denudation/empirical/">Empirical Denudation</a></li><li><a class="tocitem" href="../denudation/chemical/">Chemical Dissolution</a></li><li><a class="tocitem" href="../denudation/physical_erosion/">Physical Erosion</a></li></ul></li><li><span class="tocitem">Input &amp; Output</span><ul><li><a class="tocitem" href="../input-methods/">Input Methods</a></li><li><a class="tocitem" href="../data-export/">CSV Export</a></li></ul></li><li><span class="tocitem">Algorithms</span><ul><li><a class="tocitem" href="../unitful/">Unitful</a></li><li><a class="tocitem" href="../boxes/">Boxes</a></li><li><a class="tocitem" href="../stencils/">Stencils</a></li><li><a class="tocitem" href="../utility/">Utility</a></li><li><a class="tocitem" href="../finite-difference-transport/">Finite Difference</a></li></ul></li><li><a class="tocitem" href="../api/">API Documentation</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Models</a></li><li class="is-active"><a href>ALCAPS</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ALCAPS</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl/blob/main/docs/transpiled/model-alcap.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)"><a class="docs-heading-anchor" href="#Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)">Model with CA, Production and Active Layer transport (ALCAP)</a><a id="Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)-1"></a><a class="docs-heading-anchor-permalink" href="#Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)" title="Permalink"></a></h1><p>The following <strong>S</strong>edimentation model includes the Burgess 2013 <strong>C</strong>ellular <strong>A</strong>utomaton, Bosscher &amp; Schlager 1992 <strong>P</strong>roduction curves and an <strong>A</strong>ctive <strong>L</strong>ayer transport model, based on Paola 1992, henceforth ALCAP.</p><p><img src="../fig/alcaps-alternative.png" alt="Result from alternative input"/></p><h2 id="Example-Input"><a class="docs-heading-anchor" href="#Example-Input">Example Input</a><a id="Example-Input-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Input" title="Permalink"></a></h2><p>The following is a complete example input.</p><div class="noweb-label">⪡alcap-example-input⪢≣</div><pre><code class="language- julia hljs">const TAG = &quot;alcap-example&quot;

const FACIES = [
    ALCAP.Facies(
        viability_range = (4, 10),
        activation_range = (6, 10),
        maximum_growth_rate=500u&quot;m/Myr&quot;,
        extinction_coefficient=0.8u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=50.0u&quot;m/yr&quot;),
    ALCAP.Facies(
        viability_range = (4, 10),
        activation_range = (6, 10),
        maximum_growth_rate=400u&quot;m/Myr&quot;,
        extinction_coefficient=0.1u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=25.0u&quot;m/yr&quot;),
    ALCAP.Facies(
        viability_range = (4, 10),
        activation_range = (6, 10),
        maximum_growth_rate=100u&quot;m/Myr&quot;,
        extinction_coefficient=0.005u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=12.5u&quot;m/yr&quot;)
]

const PERIOD = 0.2u&quot;Myr&quot;
const AMPLITUDE = 4.0u&quot;m&quot;

const INPUT = ALCAP.Input(
    tag=&quot;$TAG&quot;,
    box=Box{Coast}(grid_size=(100, 50), phys_scale=150.0u&quot;m&quot;),
    time=TimeProperties(
        Δt=0.0002u&quot;Myr&quot;,
        steps=5000),
    output=Dict(
        :topography =&gt; OutputSpec(slice=(:,:), write_interval=10),
        :profile =&gt; OutputSpec(slice=(:, 25), write_interval=1)),
    ca_interval=1,
    initial_topography=(x, y) -&gt; -x / 300.0,
    sea_level=t -&gt; AMPLITUDE * sin(2π * t / PERIOD),
    subsidence_rate=50.0u&quot;m/Myr&quot;,
    disintegration_rate=50.0u&quot;m/Myr&quot;,
    insolation=400.0u&quot;W/m^2&quot;,
    sediment_buffer_size=50,
    depositional_resolution=0.5u&quot;m&quot;,
    facies=FACIES)</code></pre><div class="noweb-label">file:<i>examples/model/alcap/run.jl</i></div><pre><code class="language- julia hljs">#| requires: src/Models/ALCAP.jl
#| creates: data/output/alcap-example.h5

module Script

using Unitful
using CarboKitten
using CarboKitten.Export: read_slice, data_export, CSV

const PATH = &quot;data/output&quot;

&lt;&lt;alcap-example-input&gt;&gt;

function main()
    run_model(Model{ALCAP}, INPUT, &quot;$(PATH)/$(TAG).h5&quot;)
    header, profile = read_slice(&quot;$(PATH)/$(TAG).h5&quot;, :profile)
    columns = [profile[i] for i in 10:20:70]
    data_export(
        CSV(:sediment_accumulation_curve =&gt; &quot;$(PATH)/$(TAG)_sac.csv&quot;,
            :age_depth_model =&gt; &quot;$(PATH)/$(TAG)_adm.csv&quot;,
            :stratigraphic_column =&gt; &quot;$(PATH)/$(TAG)_sc.csv&quot;,
            :water_depth =&gt; &quot;$(PATH)/$(TAG)_wd.csv&quot;,
            :metadata =&gt; &quot;$(PATH)/$(TAG).toml&quot;),
         header,
         columns)
end

end

Script.main()</code></pre><details><summary>Plotting code</summary><div class="noweb-label">file:<i>examples/model/alcap/plot.jl</i></div><pre><code class="language- julia hljs">#| creates: docs/src/_fig/alcaps-alternative.png
#| requires: data/output/alcap-example.h5
#| collect: figures

using GLMakie
using CarboKitten.Visualization

GLMakie.activate!()

save(&quot;docs/src/_fig/alcaps-alternative.png&quot;, summary_plot(&quot;data/output/alcap-example.h5&quot;))</code></pre></details><h2 id="Modular-Implementation"><a class="docs-heading-anchor" href="#Modular-Implementation">Modular Implementation</a><a id="Modular-Implementation-1"></a><a class="docs-heading-anchor-permalink" href="#Modular-Implementation" title="Permalink"></a></h2><div class="component-dag" style="overflow: scroll"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Pages: 1 -->
<svg width="1331pt" height="599pt"
 viewBox="0.00 0.00 1331.00 599.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 595)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-595 1327,-595 1327,4 -4,4"/>
<!-- Boxes -->
<g id="node1" class="node">
<title>Boxes</title>
<path fill="none" stroke="black" d="M691.5,-591C691.5,-591 553.5,-591 553.5,-591 547.5,-591 541.5,-585 541.5,-579 541.5,-579 541.5,-524 541.5,-524 541.5,-518 547.5,-512 553.5,-512 553.5,-512 691.5,-512 691.5,-512 697.5,-512 703.5,-518 703.5,-524 703.5,-524 703.5,-579 703.5,-579 703.5,-585 697.5,-591 691.5,-591"/>
<polyline fill="none" stroke="black" points="548.5,-560.5 696.5,-560.5 "/>
<text text-anchor="start" x="599" y="-569.3" font-family="Times,serif" font-weight="bold" font-size="14.00">Boxes</text>
<polygon fill="#cccccc" stroke="transparent" points="548.5,-537.5 548.5,-560.5 595.5,-560.5 595.5,-537.5 548.5,-537.5"/>
<polyline fill="none" stroke="black" points="548.5,-537.5 595.5,-537.5 595.5,-560.5 548.5,-560.5 "/>
<text text-anchor="start" x="552.5" y="-545.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="595.5,-537.5 595.5,-560.5 649.5,-560.5 649.5,-537.5 595.5,-537.5"/>
<polygon fill="none" stroke="black" points="595.5,-537.5 595.5,-560.5 649.5,-560.5 649.5,-537.5 595.5,-537.5"/>
<text text-anchor="start" x="599.5" y="-545.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="649.5,-537.5 649.5,-560.5 696.5,-560.5 696.5,-537.5 649.5,-537.5"/>
<polyline fill="none" stroke="black" points="696.5,-560.5 649.5,-560.5 649.5,-537.5 696.5,-537.5 "/>
<text text-anchor="start" x="653.5" y="-545.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="595.5,-518.5 595.5,-537.5 "/>
<text text-anchor="start" x="552.5" y="-525.5" font-family="monospace" font-size="10.00">box</text>
<polyline fill="none" stroke="black" points="649.5,-518.5 649.5,-537.5 "/>
<text text-anchor="start" x="599.5" y="-525.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="652.5" y="-525.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth -->
<g id="node3" class="node">
<title>WaterDepth</title>
<path fill="none" stroke="black" d="M661.5,-476C661.5,-476 403.5,-476 403.5,-476 397.5,-476 391.5,-470 391.5,-464 391.5,-464 391.5,-371 391.5,-371 391.5,-365 397.5,-359 403.5,-359 403.5,-359 661.5,-359 661.5,-359 667.5,-359 673.5,-365 673.5,-371 673.5,-371 673.5,-464 673.5,-464 673.5,-470 667.5,-476 661.5,-476"/>
<polyline fill="none" stroke="black" points="398.5,-445.5 666.5,-445.5 "/>
<text text-anchor="start" x="485" y="-454.3" font-family="Times,serif" font-weight="bold" font-size="14.00">WaterDepth</text>
<polygon fill="#cccccc" stroke="transparent" points="398.5,-422.5 398.5,-445.5 515.5,-445.5 515.5,-422.5 398.5,-422.5"/>
<polyline fill="none" stroke="black" points="398.5,-422.5 515.5,-422.5 515.5,-445.5 398.5,-445.5 "/>
<text text-anchor="start" x="402.5" y="-430.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="515.5,-422.5 515.5,-445.5 569.5,-445.5 569.5,-422.5 515.5,-422.5"/>
<polygon fill="none" stroke="black" points="515.5,-422.5 515.5,-445.5 569.5,-445.5 569.5,-422.5 515.5,-422.5"/>
<text text-anchor="start" x="519.5" y="-430.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="569.5,-422.5 569.5,-445.5 666.5,-445.5 666.5,-422.5 569.5,-422.5"/>
<polyline fill="none" stroke="black" points="666.5,-445.5 569.5,-445.5 569.5,-422.5 666.5,-422.5 "/>
<text text-anchor="start" x="573.5" y="-430.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="515.5,-403.5 515.5,-422.5 "/>
<text text-anchor="start" x="402.5" y="-410.5" font-family="monospace" font-size="10.00">sea_level</text>
<polyline fill="none" stroke="black" points="569.5,-403.5 569.5,-422.5 "/>
<text text-anchor="start" x="519.5" y="-410.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="572.5" y="-410.5" font-family="monospace" font-size="10.00">sediment_height</text>
<polyline fill="none" stroke="black" points="515.5,-384.5 515.5,-403.5 "/>
<text text-anchor="start" x="402.5" y="-391.5" font-family="monospace" font-size="10.00">initial_topography</text>
<polyline fill="none" stroke="black" points="569.5,-384.5 569.5,-403.5 "/>
<text text-anchor="start" x="519.5" y="-391.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="572.5" y="-391.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="515.5,-365.5 515.5,-384.5 "/>
<text text-anchor="start" x="402.5" y="-372.5" font-family="monospace" font-size="10.00">subsidence_rate</text>
<polyline fill="none" stroke="black" points="569.5,-365.5 569.5,-384.5 "/>
<text text-anchor="start" x="519.5" y="-372.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="572.5" y="-372.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;WaterDepth -->
<g id="edge2" class="edge">
<title>Boxes&#45;&gt;WaterDepth</title>
<path fill="none" stroke="black" d="M596.23,-511.97C590.43,-503.46 584.12,-494.21 577.81,-484.95"/>
<polygon fill="black" stroke="black" points="580.55,-482.76 572.02,-476.47 574.77,-486.7 580.55,-482.76"/>
</g>
<!-- SedimentBuffer -->
<g id="node6" class="node">
<title>SedimentBuffer</title>
<path fill="none" stroke="black" d="M361.5,-466.5C361.5,-466.5 73.5,-466.5 73.5,-466.5 67.5,-466.5 61.5,-460.5 61.5,-454.5 61.5,-454.5 61.5,-380.5 61.5,-380.5 61.5,-374.5 67.5,-368.5 73.5,-368.5 73.5,-368.5 361.5,-368.5 361.5,-368.5 367.5,-368.5 373.5,-374.5 373.5,-380.5 373.5,-380.5 373.5,-454.5 373.5,-454.5 373.5,-460.5 367.5,-466.5 361.5,-466.5"/>
<polyline fill="none" stroke="black" points="68.5,-436.5 366.5,-436.5 "/>
<text text-anchor="start" x="154.5" y="-445.3" font-family="Times,serif" font-weight="bold" font-size="14.00">SedimentBuffer</text>
<polygon fill="#cccccc" stroke="transparent" points="68.5,-413.5 68.5,-436.5 215.5,-436.5 215.5,-413.5 68.5,-413.5"/>
<polyline fill="none" stroke="black" points="68.5,-413.5 215.5,-413.5 215.5,-436.5 68.5,-436.5 "/>
<text text-anchor="start" x="72.5" y="-421.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="215.5,-413.5 215.5,-436.5 269.5,-436.5 269.5,-413.5 215.5,-413.5"/>
<polygon fill="none" stroke="black" points="215.5,-413.5 215.5,-436.5 269.5,-436.5 269.5,-413.5 215.5,-413.5"/>
<text text-anchor="start" x="219.5" y="-421.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="269.5,-413.5 269.5,-436.5 366.5,-436.5 366.5,-413.5 269.5,-413.5"/>
<polyline fill="none" stroke="black" points="366.5,-436.5 269.5,-436.5 269.5,-413.5 366.5,-413.5 "/>
<text text-anchor="start" x="273.5" y="-421.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="215.5,-394.5 215.5,-413.5 "/>
<text text-anchor="start" x="72.5" y="-401.5" font-family="monospace" font-size="10.00">sediment_buffer_size</text>
<polyline fill="none" stroke="black" points="269.5,-394.5 269.5,-413.5 "/>
<text text-anchor="start" x="219.5" y="-401.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="272.5" y="-401.5" font-family="monospace" font-size="10.00">sediment_buffer</text>
<polyline fill="none" stroke="black" points="215.5,-375.5 215.5,-394.5 "/>
<text text-anchor="start" x="72.5" y="-382.5" font-family="monospace" font-size="10.00">depositional_resolution</text>
<polyline fill="none" stroke="black" points="269.5,-375.5 269.5,-394.5 "/>
<text text-anchor="start" x="219.5" y="-382.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="272.5" y="-382.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;SedimentBuffer -->
<g id="edge13" class="edge">
<title>Boxes&#45;&gt;SedimentBuffer</title>
<path fill="none" stroke="black" d="M541.3,-515.04C538.34,-513.98 535.4,-512.96 532.5,-512 467.42,-490.44 448.29,-495.3 382.5,-476 375.6,-473.97 368.55,-471.83 361.46,-469.61"/>
<polygon fill="black" stroke="black" points="362.35,-466.22 351.76,-466.53 360.24,-472.89 362.35,-466.22"/>
</g>
<!-- CellularAutomaton -->
<g id="node11" class="node">
<title>CellularAutomaton</title>
<path fill="none" stroke="black" d="M1311,-304C1311,-304 1050,-304 1050,-304 1044,-304 1038,-298 1038,-292 1038,-292 1038,-218 1038,-218 1038,-212 1044,-206 1050,-206 1050,-206 1311,-206 1311,-206 1317,-206 1323,-212 1323,-218 1323,-218 1323,-292 1323,-292 1323,-298 1317,-304 1311,-304"/>
<polyline fill="none" stroke="black" points="1045.5,-274 1316.5,-274 "/>
<text text-anchor="start" x="1105.5" y="-282.8" font-family="Times,serif" font-weight="bold" font-size="14.00">CellularAutomaton</text>
<polygon fill="#cccccc" stroke="transparent" points="1045.5,-251 1045.5,-274 1138.5,-274 1138.5,-251 1045.5,-251"/>
<polyline fill="none" stroke="black" points="1045.5,-251 1138.5,-251 1138.5,-274 1045.5,-274 "/>
<text text-anchor="start" x="1049.5" y="-258.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="1138.5,-251 1138.5,-274 1243.5,-274 1243.5,-251 1138.5,-251"/>
<polygon fill="none" stroke="black" points="1138.5,-251 1138.5,-274 1243.5,-274 1243.5,-251 1138.5,-251"/>
<text text-anchor="start" x="1142.5" y="-258.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="1243.5,-251 1243.5,-274 1316.5,-274 1316.5,-251 1243.5,-251"/>
<polyline fill="none" stroke="black" points="1316.5,-274 1243.5,-274 1243.5,-251 1316.5,-251 "/>
<text text-anchor="start" x="1247.5" y="-258.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="1138.5,-232 1138.5,-251 "/>
<text text-anchor="start" x="1049.5" y="-239" font-family="monospace" font-size="10.00">ca_interval</text>
<polyline fill="none" stroke="black" points="1243.5,-232 1243.5,-251 "/>
<text text-anchor="start" x="1142.5" y="-239" font-family="monospace" font-size="10.00">viability_range</text>
<text text-anchor="start" x="1246.5" y="-239" font-family="monospace" font-size="10.00">ca</text>
<polyline fill="none" stroke="black" points="1138.5,-213 1138.5,-232 "/>
<text text-anchor="start" x="1049.5" y="-220" font-family="monospace" font-size="10.00">ca_random_seed</text>
<polyline fill="none" stroke="black" points="1243.5,-213 1243.5,-232 "/>
<text text-anchor="start" x="1142.5" y="-220" font-family="monospace" font-size="10.00">activation_range</text>
<text text-anchor="start" x="1246.5" y="-220" font-family="monospace" font-size="10.00">ca_priority</text>
</g>
<!-- Boxes&#45;&gt;CellularAutomaton -->
<g id="edge21" class="edge">
<title>Boxes&#45;&gt;CellularAutomaton</title>
<path fill="none" stroke="black" d="M703.73,-531.88C751.35,-519.36 811.9,-500.64 862.5,-476 955.93,-430.51 1052.65,-359.59 1114.51,-310.63"/>
<polygon fill="black" stroke="black" points="1116.98,-313.14 1122.63,-304.17 1112.62,-307.66 1116.98,-313.14"/>
</g>
<!-- TimeIntegration -->
<g id="node2" class="node">
<title>TimeIntegration</title>
<path fill="none" stroke="black" d="M511.5,-591C511.5,-591 373.5,-591 373.5,-591 367.5,-591 361.5,-585 361.5,-579 361.5,-579 361.5,-524 361.5,-524 361.5,-518 367.5,-512 373.5,-512 373.5,-512 511.5,-512 511.5,-512 517.5,-512 523.5,-518 523.5,-524 523.5,-524 523.5,-579 523.5,-579 523.5,-585 517.5,-591 511.5,-591"/>
<polyline fill="none" stroke="black" points="368.5,-560.5 516.5,-560.5 "/>
<text text-anchor="start" x="377" y="-569.3" font-family="Times,serif" font-weight="bold" font-size="14.00">TimeIntegration</text>
<polygon fill="#cccccc" stroke="transparent" points="368.5,-537.5 368.5,-560.5 415.5,-560.5 415.5,-537.5 368.5,-537.5"/>
<polyline fill="none" stroke="black" points="368.5,-537.5 415.5,-537.5 415.5,-560.5 368.5,-560.5 "/>
<text text-anchor="start" x="372.5" y="-545.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="415.5,-537.5 415.5,-560.5 469.5,-560.5 469.5,-537.5 415.5,-537.5"/>
<polygon fill="none" stroke="black" points="415.5,-537.5 415.5,-560.5 469.5,-560.5 469.5,-537.5 415.5,-537.5"/>
<text text-anchor="start" x="419.5" y="-545.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="469.5,-537.5 469.5,-560.5 516.5,-560.5 516.5,-537.5 469.5,-537.5"/>
<polyline fill="none" stroke="black" points="516.5,-560.5 469.5,-560.5 469.5,-537.5 516.5,-537.5 "/>
<text text-anchor="start" x="473.5" y="-545.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="415.5,-518.5 415.5,-537.5 "/>
<text text-anchor="start" x="372.5" y="-525.5" font-family="monospace" font-size="10.00">time</text>
<polyline fill="none" stroke="black" points="469.5,-518.5 469.5,-537.5 "/>
<text text-anchor="start" x="419.5" y="-525.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="472.5" y="-525.5" font-family="monospace" font-size="10.00">step</text>
</g>
<!-- TimeIntegration&#45;&gt;WaterDepth -->
<g id="edge1" class="edge">
<title>TimeIntegration&#45;&gt;WaterDepth</title>
<path fill="none" stroke="black" d="M468.77,-511.97C474.57,-503.46 480.88,-494.21 487.19,-484.95"/>
<polygon fill="black" stroke="black" points="490.23,-486.7 492.98,-476.47 484.45,-482.76 490.23,-486.7"/>
</g>
<!-- ActiveLayer -->
<g id="node4" class="node">
<title>ActiveLayer</title>
<path fill="none" stroke="black" d="M538,-323C538,-323 243,-323 243,-323 237,-323 231,-317 231,-311 231,-311 231,-199 231,-199 231,-193 237,-187 243,-187 243,-187 538,-187 538,-187 544,-187 550,-193 550,-199 550,-199 550,-311 550,-311 550,-317 544,-323 538,-323"/>
<polyline fill="none" stroke="black" points="238.5,-293 543.5,-293 "/>
<text text-anchor="start" x="345" y="-301.8" font-family="Times,serif" font-weight="bold" font-size="14.00">ActiveLayer</text>
<polygon fill="#cccccc" stroke="transparent" points="238.5,-270 238.5,-293 361.5,-293 361.5,-270 238.5,-270"/>
<polyline fill="none" stroke="black" points="238.5,-270 361.5,-270 361.5,-293 238.5,-293 "/>
<text text-anchor="start" x="242.5" y="-277.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="361.5,-270 361.5,-293 496.5,-293 496.5,-270 361.5,-270"/>
<polygon fill="none" stroke="black" points="361.5,-270 361.5,-293 496.5,-293 496.5,-270 361.5,-270"/>
<text text-anchor="start" x="365.5" y="-277.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="496.5,-270 496.5,-293 543.5,-293 543.5,-270 496.5,-270"/>
<polyline fill="none" stroke="black" points="543.5,-293 496.5,-293 496.5,-270 543.5,-270 "/>
<text text-anchor="start" x="500.5" y="-277.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="361.5,-251 361.5,-270 "/>
<text text-anchor="start" x="242.5" y="-258" font-family="monospace" font-size="10.00">intertidal_zone</text>
<polyline fill="none" stroke="black" points="496.5,-251 496.5,-270 "/>
<text text-anchor="start" x="365.5" y="-258" font-family="monospace" font-size="10.00">diffusion_coefficient</text>
<text text-anchor="start" x="499.5" y="-258" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="361.5,-232 361.5,-251 "/>
<text text-anchor="start" x="242.5" y="-239" font-family="monospace" font-size="10.00">disintegration_rate</text>
<polyline fill="none" stroke="black" points="496.5,-232 496.5,-251 "/>
<text text-anchor="start" x="365.5" y="-239" font-family="monospace" font-size="10.00">wave_velocity</text>
<text text-anchor="start" x="499.5" y="-239" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="361.5,-213 361.5,-232 "/>
<text text-anchor="start" x="242.5" y="-220" font-family="monospace" font-size="10.00">transport_solver</text>
<polyline fill="none" stroke="black" points="496.5,-213 496.5,-232 "/>
<text text-anchor="start" x="365.5" y="-220" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="499.5" y="-220" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="361.5,-194 361.5,-213 "/>
<text text-anchor="start" x="242.5" y="-201" font-family="monospace" font-size="10.00">transport_substeps</text>
<polyline fill="none" stroke="black" points="496.5,-194 496.5,-213 "/>
<text text-anchor="start" x="365.5" y="-201" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="499.5" y="-201" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;ActiveLayer -->
<g id="edge3" class="edge">
<title>WaterDepth&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M481.23,-358.56C473.21,-349.49 464.82,-340.01 456.52,-330.63"/>
<polygon fill="black" stroke="black" points="459.15,-328.31 449.9,-323.14 453.9,-332.95 459.15,-328.31"/>
</g>
<!-- InitialSediment -->
<g id="node7" class="node">
<title>InitialSediment</title>
<path fill="none" stroke="black" d="M201,-294.5C201,-294.5 12,-294.5 12,-294.5 6,-294.5 0,-288.5 0,-282.5 0,-282.5 0,-227.5 0,-227.5 0,-221.5 6,-215.5 12,-215.5 12,-215.5 201,-215.5 201,-215.5 207,-215.5 213,-221.5 213,-227.5 213,-227.5 213,-282.5 213,-282.5 213,-288.5 207,-294.5 201,-294.5"/>
<polyline fill="none" stroke="black" points="7.5,-264 206.5,-264 "/>
<text text-anchor="start" x="45" y="-272.8" font-family="Times,serif" font-weight="bold" font-size="14.00">InitialSediment</text>
<polygon fill="#cccccc" stroke="transparent" points="7.5,-241 7.5,-264 54.5,-264 54.5,-241 7.5,-241"/>
<polyline fill="none" stroke="black" points="7.5,-241 54.5,-241 54.5,-264 7.5,-264 "/>
<text text-anchor="start" x="11.5" y="-248.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="54.5,-241 54.5,-264 159.5,-264 159.5,-241 54.5,-241"/>
<polygon fill="none" stroke="black" points="54.5,-241 54.5,-264 159.5,-264 159.5,-241 54.5,-241"/>
<text text-anchor="start" x="58.5" y="-248.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="159.5,-241 159.5,-264 206.5,-264 206.5,-241 159.5,-241"/>
<polyline fill="none" stroke="black" points="206.5,-264 159.5,-264 159.5,-241 206.5,-241 "/>
<text text-anchor="start" x="163.5" y="-248.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="54.5,-222 54.5,-241 "/>
<text text-anchor="start" x="11.5" y="-229" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="159.5,-222 159.5,-241 "/>
<text text-anchor="start" x="58.5" y="-229" font-family="monospace" font-size="10.00">initial_sediment</text>
<text text-anchor="start" x="162.5" y="-229" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;InitialSediment -->
<g id="edge7" class="edge">
<title>WaterDepth&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M391.38,-361.74C388.4,-360.8 385.44,-359.89 382.5,-359 312.3,-337.82 289.76,-349.77 221.5,-323 205.41,-316.69 188.9,-308.34 173.59,-299.69"/>
<polygon fill="black" stroke="black" points="175.14,-296.54 164.73,-294.58 171.64,-302.61 175.14,-296.54"/>
</g>
<!-- H5Writer -->
<g id="node8" class="node">
<title>H5Writer</title>
<path fill="none" stroke="black" d="M718.5,-294.5C718.5,-294.5 580.5,-294.5 580.5,-294.5 574.5,-294.5 568.5,-288.5 568.5,-282.5 568.5,-282.5 568.5,-227.5 568.5,-227.5 568.5,-221.5 574.5,-215.5 580.5,-215.5 580.5,-215.5 718.5,-215.5 718.5,-215.5 724.5,-215.5 730.5,-221.5 730.5,-227.5 730.5,-227.5 730.5,-282.5 730.5,-282.5 730.5,-288.5 724.5,-294.5 718.5,-294.5"/>
<polyline fill="none" stroke="black" points="575.5,-264 723.5,-264 "/>
<text text-anchor="start" x="612" y="-272.8" font-family="Times,serif" font-weight="bold" font-size="14.00">H5Writer</text>
<polygon fill="#cccccc" stroke="transparent" points="575.5,-241 575.5,-264 622.5,-264 622.5,-241 575.5,-241"/>
<polyline fill="none" stroke="black" points="575.5,-241 622.5,-241 622.5,-264 575.5,-264 "/>
<text text-anchor="start" x="579.5" y="-248.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="622.5,-241 622.5,-264 676.5,-264 676.5,-241 622.5,-241"/>
<polygon fill="none" stroke="black" points="622.5,-241 622.5,-264 676.5,-264 676.5,-241 622.5,-241"/>
<text text-anchor="start" x="626.5" y="-248.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="676.5,-241 676.5,-264 723.5,-264 723.5,-241 676.5,-241"/>
<polyline fill="none" stroke="black" points="723.5,-264 676.5,-264 676.5,-241 723.5,-241 "/>
<text text-anchor="start" x="680.5" y="-248.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="622.5,-222 622.5,-241 "/>
<text text-anchor="start" x="579.5" y="-229" font-family="monospace" font-size="10.00">output</text>
<polyline fill="none" stroke="black" points="676.5,-222 676.5,-241 "/>
<text text-anchor="start" x="626.5" y="-229" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="679.5" y="-229" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;H5Writer -->
<g id="edge10" class="edge">
<title>WaterDepth&#45;&gt;H5Writer</title>
<path fill="none" stroke="black" d="M574.74,-358.56C588.01,-340.34 602.5,-320.47 615.16,-303.11"/>
<polygon fill="black" stroke="black" points="618.15,-304.94 621.21,-294.8 612.5,-300.82 618.15,-304.94"/>
</g>
<!-- Production -->
<g id="node9" class="node">
<title>Production</title>
<path fill="none" stroke="black" d="M1008,-313.5C1008,-313.5 761,-313.5 761,-313.5 755,-313.5 749,-307.5 749,-301.5 749,-301.5 749,-208.5 749,-208.5 749,-202.5 755,-196.5 761,-196.5 761,-196.5 1008,-196.5 1008,-196.5 1014,-196.5 1020,-202.5 1020,-208.5 1020,-208.5 1020,-301.5 1020,-301.5 1020,-307.5 1014,-313.5 1008,-313.5"/>
<polyline fill="none" stroke="black" points="756.5,-283 1013.5,-283 "/>
<text text-anchor="start" x="841" y="-291.8" font-family="Times,serif" font-weight="bold" font-size="14.00">Production</text>
<polygon fill="#cccccc" stroke="transparent" points="756.5,-260 756.5,-283 825.5,-283 825.5,-260 756.5,-260"/>
<polyline fill="none" stroke="black" points="756.5,-260 825.5,-260 825.5,-283 756.5,-283 "/>
<text text-anchor="start" x="760.5" y="-267.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="825.5,-260 825.5,-283 966.5,-283 966.5,-260 825.5,-260"/>
<polygon fill="none" stroke="black" points="825.5,-260 825.5,-283 966.5,-283 966.5,-260 825.5,-260"/>
<text text-anchor="start" x="829.5" y="-267.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="966.5,-260 966.5,-283 1013.5,-283 1013.5,-260 966.5,-260"/>
<polyline fill="none" stroke="black" points="1013.5,-283 966.5,-283 966.5,-260 1013.5,-260 "/>
<text text-anchor="start" x="970.5" y="-267.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="825.5,-241 825.5,-260 "/>
<text text-anchor="start" x="760.5" y="-248" font-family="monospace" font-size="10.00">insolation</text>
<polyline fill="none" stroke="black" points="966.5,-241 966.5,-260 "/>
<text text-anchor="start" x="829.5" y="-248" font-family="monospace" font-size="10.00">maximum_growth_rate</text>
<text text-anchor="start" x="969.5" y="-248" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="825.5,-222 825.5,-241 "/>
<text text-anchor="start" x="760.5" y="-229" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="966.5,-222 966.5,-241 "/>
<text text-anchor="start" x="829.5" y="-229" font-family="monospace" font-size="10.00">extinction_coefficient</text>
<text text-anchor="start" x="969.5" y="-229" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="825.5,-203 825.5,-222 "/>
<text text-anchor="start" x="760.5" y="-210" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="966.5,-203 966.5,-222 "/>
<text text-anchor="start" x="829.5" y="-210" font-family="monospace" font-size="10.00">saturation_intensity</text>
<text text-anchor="start" x="969.5" y="-210" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;Production -->
<g id="edge11" class="edge">
<title>WaterDepth&#45;&gt;Production</title>
<path fill="none" stroke="black" d="M660.39,-358.94C686.58,-347.09 713.94,-334.68 739.5,-323 743.16,-321.33 746.86,-319.63 750.6,-317.92"/>
<polygon fill="black" stroke="black" points="752.32,-320.98 759.96,-313.63 749.41,-314.62 752.32,-320.98"/>
</g>
<!-- ALCAP -->
<g id="node13" class="node">
<title>ALCAP</title>
<path fill="none" stroke="black" d="M671,-36C671,-36 628,-36 628,-36 622,-36 616,-30 616,-24 616,-24 616,-12 616,-12 616,-6 622,0 628,0 628,0 671,0 671,0 677,0 683,-6 683,-12 683,-12 683,-24 683,-24 683,-30 677,-36 671,-36"/>
<text text-anchor="start" x="623" y="-15.3" font-family="Times,serif" font-weight="bold" font-size="14.00">ALCAP</text>
</g>
<!-- ActiveLayer&#45;&gt;ALCAP -->
<g id="edge19" class="edge">
<title>ActiveLayer&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M464.37,-186.97C517.33,-138.92 585.62,-76.96 622.68,-43.34"/>
<polygon fill="black" stroke="black" points="625.48,-45.52 630.53,-36.21 620.77,-40.34 625.48,-45.52"/>
</g>
<!-- FaciesBase -->
<g id="node5" class="node">
<title>FaciesBase</title>
<path fill="none" stroke="black" d="M841.5,-457C841.5,-457 703.5,-457 703.5,-457 697.5,-457 691.5,-451 691.5,-445 691.5,-445 691.5,-390 691.5,-390 691.5,-384 697.5,-378 703.5,-378 703.5,-378 841.5,-378 841.5,-378 847.5,-378 853.5,-384 853.5,-390 853.5,-390 853.5,-445 853.5,-445 853.5,-451 847.5,-457 841.5,-457"/>
<polyline fill="none" stroke="black" points="698.5,-426.5 846.5,-426.5 "/>
<text text-anchor="start" x="728.5" y="-435.3" font-family="Times,serif" font-weight="bold" font-size="14.00">FaciesBase</text>
<polygon fill="#cccccc" stroke="transparent" points="698.5,-403.5 698.5,-426.5 745.5,-426.5 745.5,-403.5 698.5,-403.5"/>
<polyline fill="none" stroke="black" points="698.5,-403.5 745.5,-403.5 745.5,-426.5 698.5,-426.5 "/>
<text text-anchor="start" x="702.5" y="-411.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="745.5,-403.5 745.5,-426.5 799.5,-426.5 799.5,-403.5 745.5,-403.5"/>
<polygon fill="none" stroke="black" points="745.5,-403.5 745.5,-426.5 799.5,-426.5 799.5,-403.5 745.5,-403.5"/>
<text text-anchor="start" x="749.5" y="-411.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="799.5,-403.5 799.5,-426.5 846.5,-426.5 846.5,-403.5 799.5,-403.5"/>
<polyline fill="none" stroke="black" points="846.5,-426.5 799.5,-426.5 799.5,-403.5 846.5,-403.5 "/>
<text text-anchor="start" x="803.5" y="-411.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="745.5,-384.5 745.5,-403.5 "/>
<text text-anchor="start" x="702.5" y="-391.5" font-family="monospace" font-size="10.00">facies</text>
<polyline fill="none" stroke="black" points="799.5,-384.5 799.5,-403.5 "/>
<text text-anchor="start" x="749.5" y="-391.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="802.5" y="-391.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- FaciesBase&#45;&gt;ActiveLayer -->
<g id="edge4" class="edge">
<title>FaciesBase&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M717.23,-377.75C706.05,-370.91 694.15,-364.29 682.5,-359 630.65,-335.43 613.37,-341.52 559.5,-323 559.4,-322.97 559.3,-322.93 559.21,-322.9"/>
<polygon fill="black" stroke="black" points="560.62,-319.68 550.02,-319.7 558.31,-326.29 560.62,-319.68"/>
</g>
<!-- FaciesBase&#45;&gt;InitialSediment -->
<g id="edge6" class="edge">
<title>FaciesBase&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M721.4,-377.83C709.22,-370.36 695.86,-363.48 682.5,-359 487.63,-293.72 417.67,-384.27 221.5,-323 203.91,-317.51 186.13,-308.94 169.97,-299.74"/>
<polygon fill="black" stroke="black" points="171.57,-296.62 161.17,-294.58 168.03,-302.66 171.57,-296.62"/>
</g>
<!-- FaciesBase&#45;&gt;H5Writer -->
<g id="edge9" class="edge">
<title>FaciesBase&#45;&gt;H5Writer</title>
<path fill="none" stroke="black" d="M742.73,-377.65C725.49,-355.16 703.68,-326.69 685.48,-302.95"/>
<polygon fill="black" stroke="black" points="688.07,-300.58 679.21,-294.77 682.52,-304.84 688.07,-300.58"/>
</g>
<!-- FaciesBase&#45;&gt;Production -->
<g id="edge12" class="edge">
<title>FaciesBase&#45;&gt;Production</title>
<path fill="none" stroke="black" d="M799.61,-377.65C811.29,-360.92 825.27,-340.88 838.48,-321.95"/>
<polygon fill="black" stroke="black" points="841.43,-323.83 844.29,-313.63 835.69,-319.83 841.43,-323.83"/>
</g>
<!-- FaciesBase&#45;&gt;CellularAutomaton -->
<g id="edge22" class="edge">
<title>FaciesBase&#45;&gt;CellularAutomaton</title>
<path fill="none" stroke="black" d="M853.78,-388.54C904.61,-370.65 971.26,-346.48 1029.5,-323 1041.04,-318.35 1053.01,-313.34 1064.93,-308.25"/>
<polygon fill="black" stroke="black" points="1066.67,-311.31 1074.47,-304.14 1063.9,-304.88 1066.67,-311.31"/>
</g>
<!-- SedimentBuffer&#45;&gt;ActiveLayer -->
<g id="edge5" class="edge">
<title>SedimentBuffer&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M269.41,-368.34C282.34,-356.35 296.51,-343.2 310.45,-330.27"/>
<polygon fill="black" stroke="black" points="313.21,-332.48 318.16,-323.11 308.45,-327.35 313.21,-332.48"/>
</g>
<!-- SedimentBuffer&#45;&gt;InitialSediment -->
<g id="edge8" class="edge">
<title>SedimentBuffer&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M184.2,-368.34C169.88,-347.65 153.21,-323.55 138.99,-302.98"/>
<polygon fill="black" stroke="black" points="141.83,-300.94 133.27,-294.7 136.08,-304.92 141.83,-300.94"/>
</g>
<!-- InitialSediment&#45;&gt;ALCAP -->
<g id="edge20" class="edge">
<title>InitialSediment&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M169.23,-215.4C185.97,-205.67 204.21,-195.56 221.5,-187 357.67,-119.56 527.98,-59.52 606.37,-33.17"/>
<polygon fill="black" stroke="black" points="607.54,-36.47 615.91,-29.98 605.32,-29.83 607.54,-36.47"/>
</g>
<!-- H5Writer&#45;&gt;ALCAP -->
<g id="edge17" class="edge">
<title>H5Writer&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M649.5,-215.46C649.5,-167.88 649.5,-88.17 649.5,-46.41"/>
<polygon fill="black" stroke="black" points="653,-46.17 649.5,-36.17 646,-46.17 653,-46.17"/>
</g>
<!-- CAProduction -->
<g id="node10" class="node">
<title>CAProduction</title>
<path fill="none" stroke="black" d="M861,-129.5C861,-129.5 762,-129.5 762,-129.5 756,-129.5 750,-123.5 750,-117.5 750,-117.5 750,-105.5 750,-105.5 750,-99.5 756,-93.5 762,-93.5 762,-93.5 861,-93.5 861,-93.5 867,-93.5 873,-99.5 873,-105.5 873,-105.5 873,-117.5 873,-117.5 873,-123.5 867,-129.5 861,-129.5"/>
<text text-anchor="start" x="757" y="-108.8" font-family="Times,serif" font-weight="bold" font-size="14.00">CAProduction</text>
</g>
<!-- Production&#45;&gt;CAProduction -->
<g id="edge15" class="edge">
<title>Production&#45;&gt;CAProduction</title>
<path fill="none" stroke="black" d="M854.81,-196.45C844.45,-176.36 833.33,-154.81 824.95,-138.57"/>
<polygon fill="black" stroke="black" points="828.06,-136.96 820.36,-129.67 821.83,-140.17 828.06,-136.96"/>
</g>
<!-- CAProduction&#45;&gt;ALCAP -->
<g id="edge18" class="edge">
<title>CAProduction&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M781.03,-93.29C754.89,-78.53 717.08,-57.17 688.69,-41.14"/>
<polygon fill="black" stroke="black" points="690.26,-38 679.83,-36.13 686.82,-44.1 690.26,-38"/>
</g>
<!-- CellularAutomaton&#45;&gt;CAProduction -->
<g id="edge14" class="edge">
<title>CellularAutomaton&#45;&gt;CAProduction</title>
<path fill="none" stroke="black" d="M1078.72,-205.92C1062.45,-199.08 1045.65,-192.51 1029.5,-187 965.84,-165.27 945.25,-175.23 882.5,-151 870.85,-146.5 858.71,-140.47 847.84,-134.52"/>
<polygon fill="black" stroke="black" points="849.47,-131.43 839.04,-129.58 846.04,-137.53 849.47,-131.43"/>
</g>
<!-- Tag -->
<g id="node12" class="node">
<title>Tag</title>
<path fill="none" stroke="black" d="M1041.5,-151C1041.5,-151 903.5,-151 903.5,-151 897.5,-151 891.5,-145 891.5,-139 891.5,-139 891.5,-84 891.5,-84 891.5,-78 897.5,-72 903.5,-72 903.5,-72 1041.5,-72 1041.5,-72 1047.5,-72 1053.5,-78 1053.5,-84 1053.5,-84 1053.5,-139 1053.5,-139 1053.5,-145 1047.5,-151 1041.5,-151"/>
<polyline fill="none" stroke="black" points="898.5,-120.5 1046.5,-120.5 "/>
<text text-anchor="start" x="958.5" y="-129.3" font-family="Times,serif" font-weight="bold" font-size="14.00">Tag</text>
<polygon fill="#cccccc" stroke="transparent" points="898.5,-97.5 898.5,-120.5 945.5,-120.5 945.5,-97.5 898.5,-97.5"/>
<polyline fill="none" stroke="black" points="898.5,-97.5 945.5,-97.5 945.5,-120.5 898.5,-120.5 "/>
<text text-anchor="start" x="902.5" y="-105.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="945.5,-97.5 945.5,-120.5 999.5,-120.5 999.5,-97.5 945.5,-97.5"/>
<polygon fill="none" stroke="black" points="945.5,-97.5 945.5,-120.5 999.5,-120.5 999.5,-97.5 945.5,-97.5"/>
<text text-anchor="start" x="949.5" y="-105.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="999.5,-97.5 999.5,-120.5 1046.5,-120.5 1046.5,-97.5 999.5,-97.5"/>
<polyline fill="none" stroke="black" points="1046.5,-120.5 999.5,-120.5 999.5,-97.5 1046.5,-97.5 "/>
<text text-anchor="start" x="1003.5" y="-105.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="945.5,-78.5 945.5,-97.5 "/>
<text text-anchor="start" x="902.5" y="-85.5" font-family="monospace" font-size="10.00">tag</text>
<polyline fill="none" stroke="black" points="999.5,-78.5 999.5,-97.5 "/>
<text text-anchor="start" x="949.5" y="-85.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="1002.5" y="-85.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Tag&#45;&gt;ALCAP -->
<g id="edge16" class="edge">
<title>Tag&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M891.32,-74.99C888.35,-73.95 885.41,-72.94 882.5,-72 817.8,-50.99 740.4,-35.15 693.1,-26.48"/>
<polygon fill="black" stroke="black" points="693.66,-23.02 683.2,-24.69 692.41,-29.91 693.66,-23.02"/>
</g>
</g>
</svg>
</div><div class="noweb-label">file:<i>src/Models/ALCAP/Example.jl</i></div><pre><code class="language- julia hljs">module Example

using Unitful
using ..ALCAP: ALCAP
using CarboKitten.Boxes: Box, Coast
using CarboKitten.Config: TimeProperties
using CarboKitten.Components.H5Writer: OutputSpec

&lt;&lt;alcap-example-input&gt;&gt;

end</code></pre><div class="noweb-label">file:<i>src/Models/ALCAP.jl</i></div><pre><code class="language- julia hljs">@compose module ALCAP
@mixin Tag, H5Writer, CAProduction, ActiveLayer, InitialSediment

using ..Common
using ..CAProduction: production
using ..TimeIntegration
using ..WaterDepth
using ModuleMixins: @for_each

export Input, Facies

function initial_state(input::AbstractInput)
    ca_state = CellularAutomaton.initial_state(input)
    for _ in 1:20
        CellularAutomaton.step!(input)(ca_state)
    end

    sediment_height = zeros(Height, input.box.grid_size...)
    sediment_buffer = zeros(Float64, input.sediment_buffer_size, n_facies(input), input.box.grid_size...)

    state = State(
        step=0, sediment_height=sediment_height,
        sediment_buffer=sediment_buffer,
        ca=ca_state.ca, ca_priority=ca_state.ca_priority)

    InitialSediment.push_initial_sediment!(input, state)
    return state
end

function step!(input::Input)
    step_ca! = CellularAutomaton.step!(input)
    disintegrate! = ActiveLayer.disintegrator(input)
    produce = production(input)
    transport! = ActiveLayer.transporter(input)

    function (state::State)
        if mod(state.step, input.ca_interval) == 0
            step_ca!(state)
        end

        p = produce(state)
        d = disintegrate!(state)

        active_layer = p .+ d
        transport!(state, active_layer)

        push_sediment!(state.sediment_buffer, active_layer ./ input.depositional_resolution .|&gt; NoUnits)
        state.sediment_height .+= sum(active_layer; dims=1)[1,:,:]
        state.step += 1

        return Frame(
            production = p,
            disintegration = d,
            deposition = active_layer)
    end
end

function write_header(fid, input::AbstractInput)
    @for_each(P -&gt; P.write_header(fid, input), PARENTS)
end

include(&quot;ALCAP/Example.jl&quot;)

end</code></pre><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ca-with-production/">« Model with CA and Production</a><a class="docs-footer-nextpage" href="../models/without-ca/">Model without CA »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Monday 23 June 2025 14:56">Monday 23 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
