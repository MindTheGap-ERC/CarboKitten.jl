<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ALCAPS · CarboKitten</title><meta name="title" content="ALCAPS · CarboKitten"/><meta property="og:title" content="ALCAPS · CarboKitten"/><meta property="twitter:title" content="ALCAPS · CarboKitten"/><meta name="description" content="Documentation for CarboKitten."/><meta property="og:description" content="Documentation for CarboKitten."/><meta property="twitter:description" content="Documentation for CarboKitten."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="CarboKitten logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">CarboKitten</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><span class="tocitem">Models</span><ul><li><a class="tocitem" href="../bosscher-1992/">Bosscher and Schlager 1992</a></li><li><a class="tocitem" href="../ca-with-production/">Model with CA and Production</a></li><li class="is-active"><a class="tocitem" href>ALCAPS</a><ul class="internal"><li><a class="tocitem" href="#Example-Input"><span>Example Input</span></a></li><li><a class="tocitem" href="#Modular-Implementation"><span>Modular Implementation</span></a></li><li><a class="tocitem" href="#API"><span>API</span></a></li></ul></li><li><a class="tocitem" href="../models/without-ca/">Model without CA</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../first_tutorial/">Tutorial (Pluto notebook)</a></li><li><a class="tocitem" href="../cases/tabular-sea-level/">Tabular Sea Levels</a></li></ul></li><li><a class="tocitem" href="../architecture/">Architecture</a></li><li><span class="tocitem">Model Components</span><ul><li><a class="tocitem" href="../components/components/">Components</a></li><li><a class="tocitem" href="../components/tag/">Tags</a></li><li><a class="tocitem" href="../components/boxes/">Boxes</a></li><li><a class="tocitem" href="../components/time/">Time</a></li><li><a class="tocitem" href="../components/output/">Output</a></li><li><a class="tocitem" href="../components/facies/">Facies</a></li><li><a class="tocitem" href="../components/cellular-automata/">Cellular Automata</a></li><li><a class="tocitem" href="../components/waterdepth/">Water Depth</a></li><li><a class="tocitem" href="../components/production/">Production</a></li><li><a class="tocitem" href="../components/sediment_buffer/">Sediment Buffers</a></li><li><a class="tocitem" href="../active-layer-transport/">Active Layer Transport</a></li><li><a class="tocitem" href="../onshore-transport/">Onshore Transport</a></li></ul></li><li><a class="tocitem" href="../visualization/">Visualizations</a></li><li><span class="tocitem">CarboCAT</span><ul><li><a class="tocitem" href="../carbocat/">Summary</a></li></ul></li><li><span class="tocitem">Denudation</span><ul><li><a class="tocitem" href="../denudation/denudation/">Denudation</a></li><li><a class="tocitem" href="../denudation/empirical/">Empirical Denudation</a></li><li><a class="tocitem" href="../denudation/chemical/">Chemical Dissolution</a></li><li><a class="tocitem" href="../denudation/physical_erosion/">Physical Erosion</a></li></ul></li><li><span class="tocitem">Input &amp; Output</span><ul><li><a class="tocitem" href="../input-methods/">Input Methods</a></li><li><a class="tocitem" href="../output/abstract/">Output</a></li><li><a class="tocitem" href="../output/h5writer/">HDF5 Output</a></li><li><a class="tocitem" href="../output/memory-writer/">Output to Memory</a></li><li><a class="tocitem" href="../data-export/">CSV Export</a></li><li><a class="tocitem" href="../debugging/">Trouble shooting and diagnostics</a></li></ul></li><li><span class="tocitem">Algorithms</span><ul><li><a class="tocitem" href="../unitful/">Unitful</a></li><li><a class="tocitem" href="../boxes/">Boxes</a></li><li><a class="tocitem" href="../stencils/">Stencils</a></li><li><a class="tocitem" href="../utility/">Utility</a></li><li><a class="tocitem" href="../finite-difference-transport/">Finite Difference</a></li></ul></li><li><a class="tocitem" href="../api/">API Documentation</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Models</a></li><li class="is-active"><a href>ALCAPS</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ALCAPS</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl/blob/main/docs/transpiled/model-alcap.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)"><a class="docs-heading-anchor" href="#Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)">Model with CA, Production and Active Layer transport (ALCAP)</a><a id="Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)-1"></a><a class="docs-heading-anchor-permalink" href="#Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)" title="Permalink"></a></h1><p>The following <strong>S</strong>edimentation model includes the Burgess 2013 <strong>C</strong>ellular <strong>A</strong>utomaton, Bosscher &amp; Schlager 1992 <strong>P</strong>roduction curves and an <strong>A</strong>ctive <strong>L</strong>ayer transport model, based on Paola 1992, henceforth ALCAP.</p><p><img src="../fig/alcaps-alternative.png" alt="Result from alternative input"/></p><h2 id="Example-Input"><a class="docs-heading-anchor" href="#Example-Input">Example Input</a><a id="Example-Input-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Input" title="Permalink"></a></h2><p>The following is a complete example input.</p><div class="noweb-label">⪡alcap-example-input⪢≣</div><pre><code class="language- julia hljs">const TAG = &quot;alcap-example&quot;

const FACIES = [
    ALCAP.Facies(
        viability_range = (4, 10),
        activation_range = (6, 10),
        maximum_growth_rate=500u&quot;m/Myr&quot;,
        extinction_coefficient=0.8u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=50.0u&quot;m/yr&quot;),
    ALCAP.Facies(
        viability_range = (4, 10),
        activation_range = (6, 10),
        maximum_growth_rate=400u&quot;m/Myr&quot;,
        extinction_coefficient=0.1u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=25.0u&quot;m/yr&quot;),
    ALCAP.Facies(
        viability_range = (4, 10),
        activation_range = (6, 10),
        maximum_growth_rate=100u&quot;m/Myr&quot;,
        extinction_coefficient=0.005u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=12.5u&quot;m/yr&quot;)
]

const PERIOD = 0.2u&quot;Myr&quot;
const AMPLITUDE = 4.0u&quot;m&quot;

const INPUT = ALCAP.Input(
    tag=&quot;$TAG&quot;,
    box=Box{Coast}(grid_size=(100, 50), phys_scale=150.0u&quot;m&quot;),
    time=TimeProperties(
        Δt=0.0002u&quot;Myr&quot;,
        steps=5000),
    output=Dict(
        :topography =&gt; OutputSpec(slice=(:,:), write_interval=10),
        :profile =&gt; OutputSpec(slice=(:, 25), write_interval=1)),
    ca_interval=1,
    initial_topography=(x, y) -&gt; -x / 300.0,
    sea_level=t -&gt; AMPLITUDE * sin(2π * t / PERIOD),
    subsidence_rate=50.0u&quot;m/Myr&quot;,
    disintegration_rate=50.0u&quot;m/Myr&quot;,
    insolation=400.0u&quot;W/m^2&quot;,
    sediment_buffer_size=50,
    depositional_resolution=0.5u&quot;m&quot;,
    facies=FACIES)</code></pre><div class="noweb-label">file:<i>examples/model/alcap/run.jl</i></div><pre><code class="language- julia hljs">#| requires: src/Models/ALCAP.jl
#| creates: data/output/alcap-example.h5

module Script

using Unitful
using CarboKitten
using CarboKitten.Export: read_slice, data_export, CSV

const PATH = &quot;data/output&quot;

&lt;&lt;alcap-example-input&gt;&gt;

function main()
    run_model(Model{ALCAP}, INPUT, &quot;$(PATH)/$(TAG).h5&quot;)
    header, profile = read_slice(&quot;$(PATH)/$(TAG).h5&quot;, :profile)
    columns = [profile[i] for i in 10:20:70]
    data_export(
        CSV(:sediment_accumulation_curve =&gt; &quot;$(PATH)/$(TAG)_sac.csv&quot;,
            :age_depth_model =&gt; &quot;$(PATH)/$(TAG)_adm.csv&quot;,
            :stratigraphic_column =&gt; &quot;$(PATH)/$(TAG)_sc.csv&quot;,
            :water_depth =&gt; &quot;$(PATH)/$(TAG)_wd.csv&quot;,
            :metadata =&gt; &quot;$(PATH)/$(TAG).toml&quot;),
         header,
         columns)
end

end

Script.main()</code></pre><details><summary>Plotting code</summary><div class="noweb-label">file:<i>examples/model/alcap/plot.jl</i></div><pre><code class="language- julia hljs">#| creates: docs/src/_fig/alcaps-alternative.png
#| requires: data/output/alcap-example.h5
#| collect: figures

using GLMakie
using CarboKitten.Visualization

GLMakie.activate!()

save(&quot;docs/src/_fig/alcaps-alternative.png&quot;, summary_plot(&quot;data/output/alcap-example.h5&quot;))</code></pre></details><h2 id="Modular-Implementation"><a class="docs-heading-anchor" href="#Modular-Implementation">Modular Implementation</a><a id="Modular-Implementation-1"></a><a class="docs-heading-anchor-permalink" href="#Modular-Implementation" title="Permalink"></a></h2><div class="component-dag" style="overflow: scroll"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Pages: 1 -->
<svg width="1195pt" height="637pt"
 viewBox="0.00 0.00 1194.50 637.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 633)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-633 1190.5,-633 1190.5,4 -4,4"/>
<!-- TimeIntegration -->
<g id="node1" class="node">
<title>TimeIntegration</title>
<path fill="none" stroke="black" d="M450,-629C450,-629 312,-629 312,-629 306,-629 300,-623 300,-617 300,-617 300,-562 300,-562 300,-556 306,-550 312,-550 312,-550 450,-550 450,-550 456,-550 462,-556 462,-562 462,-562 462,-617 462,-617 462,-623 456,-629 450,-629"/>
<polyline fill="none" stroke="black" points="307,-598.5 455,-598.5 "/>
<text text-anchor="start" x="315.5" y="-607.3" font-family="Times,serif" font-weight="bold" font-size="14.00">TimeIntegration</text>
<polygon fill="#cccccc" stroke="transparent" points="307,-575.5 307,-598.5 354,-598.5 354,-575.5 307,-575.5"/>
<polyline fill="none" stroke="black" points="307,-575.5 354,-575.5 354,-598.5 307,-598.5 "/>
<text text-anchor="start" x="311" y="-583.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="354,-575.5 354,-598.5 408,-598.5 408,-575.5 354,-575.5"/>
<polygon fill="none" stroke="black" points="354,-575.5 354,-598.5 408,-598.5 408,-575.5 354,-575.5"/>
<text text-anchor="start" x="358" y="-583.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="408,-575.5 408,-598.5 455,-598.5 455,-575.5 408,-575.5"/>
<polyline fill="none" stroke="black" points="455,-598.5 408,-598.5 408,-575.5 455,-575.5 "/>
<text text-anchor="start" x="412" y="-583.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="354,-556.5 354,-575.5 "/>
<text text-anchor="start" x="311" y="-563.5" font-family="monospace" font-size="10.00">time</text>
<polyline fill="none" stroke="black" points="408,-556.5 408,-575.5 "/>
<text text-anchor="start" x="358" y="-563.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="411" y="-563.5" font-family="monospace" font-size="10.00">step</text>
</g>
<!-- WaterDepth -->
<g id="node3" class="node">
<title>WaterDepth</title>
<path fill="none" stroke="black" d="M600,-514C600,-514 342,-514 342,-514 336,-514 330,-508 330,-502 330,-502 330,-409 330,-409 330,-403 336,-397 342,-397 342,-397 600,-397 600,-397 606,-397 612,-403 612,-409 612,-409 612,-502 612,-502 612,-508 606,-514 600,-514"/>
<polyline fill="none" stroke="black" points="337,-483.5 605,-483.5 "/>
<text text-anchor="start" x="423.5" y="-492.3" font-family="Times,serif" font-weight="bold" font-size="14.00">WaterDepth</text>
<polygon fill="#cccccc" stroke="transparent" points="337,-460.5 337,-483.5 454,-483.5 454,-460.5 337,-460.5"/>
<polyline fill="none" stroke="black" points="337,-460.5 454,-460.5 454,-483.5 337,-483.5 "/>
<text text-anchor="start" x="341" y="-468.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="454,-460.5 454,-483.5 508,-483.5 508,-460.5 454,-460.5"/>
<polygon fill="none" stroke="black" points="454,-460.5 454,-483.5 508,-483.5 508,-460.5 454,-460.5"/>
<text text-anchor="start" x="458" y="-468.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="508,-460.5 508,-483.5 605,-483.5 605,-460.5 508,-460.5"/>
<polyline fill="none" stroke="black" points="605,-483.5 508,-483.5 508,-460.5 605,-460.5 "/>
<text text-anchor="start" x="512" y="-468.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="454,-441.5 454,-460.5 "/>
<text text-anchor="start" x="341" y="-448.5" font-family="monospace" font-size="10.00">sea_level</text>
<polyline fill="none" stroke="black" points="508,-441.5 508,-460.5 "/>
<text text-anchor="start" x="458" y="-448.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="511" y="-448.5" font-family="monospace" font-size="10.00">sediment_height</text>
<polyline fill="none" stroke="black" points="454,-422.5 454,-441.5 "/>
<text text-anchor="start" x="341" y="-429.5" font-family="monospace" font-size="10.00">initial_topography</text>
<polyline fill="none" stroke="black" points="508,-422.5 508,-441.5 "/>
<text text-anchor="start" x="458" y="-429.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="511" y="-429.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="454,-403.5 454,-422.5 "/>
<text text-anchor="start" x="341" y="-410.5" font-family="monospace" font-size="10.00">subsidence_rate</text>
<polyline fill="none" stroke="black" points="508,-403.5 508,-422.5 "/>
<text text-anchor="start" x="458" y="-410.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="511" y="-410.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- TimeIntegration&#45;&gt;WaterDepth -->
<g id="edge1" class="edge">
<title>TimeIntegration&#45;&gt;WaterDepth</title>
<path fill="none" stroke="black" d="M407.27,-549.97C413.07,-541.46 419.38,-532.21 425.69,-522.95"/>
<polygon fill="black" stroke="black" points="428.73,-524.7 431.48,-514.47 422.95,-520.76 428.73,-524.7"/>
</g>
<!-- Boxes -->
<g id="node2" class="node">
<title>Boxes</title>
<path fill="none" stroke="black" d="M630,-629C630,-629 492,-629 492,-629 486,-629 480,-623 480,-617 480,-617 480,-562 480,-562 480,-556 486,-550 492,-550 492,-550 630,-550 630,-550 636,-550 642,-556 642,-562 642,-562 642,-617 642,-617 642,-623 636,-629 630,-629"/>
<polyline fill="none" stroke="black" points="487,-598.5 635,-598.5 "/>
<text text-anchor="start" x="537.5" y="-607.3" font-family="Times,serif" font-weight="bold" font-size="14.00">Boxes</text>
<polygon fill="#cccccc" stroke="transparent" points="487,-575.5 487,-598.5 534,-598.5 534,-575.5 487,-575.5"/>
<polyline fill="none" stroke="black" points="487,-575.5 534,-575.5 534,-598.5 487,-598.5 "/>
<text text-anchor="start" x="491" y="-583.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="534,-575.5 534,-598.5 588,-598.5 588,-575.5 534,-575.5"/>
<polygon fill="none" stroke="black" points="534,-575.5 534,-598.5 588,-598.5 588,-575.5 534,-575.5"/>
<text text-anchor="start" x="538" y="-583.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="588,-575.5 588,-598.5 635,-598.5 635,-575.5 588,-575.5"/>
<polyline fill="none" stroke="black" points="635,-598.5 588,-598.5 588,-575.5 635,-575.5 "/>
<text text-anchor="start" x="592" y="-583.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="534,-556.5 534,-575.5 "/>
<text text-anchor="start" x="491" y="-563.5" font-family="monospace" font-size="10.00">box</text>
<polyline fill="none" stroke="black" points="588,-556.5 588,-575.5 "/>
<text text-anchor="start" x="538" y="-563.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="591" y="-563.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;WaterDepth -->
<g id="edge2" class="edge">
<title>Boxes&#45;&gt;WaterDepth</title>
<path fill="none" stroke="black" d="M534.73,-549.97C528.93,-541.46 522.62,-532.21 516.31,-522.95"/>
<polygon fill="black" stroke="black" points="519.05,-520.76 510.52,-514.47 513.27,-524.7 519.05,-520.76"/>
</g>
<!-- SedimentBuffer -->
<g id="node6" class="node">
<title>SedimentBuffer</title>
<path fill="none" stroke="black" d="M300,-504.5C300,-504.5 12,-504.5 12,-504.5 6,-504.5 0,-498.5 0,-492.5 0,-492.5 0,-418.5 0,-418.5 0,-412.5 6,-406.5 12,-406.5 12,-406.5 300,-406.5 300,-406.5 306,-406.5 312,-412.5 312,-418.5 312,-418.5 312,-492.5 312,-492.5 312,-498.5 306,-504.5 300,-504.5"/>
<polyline fill="none" stroke="black" points="7,-474.5 305,-474.5 "/>
<text text-anchor="start" x="93" y="-483.3" font-family="Times,serif" font-weight="bold" font-size="14.00">SedimentBuffer</text>
<polygon fill="#cccccc" stroke="transparent" points="7,-451.5 7,-474.5 154,-474.5 154,-451.5 7,-451.5"/>
<polyline fill="none" stroke="black" points="7,-451.5 154,-451.5 154,-474.5 7,-474.5 "/>
<text text-anchor="start" x="11" y="-459.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="154,-451.5 154,-474.5 208,-474.5 208,-451.5 154,-451.5"/>
<polygon fill="none" stroke="black" points="154,-451.5 154,-474.5 208,-474.5 208,-451.5 154,-451.5"/>
<text text-anchor="start" x="158" y="-459.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="208,-451.5 208,-474.5 305,-474.5 305,-451.5 208,-451.5"/>
<polyline fill="none" stroke="black" points="305,-474.5 208,-474.5 208,-451.5 305,-451.5 "/>
<text text-anchor="start" x="212" y="-459.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="154,-432.5 154,-451.5 "/>
<text text-anchor="start" x="11" y="-439.5" font-family="monospace" font-size="10.00">sediment_buffer_size</text>
<polyline fill="none" stroke="black" points="208,-432.5 208,-451.5 "/>
<text text-anchor="start" x="158" y="-439.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="211" y="-439.5" font-family="monospace" font-size="10.00">sediment_buffer</text>
<polyline fill="none" stroke="black" points="154,-413.5 154,-432.5 "/>
<text text-anchor="start" x="11" y="-420.5" font-family="monospace" font-size="10.00">depositional_resolution</text>
<polyline fill="none" stroke="black" points="208,-413.5 208,-432.5 "/>
<text text-anchor="start" x="158" y="-420.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="211" y="-420.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;SedimentBuffer -->
<g id="edge11" class="edge">
<title>Boxes&#45;&gt;SedimentBuffer</title>
<path fill="none" stroke="black" d="M479.8,-553.04C476.84,-551.98 473.9,-550.96 471,-550 405.92,-528.44 386.79,-533.3 321,-514 314.1,-511.97 307.05,-509.83 299.96,-507.61"/>
<polygon fill="black" stroke="black" points="300.85,-504.22 290.26,-504.53 298.74,-510.89 300.85,-504.22"/>
</g>
<!-- CellularAutomaton -->
<g id="node12" class="node">
<title>CellularAutomaton</title>
<path fill="none" stroke="black" d="M1174.5,-342C1174.5,-342 913.5,-342 913.5,-342 907.5,-342 901.5,-336 901.5,-330 901.5,-330 901.5,-237 901.5,-237 901.5,-231 907.5,-225 913.5,-225 913.5,-225 1174.5,-225 1174.5,-225 1180.5,-225 1186.5,-231 1186.5,-237 1186.5,-237 1186.5,-330 1186.5,-330 1186.5,-336 1180.5,-342 1174.5,-342"/>
<polyline fill="none" stroke="black" points="909,-311.5 1180,-311.5 "/>
<text text-anchor="start" x="969" y="-320.3" font-family="Times,serif" font-weight="bold" font-size="14.00">CellularAutomaton</text>
<polygon fill="#cccccc" stroke="transparent" points="909,-288.5 909,-311.5 1002,-311.5 1002,-288.5 909,-288.5"/>
<polyline fill="none" stroke="black" points="909,-288.5 1002,-288.5 1002,-311.5 909,-311.5 "/>
<text text-anchor="start" x="913" y="-296.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="1002,-288.5 1002,-311.5 1107,-311.5 1107,-288.5 1002,-288.5"/>
<polygon fill="none" stroke="black" points="1002,-288.5 1002,-311.5 1107,-311.5 1107,-288.5 1002,-288.5"/>
<text text-anchor="start" x="1006" y="-296.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="1107,-288.5 1107,-311.5 1180,-311.5 1180,-288.5 1107,-288.5"/>
<polyline fill="none" stroke="black" points="1180,-311.5 1107,-311.5 1107,-288.5 1180,-288.5 "/>
<text text-anchor="start" x="1111" y="-296.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="1002,-269.5 1002,-288.5 "/>
<text text-anchor="start" x="913" y="-276.5" font-family="monospace" font-size="10.00">ca_interval</text>
<polyline fill="none" stroke="black" points="1107,-269.5 1107,-288.5 "/>
<text text-anchor="start" x="1006" y="-276.5" font-family="monospace" font-size="10.00">viability_range</text>
<text text-anchor="start" x="1110" y="-276.5" font-family="monospace" font-size="10.00">ca</text>
<polyline fill="none" stroke="black" points="1002,-250.5 1002,-269.5 "/>
<text text-anchor="start" x="913" y="-257.5" font-family="monospace" font-size="10.00">ca_random_seed</text>
<polyline fill="none" stroke="black" points="1107,-250.5 1107,-269.5 "/>
<text text-anchor="start" x="1006" y="-257.5" font-family="monospace" font-size="10.00">activation_range</text>
<text text-anchor="start" x="1110" y="-257.5" font-family="monospace" font-size="10.00">ca_priority</text>
<polyline fill="none" stroke="black" points="1002,-231.5 1002,-250.5 "/>
<text text-anchor="start" x="913" y="-238.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="1107,-231.5 1107,-250.5 "/>
<text text-anchor="start" x="1006" y="-238.5" font-family="monospace" font-size="10.00">active</text>
<text text-anchor="start" x="1110" y="-238.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;CellularAutomaton -->
<g id="edge20" class="edge">
<title>Boxes&#45;&gt;CellularAutomaton</title>
<path fill="none" stroke="black" d="M642.04,-576.16C695.15,-565.5 764.56,-546.5 819,-514 889.83,-471.71 953.89,-401.73 995.38,-350.14"/>
<polygon fill="black" stroke="black" points="998.35,-352.03 1001.84,-342.02 992.87,-347.67 998.35,-352.03"/>
</g>
<!-- ActiveLayer -->
<g id="node4" class="node">
<title>ActiveLayer</title>
<path fill="none" stroke="black" d="M582.5,-361C582.5,-361 255.5,-361 255.5,-361 249.5,-361 243.5,-355 243.5,-349 243.5,-349 243.5,-218 243.5,-218 243.5,-212 249.5,-206 255.5,-206 255.5,-206 582.5,-206 582.5,-206 588.5,-206 594.5,-212 594.5,-218 594.5,-218 594.5,-349 594.5,-349 594.5,-355 588.5,-361 582.5,-361"/>
<polyline fill="none" stroke="black" points="251,-330.5 588,-330.5 "/>
<text text-anchor="start" x="373.5" y="-339.3" font-family="Times,serif" font-weight="bold" font-size="14.00">ActiveLayer</text>
<polygon fill="#cccccc" stroke="transparent" points="251,-307.5 251,-330.5 374,-330.5 374,-307.5 251,-307.5"/>
<polyline fill="none" stroke="black" points="251,-307.5 374,-307.5 374,-330.5 251,-330.5 "/>
<text text-anchor="start" x="255" y="-315.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="374,-307.5 374,-330.5 509,-330.5 509,-307.5 374,-307.5"/>
<polygon fill="none" stroke="black" points="374,-307.5 374,-330.5 509,-330.5 509,-307.5 374,-307.5"/>
<text text-anchor="start" x="378" y="-315.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="509,-307.5 509,-330.5 588,-330.5 588,-307.5 509,-307.5"/>
<polyline fill="none" stroke="black" points="588,-330.5 509,-330.5 509,-307.5 588,-307.5 "/>
<text text-anchor="start" x="513" y="-315.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="374,-288.5 374,-307.5 "/>
<text text-anchor="start" x="255" y="-295.5" font-family="monospace" font-size="10.00">intertidal_zone</text>
<polyline fill="none" stroke="black" points="509,-288.5 509,-307.5 "/>
<text text-anchor="start" x="378" y="-295.5" font-family="monospace" font-size="10.00">diffusion_coefficient</text>
<text text-anchor="start" x="512" y="-295.5" font-family="monospace" font-size="10.00">active_layer</text>
<polyline fill="none" stroke="black" points="374,-269.5 374,-288.5 "/>
<text text-anchor="start" x="255" y="-276.5" font-family="monospace" font-size="10.00">disintegration_rate</text>
<polyline fill="none" stroke="black" points="509,-269.5 509,-288.5 "/>
<text text-anchor="start" x="378" y="-276.5" font-family="monospace" font-size="10.00">wave_velocity</text>
<text text-anchor="start" x="512" y="-276.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="374,-250.5 374,-269.5 "/>
<text text-anchor="start" x="255" y="-257.5" font-family="monospace" font-size="10.00">cementation_time</text>
<polyline fill="none" stroke="black" points="509,-250.5 509,-269.5 "/>
<text text-anchor="start" x="378" y="-257.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="512" y="-257.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="374,-231.5 374,-250.5 "/>
<text text-anchor="start" x="255" y="-238.5" font-family="monospace" font-size="10.00">transport_solver</text>
<polyline fill="none" stroke="black" points="509,-231.5 509,-250.5 "/>
<text text-anchor="start" x="378" y="-238.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="512" y="-238.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="374,-212.5 374,-231.5 "/>
<text text-anchor="start" x="255" y="-219.5" font-family="monospace" font-size="10.00">transport_substeps</text>
<polyline fill="none" stroke="black" points="509,-212.5 509,-231.5 "/>
<text text-anchor="start" x="378" y="-219.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="512" y="-219.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;ActiveLayer -->
<g id="edge3" class="edge">
<title>WaterDepth&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M453.4,-396.95C450.82,-388.53 448.12,-379.71 445.42,-370.87"/>
<polygon fill="black" stroke="black" points="448.76,-369.82 442.49,-361.29 442.07,-371.87 448.76,-369.82"/>
</g>
<!-- InitialSediment -->
<g id="node7" class="node">
<title>InitialSediment</title>
<path fill="none" stroke="black" d="M213.5,-323C213.5,-323 24.5,-323 24.5,-323 18.5,-323 12.5,-317 12.5,-311 12.5,-311 12.5,-256 12.5,-256 12.5,-250 18.5,-244 24.5,-244 24.5,-244 213.5,-244 213.5,-244 219.5,-244 225.5,-250 225.5,-256 225.5,-256 225.5,-311 225.5,-311 225.5,-317 219.5,-323 213.5,-323"/>
<polyline fill="none" stroke="black" points="20,-292.5 219,-292.5 "/>
<text text-anchor="start" x="57.5" y="-301.3" font-family="Times,serif" font-weight="bold" font-size="14.00">InitialSediment</text>
<polygon fill="#cccccc" stroke="transparent" points="20,-269.5 20,-292.5 67,-292.5 67,-269.5 20,-269.5"/>
<polyline fill="none" stroke="black" points="20,-269.5 67,-269.5 67,-292.5 20,-292.5 "/>
<text text-anchor="start" x="24" y="-277.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="67,-269.5 67,-292.5 172,-292.5 172,-269.5 67,-269.5"/>
<polygon fill="none" stroke="black" points="67,-269.5 67,-292.5 172,-292.5 172,-269.5 67,-269.5"/>
<text text-anchor="start" x="71" y="-277.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="172,-269.5 172,-292.5 219,-292.5 219,-269.5 172,-269.5"/>
<polyline fill="none" stroke="black" points="219,-292.5 172,-292.5 172,-269.5 219,-269.5 "/>
<text text-anchor="start" x="176" y="-277.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="67,-250.5 67,-269.5 "/>
<text text-anchor="start" x="24" y="-257.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="172,-250.5 172,-269.5 "/>
<text text-anchor="start" x="71" y="-257.5" font-family="monospace" font-size="10.00">initial_sediment</text>
<text text-anchor="start" x="175" y="-257.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;InitialSediment -->
<g id="edge7" class="edge">
<title>WaterDepth&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M329.69,-400.13C284.83,-382.6 244.14,-366.3 234,-361 216.08,-351.64 197.49,-340.15 180.62,-328.94"/>
<polygon fill="black" stroke="black" points="182.22,-325.8 171.96,-323.12 178.31,-331.61 182.22,-325.8"/>
</g>
<!-- Production -->
<g id="node8" class="node">
<title>Production</title>
<path fill="none" stroke="black" d="M871.5,-342C871.5,-342 624.5,-342 624.5,-342 618.5,-342 612.5,-336 612.5,-330 612.5,-330 612.5,-237 612.5,-237 612.5,-231 618.5,-225 624.5,-225 624.5,-225 871.5,-225 871.5,-225 877.5,-225 883.5,-231 883.5,-237 883.5,-237 883.5,-330 883.5,-330 883.5,-336 877.5,-342 871.5,-342"/>
<polyline fill="none" stroke="black" points="620,-311.5 877,-311.5 "/>
<text text-anchor="start" x="704.5" y="-320.3" font-family="Times,serif" font-weight="bold" font-size="14.00">Production</text>
<polygon fill="#cccccc" stroke="transparent" points="620,-288.5 620,-311.5 689,-311.5 689,-288.5 620,-288.5"/>
<polyline fill="none" stroke="black" points="620,-288.5 689,-288.5 689,-311.5 620,-311.5 "/>
<text text-anchor="start" x="624" y="-296.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="689,-288.5 689,-311.5 830,-311.5 830,-288.5 689,-288.5"/>
<polygon fill="none" stroke="black" points="689,-288.5 689,-311.5 830,-311.5 830,-288.5 689,-288.5"/>
<text text-anchor="start" x="693" y="-296.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="830,-288.5 830,-311.5 877,-311.5 877,-288.5 830,-288.5"/>
<polyline fill="none" stroke="black" points="877,-311.5 830,-311.5 830,-288.5 877,-288.5 "/>
<text text-anchor="start" x="834" y="-296.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="689,-269.5 689,-288.5 "/>
<text text-anchor="start" x="624" y="-276.5" font-family="monospace" font-size="10.00">insolation</text>
<polyline fill="none" stroke="black" points="830,-269.5 830,-288.5 "/>
<text text-anchor="start" x="693" y="-276.5" font-family="monospace" font-size="10.00">maximum_growth_rate</text>
<text text-anchor="start" x="833" y="-276.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="689,-250.5 689,-269.5 "/>
<text text-anchor="start" x="624" y="-257.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="830,-250.5 830,-269.5 "/>
<text text-anchor="start" x="693" y="-257.5" font-family="monospace" font-size="10.00">extinction_coefficient</text>
<text text-anchor="start" x="833" y="-257.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="689,-231.5 689,-250.5 "/>
<text text-anchor="start" x="624" y="-238.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="830,-231.5 830,-250.5 "/>
<text text-anchor="start" x="693" y="-238.5" font-family="monospace" font-size="10.00">saturation_intensity</text>
<text text-anchor="start" x="833" y="-238.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;Production -->
<g id="edge9" class="edge">
<title>WaterDepth&#45;&gt;Production</title>
<path fill="none" stroke="black" d="M564.78,-396.95C590.58,-381.11 618.71,-363.85 645,-347.71"/>
<polygon fill="black" stroke="black" points="647.15,-350.5 653.85,-342.28 643.49,-344.53 647.15,-350.5"/>
</g>
<!-- ALCAP -->
<g id="node14" class="node">
<title>ALCAP</title>
<path fill="none" stroke="black" d="M571.5,-36C571.5,-36 528.5,-36 528.5,-36 522.5,-36 516.5,-30 516.5,-24 516.5,-24 516.5,-12 516.5,-12 516.5,-6 522.5,0 528.5,0 528.5,0 571.5,0 571.5,0 577.5,0 583.5,-6 583.5,-12 583.5,-12 583.5,-24 583.5,-24 583.5,-30 577.5,-36 571.5,-36"/>
<text text-anchor="start" x="523.5" y="-15.3" font-family="Times,serif" font-weight="bold" font-size="14.00">ALCAP</text>
</g>
<!-- ActiveLayer&#45;&gt;ALCAP -->
<g id="edge17" class="edge">
<title>ActiveLayer&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M368.98,-205.96C347.76,-163.03 333.87,-110.54 363,-72 380.24,-49.19 456.59,-33.36 506.24,-25.26"/>
<polygon fill="black" stroke="black" points="507.07,-28.67 516.4,-23.65 505.97,-21.76 507.07,-28.67"/>
</g>
<!-- FaciesBase -->
<g id="node5" class="node">
<title>FaciesBase</title>
<path fill="none" stroke="black" d="M798,-495C798,-495 660,-495 660,-495 654,-495 648,-489 648,-483 648,-483 648,-428 648,-428 648,-422 654,-416 660,-416 660,-416 798,-416 798,-416 804,-416 810,-422 810,-428 810,-428 810,-483 810,-483 810,-489 804,-495 798,-495"/>
<polyline fill="none" stroke="black" points="655,-464.5 803,-464.5 "/>
<text text-anchor="start" x="685" y="-473.3" font-family="Times,serif" font-weight="bold" font-size="14.00">FaciesBase</text>
<polygon fill="#cccccc" stroke="transparent" points="655,-441.5 655,-464.5 702,-464.5 702,-441.5 655,-441.5"/>
<polyline fill="none" stroke="black" points="655,-441.5 702,-441.5 702,-464.5 655,-464.5 "/>
<text text-anchor="start" x="659" y="-449.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="702,-441.5 702,-464.5 756,-464.5 756,-441.5 702,-441.5"/>
<polygon fill="none" stroke="black" points="702,-441.5 702,-464.5 756,-464.5 756,-441.5 702,-441.5"/>
<text text-anchor="start" x="706" y="-449.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="756,-441.5 756,-464.5 803,-464.5 803,-441.5 756,-441.5"/>
<polyline fill="none" stroke="black" points="803,-464.5 756,-464.5 756,-441.5 803,-441.5 "/>
<text text-anchor="start" x="760" y="-449.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="702,-422.5 702,-441.5 "/>
<text text-anchor="start" x="659" y="-429.5" font-family="monospace" font-size="10.00">facies</text>
<polyline fill="none" stroke="black" points="756,-422.5 756,-441.5 "/>
<text text-anchor="start" x="706" y="-429.5" font-family="monospace" font-size="10.00">name</text>
<text text-anchor="start" x="759" y="-429.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- FaciesBase&#45;&gt;ActiveLayer -->
<g id="edge4" class="edge">
<title>FaciesBase&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M658.66,-415.92C631.55,-401.06 599.46,-383.46 567.73,-366.06"/>
<polygon fill="black" stroke="black" points="569.24,-362.9 558.79,-361.16 565.87,-369.04 569.24,-362.9"/>
</g>
<!-- FaciesBase&#45;&gt;InitialSediment -->
<g id="edge6" class="edge">
<title>FaciesBase&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M666.55,-415.92C652.06,-408.49 636.36,-401.6 621,-397 455.52,-347.44 396.86,-418.59 234,-361 213.11,-353.61 192.33,-341.6 174.29,-329.25"/>
<polygon fill="black" stroke="black" points="175.85,-326.08 165.66,-323.19 171.83,-331.8 175.85,-326.08"/>
</g>
<!-- FaciesBase&#45;&gt;Production -->
<g id="edge10" class="edge">
<title>FaciesBase&#45;&gt;Production</title>
<path fill="none" stroke="black" d="M733.31,-415.92C735.41,-397.15 738,-374.02 740.41,-352.42"/>
<polygon fill="black" stroke="black" points="743.91,-352.62 741.54,-342.3 736.95,-351.84 743.91,-352.62"/>
</g>
<!-- FaciesBase&#45;&gt;CellularAutomaton -->
<g id="edge21" class="edge">
<title>FaciesBase&#45;&gt;CellularAutomaton</title>
<path fill="none" stroke="black" d="M800.48,-415.92C838.18,-395.58 885.38,-370.1 928.16,-347.02"/>
<polygon fill="black" stroke="black" points="930.07,-349.96 937.21,-342.13 926.75,-343.8 930.07,-349.96"/>
</g>
<!-- SedimentBuffer&#45;&gt;ActiveLayer -->
<g id="edge5" class="edge">
<title>SedimentBuffer&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M230.31,-406.47C249.62,-393.98 270.97,-380.18 292.17,-366.48"/>
<polygon fill="black" stroke="black" points="294.09,-369.41 300.59,-361.04 290.29,-363.53 294.09,-369.41"/>
</g>
<!-- SedimentBuffer&#45;&gt;InitialSediment -->
<g id="edge8" class="edge">
<title>SedimentBuffer&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M145.5,-406.24C140.51,-383.32 134.56,-355.99 129.57,-333.04"/>
<polygon fill="black" stroke="black" points="132.96,-332.2 127.42,-323.17 126.12,-333.68 132.96,-332.2"/>
</g>
<!-- InitialSediment&#45;&gt;ALCAP -->
<g id="edge18" class="edge">
<title>InitialSediment&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M149.54,-243.66C189.09,-196.03 262.56,-116.21 343,-72 394.92,-43.47 462.62,-29.91 506.2,-23.74"/>
<polygon fill="black" stroke="black" points="506.75,-27.2 516.2,-22.4 505.82,-20.26 506.75,-27.2"/>
</g>
<!-- CAProduction -->
<g id="node11" class="node">
<title>CAProduction</title>
<path fill="none" stroke="black" d="M871.5,-139C871.5,-139 772.5,-139 772.5,-139 766.5,-139 760.5,-133 760.5,-127 760.5,-127 760.5,-115 760.5,-115 760.5,-109 766.5,-103 772.5,-103 772.5,-103 871.5,-103 871.5,-103 877.5,-103 883.5,-109 883.5,-115 883.5,-115 883.5,-127 883.5,-127 883.5,-133 877.5,-139 871.5,-139"/>
<text text-anchor="start" x="767.5" y="-118.3" font-family="Times,serif" font-weight="bold" font-size="14.00">CAProduction</text>
</g>
<!-- Production&#45;&gt;CAProduction -->
<g id="edge13" class="edge">
<title>Production&#45;&gt;CAProduction</title>
<path fill="none" stroke="black" d="M774.72,-224.56C786.72,-198.51 800.3,-169.06 809.82,-148.42"/>
<polygon fill="black" stroke="black" points="813,-149.88 814.01,-139.33 806.64,-146.94 813,-149.88"/>
</g>
<!-- Output -->
<g id="node9" class="node">
<title>Output</title>
<path fill="none" stroke="black" d="M522,-160.5C522,-160.5 384,-160.5 384,-160.5 378,-160.5 372,-154.5 372,-148.5 372,-148.5 372,-93.5 372,-93.5 372,-87.5 378,-81.5 384,-81.5 384,-81.5 522,-81.5 522,-81.5 528,-81.5 534,-87.5 534,-93.5 534,-93.5 534,-148.5 534,-148.5 534,-154.5 528,-160.5 522,-160.5"/>
<polyline fill="none" stroke="black" points="379,-130 527,-130 "/>
<text text-anchor="start" x="424.5" y="-138.8" font-family="Times,serif" font-weight="bold" font-size="14.00">Output</text>
<polygon fill="#cccccc" stroke="transparent" points="379,-107 379,-130 426,-130 426,-107 379,-107"/>
<polyline fill="none" stroke="black" points="379,-107 426,-107 426,-130 379,-130 "/>
<text text-anchor="start" x="383" y="-114.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="426,-107 426,-130 480,-130 480,-107 426,-107"/>
<polygon fill="none" stroke="black" points="426,-107 426,-130 480,-130 480,-107 426,-107"/>
<text text-anchor="start" x="430" y="-114.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="480,-107 480,-130 527,-130 527,-107 480,-107"/>
<polyline fill="none" stroke="black" points="527,-130 480,-130 480,-107 527,-107 "/>
<text text-anchor="start" x="484" y="-114.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="426,-88 426,-107 "/>
<text text-anchor="start" x="383" y="-95" font-family="monospace" font-size="10.00">output</text>
<polyline fill="none" stroke="black" points="480,-88 480,-107 "/>
<text text-anchor="start" x="430" y="-95" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="483" y="-95" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Output&#45;&gt;ALCAP -->
<g id="edge15" class="edge">
<title>Output&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M490.23,-81.24C502.38,-68.58 515.53,-54.89 526.4,-43.57"/>
<polygon fill="black" stroke="black" points="529.12,-45.8 533.52,-36.16 524.07,-40.95 529.12,-45.8"/>
</g>
<!-- Diagnostics -->
<g id="node10" class="node">
<title>Diagnostics</title>
<path fill="none" stroke="black" d="M730,-170C730,-170 564,-170 564,-170 558,-170 552,-164 552,-158 552,-158 552,-84 552,-84 552,-78 558,-72 564,-72 564,-72 730,-72 730,-72 736,-72 742,-78 742,-84 742,-84 742,-158 742,-158 742,-164 736,-170 730,-170"/>
<polyline fill="none" stroke="black" points="559,-140 735,-140 "/>
<text text-anchor="start" x="600.5" y="-148.8" font-family="Times,serif" font-weight="bold" font-size="14.00">Diagnostics</text>
<polygon fill="#cccccc" stroke="transparent" points="559,-117 559,-140 634,-140 634,-117 559,-117"/>
<polyline fill="none" stroke="black" points="559,-117 634,-117 634,-140 559,-140 "/>
<text text-anchor="start" x="563" y="-124.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="634,-117 634,-140 688,-140 688,-117 634,-117"/>
<polygon fill="none" stroke="black" points="634,-117 634,-140 688,-140 688,-117 634,-117"/>
<text text-anchor="start" x="638" y="-124.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="688,-117 688,-140 735,-140 735,-117 688,-117"/>
<polyline fill="none" stroke="black" points="735,-140 688,-140 688,-117 735,-117 "/>
<text text-anchor="start" x="692" y="-124.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="634,-98 634,-117 "/>
<text text-anchor="start" x="563" y="-105" font-family="monospace" font-size="10.00">diagnostics</text>
<polyline fill="none" stroke="black" points="688,-98 688,-117 "/>
<text text-anchor="start" x="638" y="-105" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="691" y="-105" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="634,-79 634,-98 "/>
<text text-anchor="start" x="563" y="-86" font-family="monospace" font-size="10.00">log_file</text>
<polyline fill="none" stroke="black" points="688,-79 688,-98 "/>
<text text-anchor="start" x="638" y="-86" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="691" y="-86" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Diagnostics&#45;&gt;ALCAP -->
<g id="edge19" class="edge">
<title>Diagnostics&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M600.77,-71.87C591.36,-62.06 581.83,-52.14 573.61,-43.58"/>
<polygon fill="black" stroke="black" points="575.92,-40.94 566.47,-36.15 570.87,-45.78 575.92,-40.94"/>
</g>
<!-- CAProduction&#45;&gt;ALCAP -->
<g id="edge16" class="edge">
<title>CAProduction&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M800.75,-102.84C787.2,-92.63 768.88,-80.12 751,-72 699.35,-48.55 635.35,-33.92 593.64,-26.11"/>
<polygon fill="black" stroke="black" points="594,-22.62 583.54,-24.28 592.75,-29.51 594,-22.62"/>
</g>
<!-- CellularAutomaton&#45;&gt;CAProduction -->
<g id="edge12" class="edge">
<title>CellularAutomaton&#45;&gt;CAProduction</title>
<path fill="none" stroke="black" d="M964.17,-224.78C926.09,-197.25 882.69,-165.88 853.96,-145.11"/>
<polygon fill="black" stroke="black" points="855.69,-142.04 845.54,-139.02 851.59,-147.71 855.69,-142.04"/>
</g>
<!-- Tag -->
<g id="node13" class="node">
<title>Tag</title>
<path fill="none" stroke="black" d="M1052,-160.5C1052,-160.5 914,-160.5 914,-160.5 908,-160.5 902,-154.5 902,-148.5 902,-148.5 902,-93.5 902,-93.5 902,-87.5 908,-81.5 914,-81.5 914,-81.5 1052,-81.5 1052,-81.5 1058,-81.5 1064,-87.5 1064,-93.5 1064,-93.5 1064,-148.5 1064,-148.5 1064,-154.5 1058,-160.5 1052,-160.5"/>
<polyline fill="none" stroke="black" points="909,-130 1057,-130 "/>
<text text-anchor="start" x="969" y="-138.8" font-family="Times,serif" font-weight="bold" font-size="14.00">Tag</text>
<polygon fill="#cccccc" stroke="transparent" points="909,-107 909,-130 956,-130 956,-107 909,-107"/>
<polyline fill="none" stroke="black" points="909,-107 956,-107 956,-130 909,-130 "/>
<text text-anchor="start" x="913" y="-114.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="956,-107 956,-130 1010,-130 1010,-107 956,-107"/>
<polygon fill="none" stroke="black" points="956,-107 956,-130 1010,-130 1010,-107 956,-107"/>
<text text-anchor="start" x="960" y="-114.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="1010,-107 1010,-130 1057,-130 1057,-107 1010,-107"/>
<polyline fill="none" stroke="black" points="1057,-130 1010,-130 1010,-107 1057,-107 "/>
<text text-anchor="start" x="1014" y="-114.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="956,-88 956,-107 "/>
<text text-anchor="start" x="913" y="-95" font-family="monospace" font-size="10.00">tag</text>
<polyline fill="none" stroke="black" points="1010,-88 1010,-107 "/>
<text text-anchor="start" x="960" y="-95" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="1013" y="-95" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Tag&#45;&gt;ALCAP -->
<g id="edge14" class="edge">
<title>Tag&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M916.53,-81.41C908.76,-77.84 900.81,-74.6 893,-72 789.09,-37.38 659.81,-25.2 593.58,-21.05"/>
<polygon fill="black" stroke="black" points="593.69,-17.55 583.5,-20.45 593.28,-24.54 593.69,-17.55"/>
</g>
</g>
</svg>
</div><div class="noweb-label">file:<i>src/Models/ALCAP/Example.jl</i></div><pre><code class="language- julia hljs">module Example

using Unitful
using ..ALCAP: ALCAP
using CarboKitten.Boxes: Box, Coast
using CarboKitten.Config: TimeProperties
using CarboKitten.Output.Abstract: OutputSpec

&lt;&lt;alcap-example-input&gt;&gt;

end</code></pre><div class="noweb-label">file:<i>src/Models/ALCAP.jl</i></div><pre><code class="language- julia hljs">@compose module ALCAP
@mixin Tag, Output, CAProduction, ActiveLayer, InitialSediment, Diagnostics

using ..Common
using ..CAProduction: production
using ..TimeIntegration
using ..WaterDepth: water_depth
using ...Output: Frame
using ModuleMixins: @for_each

export Input, Facies

function initial_state(input::AbstractInput)
    ca_state = CellularAutomaton.initial_state(input)
    for _ in 1:20
        CellularAutomaton.step!(input)(ca_state)
    end

    sediment_height = zeros(Height, input.box.grid_size...)
    sediment_buffer = zeros(Float64, input.sediment_buffer_size, n_facies(input), input.box.grid_size...)
    active_layer = zeros(Amount, n_facies(input), input.box.grid_size...)

    state = State(
        step=0, sediment_height=sediment_height,
        sediment_buffer=sediment_buffer,
        active_layer=active_layer,
        ca=ca_state.ca, ca_priority=ca_state.ca_priority)

    InitialSediment.push_initial_sediment!(input, state)
    return state
end

function step!(input::Input)
    step_ca! = CellularAutomaton.step!(input)
    disintegrate! = ActiveLayer.disintegrator(input)
    produce = production(input)
    transport! = ActiveLayer.transporter(input)
    local_water_depth = water_depth(input)
    na = [CartesianIndex()]
    pf = cementation_factor(input)
    debug = input.diagnostics

    function (state::State)
        if debug
            @debug &quot;step: &quot; state.step
            @debug &quot;   current active layer ambitus: &quot; extrema(state.active_layer)
        end

        if mod(state.step, input.ca_interval) == 0
            step_ca!(state)
        end

        wd = local_water_depth(state)
        p = produce(state, wd)
        d = disintegrate!(state)

        state.active_layer .+= p
        state.active_layer .+= d

        if debug
            @debug &quot;   post-production ambitus: &quot; extrema(state.active_layer)
        end

        transport!(state)

        if debug
            @debug &quot;   post-transport ambitus: &quot; extrema(state.active_layer)
        end

        deposit = pf .* state.active_layer
        push_sediment!(state.sediment_buffer, deposit ./ input.depositional_resolution .|&gt; NoUnits)
        state.active_layer .-= deposit
        state.sediment_height .+= sum(deposit; dims=1)[1, :, :]
        state.step += 1

        return Frame(
            production=p,
            disintegration=d,
            deposition=deposit)
    end
end

function write_header(input::AbstractInput, output::AbstractOutput)
    @for_each(P -&gt; P.write_header(input, output), PARENTS)
end

include(&quot;ALCAP/Example.jl&quot;)

end</code></pre><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ca-with-production/">« Model with CA and Production</a><a class="docs-footer-nextpage" href="../models/without-ca/">Model without CA »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Thursday 16 October 2025 12:37">Thursday 16 October 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
