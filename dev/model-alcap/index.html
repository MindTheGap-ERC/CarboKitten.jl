<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ALCAPS · CarboKitten</title><meta name="title" content="ALCAPS · CarboKitten"/><meta property="og:title" content="ALCAPS · CarboKitten"/><meta property="twitter:title" content="ALCAPS · CarboKitten"/><meta name="description" content="Documentation for CarboKitten."/><meta property="og:description" content="Documentation for CarboKitten."/><meta property="twitter:description" content="Documentation for CarboKitten."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CarboKitten</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><span class="tocitem">Models</span><ul><li><a class="tocitem" href="../bosscher-1992/">Bosscher and Schlager 1992</a></li><li><a class="tocitem" href="../ca-with-production/">Model with CA and Production</a></li><li class="is-active"><a class="tocitem" href>ALCAPS</a><ul class="internal"><li><a class="tocitem" href="#Example-Input"><span>Example Input</span></a></li><li><a class="tocitem" href="#Modular-Implementation"><span>Modular Implementation</span></a></li><li><a class="tocitem" href="#API"><span>API</span></a></li></ul></li><li><a class="tocitem" href="../models/without-ca/">Model without CA</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../first_tutorial/">Tutorial (Pluto notebook)</a></li><li><a class="tocitem" href="../cases/tabular-sea-level/">Tabular Sea Levels</a></li></ul></li><li><a class="tocitem" href="../architecture/">Architecture</a></li><li><span class="tocitem">Model Components</span><ul><li><a class="tocitem" href="../components/components/">Components</a></li><li><a class="tocitem" href="../components/run_model/">Model Runner</a></li><li><a class="tocitem" href="../components/hdf5/">HDF5 Writer</a></li><li><a class="tocitem" href="../components/tag/">Tags</a></li><li><a class="tocitem" href="../components/boxes/">Boxes</a></li><li><a class="tocitem" href="../components/time/">Time</a></li><li><a class="tocitem" href="../components/facies/">Facies</a></li><li><a class="tocitem" href="../components/cellular-automata/">Cellular Automata</a></li><li><a class="tocitem" href="../components/waterdepth/">Water Depth</a></li><li><a class="tocitem" href="../components/production/">Production</a></li><li><a class="tocitem" href="../components/sediment_buffer/">Sediment Buffers</a></li><li><a class="tocitem" href="../active-layer-transport/">Active Layer Transport</a></li><li><a class="tocitem" href="../onshore-transport/">Onshore Transport</a></li></ul></li><li><a class="tocitem" href="../visualization/">Visualizations</a></li><li><span class="tocitem">CarboCAT</span><ul><li><a class="tocitem" href="../carbocat/">Summary</a></li></ul></li><li><span class="tocitem">Denudation</span><ul><li><a class="tocitem" href="../denudation/denudation/">Denudation</a></li><li><a class="tocitem" href="../denudation/empirical/">Empirical Denudation</a></li><li><a class="tocitem" href="../denudation/chemical/">Chemical Dissolution</a></li><li><a class="tocitem" href="../denudation/physical_erosion/">Physical Erosion</a></li></ul></li><li><span class="tocitem">Input &amp; Output</span><ul><li><a class="tocitem" href="../input-methods/">Input Methods</a></li><li><a class="tocitem" href="../data-export/">CSV Export</a></li></ul></li><li><span class="tocitem">Algorithms</span><ul><li><a class="tocitem" href="../unitful/">Unitful</a></li><li><a class="tocitem" href="../boxes/">Boxes</a></li><li><a class="tocitem" href="../stencils/">Stencils</a></li><li><a class="tocitem" href="../utility/">Utility</a></li><li><a class="tocitem" href="../finite-difference-transport/">Finite Difference</a></li></ul></li><li><a class="tocitem" href="../api/">API Documentation</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Models</a></li><li class="is-active"><a href>ALCAPS</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ALCAPS</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl/blob/main/docs/transpiled/model-alcap.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)"><a class="docs-heading-anchor" href="#Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)">Model with CA, Production and Active Layer transport (ALCAP)</a><a id="Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)-1"></a><a class="docs-heading-anchor-permalink" href="#Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)" title="Permalink"></a></h1><p>The following <strong>S</strong>edimentation model includes the Burgess 2013 <strong>C</strong>ellular <strong>A</strong>utomaton, Bosscher &amp; Schlager 1992 <strong>P</strong>roduction curves and an <strong>A</strong>ctive <strong>L</strong>ayer transport model, based on Paola 1992, henceforth ALCAP.</p><p><img src="../fig/alcaps-alternative.png" alt="Result from alternative input"/></p><h2 id="Example-Input"><a class="docs-heading-anchor" href="#Example-Input">Example Input</a><a id="Example-Input-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Input" title="Permalink"></a></h2><p>The following is a complete example input.</p><div class="noweb-label">⪡alcap-example-input⪢≣</div><pre><code class="language- julia hljs">const TAG = &quot;alcap-example&quot;

const FACIES = [
    ALCAP.Facies(
        viability_range=(4, 10),
        activation_range=(6, 10),
        maximum_growth_rate=500u&quot;m/Myr&quot;,
        extinction_coefficient=0.8u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=50.0u&quot;m/yr&quot;),
    ALCAP.Facies(
        viability_range=(4, 10),
        activation_range=(6, 10),
        maximum_growth_rate=400u&quot;m/Myr&quot;,
        extinction_coefficient=0.1u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=25.0u&quot;m/yr&quot;),
    ALCAP.Facies(
        viability_range=(4, 10),
        activation_range=(6, 10),
        maximum_growth_rate=100u&quot;m/Myr&quot;,
        extinction_coefficient=0.005u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=12.5u&quot;m/yr&quot;)
]

const PERIOD = 0.2u&quot;Myr&quot;
const AMPLITUDE = 4.0u&quot;m&quot;

const INPUT = ALCAP.Input(
    tag=&quot;$TAG&quot;,
    box=Box{Coast}(grid_size=(100, 50), phys_scale=150.0u&quot;m&quot;),
    time=TimeProperties(
        Δt=0.0002u&quot;Myr&quot;,
        steps=1000,
        write_interval=1),
    ca_interval=1,
    initial_topography=(x, y) -&gt; -x / 300.0,
    sea_level=t -&gt; AMPLITUDE * sin(2π * t / PERIOD),
    subsidence_rate=50.0u&quot;m/Myr&quot;,
    disintegration_rate=50.0u&quot;m/Myr&quot;,
    insolation=400.0u&quot;W/m^2&quot;,
    sediment_buffer_size=50,
    depositional_resolution=0.5u&quot;m&quot;,
    facies=FACIES)</code></pre><div class="noweb-label">file:<i>examples/model/alcap/run.jl</i></div><pre><code class="language- julia hljs">#| requires: src/Models/ALCAP.jl
#| creates: data/output/alcap-example.h5

module Script

using Unitful
using CarboKitten
using CarboKitten.Export: data_export, CSV
using CarboKitten.Transport.Solvers: forward_euler

const PATH = &quot;data/output&quot;

&lt;&lt;alcap-example-input&gt;&gt;

function main()
    run_model(Model{ALCAP}, INPUT, &quot;$(PATH)/$(TAG).h5&quot;)

    data_export(
        CSV(tuple.(10:20:70, 25),
            :sediment_accumulation_curve =&gt; &quot;$(PATH)/$(TAG)_sac.csv&quot;,
            :age_depth_model =&gt; &quot;$(PATH)/$(TAG)_adm.csv&quot;,
            :stratigraphic_column =&gt; &quot;$(PATH)/$(TAG)_sc.csv&quot;,
            :water_depth =&gt; &quot;$(PATH)/$(TAG)_wd.csv&quot;,
            :metadata =&gt; &quot;$(PATH)/$(TAG).toml&quot;),
        &quot;$(PATH)/$(TAG).h5&quot;)
end

end

Script.main()</code></pre><details><summary>Plotting code</summary><div class="noweb-label">file:<i>examples/model/alcap/plot.jl</i></div><pre><code class="language- julia hljs">#| creates: docs/src/_fig/alcaps-alternative.png
#| requires: data/output/alcap-example.h5
#| collect: figures

using GLMakie
using CarboKitten.Visualization

GLMakie.activate!()

save(&quot;docs/src/_fig/alcaps-alternative.png&quot;, summary_plot(&quot;data/output/alcap-example.h5&quot;))</code></pre></details><h2 id="Modular-Implementation"><a class="docs-heading-anchor" href="#Modular-Implementation">Modular Implementation</a><a id="Modular-Implementation-1"></a><a class="docs-heading-anchor-permalink" href="#Modular-Implementation" title="Permalink"></a></h2><div class="component-dag" style="overflow: scroll"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Pages: 1 -->
<svg width="1116pt" height="599pt"
 viewBox="0.00 0.00 1115.50 599.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 595)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-595 1111.5,-595 1111.5,4 -4,4"/>
<!-- Boxes -->
<g id="node1" class="node">
<title>Boxes</title>
<path fill="none" stroke="black" d="M630,-591C630,-591 492,-591 492,-591 486,-591 480,-585 480,-579 480,-579 480,-524 480,-524 480,-518 486,-512 492,-512 492,-512 630,-512 630,-512 636,-512 642,-518 642,-524 642,-524 642,-579 642,-579 642,-585 636,-591 630,-591"/>
<polyline fill="none" stroke="black" points="487,-560.5 635,-560.5 "/>
<text text-anchor="start" x="537.5" y="-569.3" font-family="Times,serif" font-weight="bold" font-size="14.00">Boxes</text>
<polygon fill="#cccccc" stroke="transparent" points="487,-537.5 487,-560.5 534,-560.5 534,-537.5 487,-537.5"/>
<polyline fill="none" stroke="black" points="487,-537.5 534,-537.5 534,-560.5 487,-560.5 "/>
<text text-anchor="start" x="491" y="-545.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="534,-537.5 534,-560.5 588,-560.5 588,-537.5 534,-537.5"/>
<polygon fill="none" stroke="black" points="534,-537.5 534,-560.5 588,-560.5 588,-537.5 534,-537.5"/>
<text text-anchor="start" x="538" y="-545.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="588,-537.5 588,-560.5 635,-560.5 635,-537.5 588,-537.5"/>
<polyline fill="none" stroke="black" points="635,-560.5 588,-560.5 588,-537.5 635,-537.5 "/>
<text text-anchor="start" x="592" y="-545.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="534,-518.5 534,-537.5 "/>
<text text-anchor="start" x="491" y="-525.5" font-family="monospace" font-size="10.00">box</text>
<polyline fill="none" stroke="black" points="588,-518.5 588,-537.5 "/>
<text text-anchor="start" x="538" y="-525.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="591" y="-525.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth -->
<g id="node3" class="node">
<title>WaterDepth</title>
<path fill="none" stroke="black" d="M600,-476C600,-476 342,-476 342,-476 336,-476 330,-470 330,-464 330,-464 330,-371 330,-371 330,-365 336,-359 342,-359 342,-359 600,-359 600,-359 606,-359 612,-365 612,-371 612,-371 612,-464 612,-464 612,-470 606,-476 600,-476"/>
<polyline fill="none" stroke="black" points="337,-445.5 605,-445.5 "/>
<text text-anchor="start" x="423.5" y="-454.3" font-family="Times,serif" font-weight="bold" font-size="14.00">WaterDepth</text>
<polygon fill="#cccccc" stroke="transparent" points="337,-422.5 337,-445.5 454,-445.5 454,-422.5 337,-422.5"/>
<polyline fill="none" stroke="black" points="337,-422.5 454,-422.5 454,-445.5 337,-445.5 "/>
<text text-anchor="start" x="341" y="-430.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="454,-422.5 454,-445.5 508,-445.5 508,-422.5 454,-422.5"/>
<polygon fill="none" stroke="black" points="454,-422.5 454,-445.5 508,-445.5 508,-422.5 454,-422.5"/>
<text text-anchor="start" x="458" y="-430.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="508,-422.5 508,-445.5 605,-445.5 605,-422.5 508,-422.5"/>
<polyline fill="none" stroke="black" points="605,-445.5 508,-445.5 508,-422.5 605,-422.5 "/>
<text text-anchor="start" x="512" y="-430.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="454,-403.5 454,-422.5 "/>
<text text-anchor="start" x="341" y="-410.5" font-family="monospace" font-size="10.00">sea_level</text>
<polyline fill="none" stroke="black" points="508,-403.5 508,-422.5 "/>
<text text-anchor="start" x="458" y="-410.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="511" y="-410.5" font-family="monospace" font-size="10.00">sediment_height</text>
<polyline fill="none" stroke="black" points="454,-384.5 454,-403.5 "/>
<text text-anchor="start" x="341" y="-391.5" font-family="monospace" font-size="10.00">initial_topography</text>
<polyline fill="none" stroke="black" points="508,-384.5 508,-403.5 "/>
<text text-anchor="start" x="458" y="-391.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="511" y="-391.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="454,-365.5 454,-384.5 "/>
<text text-anchor="start" x="341" y="-372.5" font-family="monospace" font-size="10.00">subsidence_rate</text>
<polyline fill="none" stroke="black" points="508,-365.5 508,-384.5 "/>
<text text-anchor="start" x="458" y="-372.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="511" y="-372.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;WaterDepth -->
<g id="edge2" class="edge">
<title>Boxes&#45;&gt;WaterDepth</title>
<path fill="none" stroke="black" d="M534.73,-511.97C528.93,-503.46 522.62,-494.21 516.31,-484.95"/>
<polygon fill="black" stroke="black" points="519.05,-482.76 510.52,-476.47 513.27,-486.7 519.05,-482.76"/>
</g>
<!-- SedimentBuffer -->
<g id="node6" class="node">
<title>SedimentBuffer</title>
<path fill="none" stroke="black" d="M300,-466.5C300,-466.5 12,-466.5 12,-466.5 6,-466.5 0,-460.5 0,-454.5 0,-454.5 0,-380.5 0,-380.5 0,-374.5 6,-368.5 12,-368.5 12,-368.5 300,-368.5 300,-368.5 306,-368.5 312,-374.5 312,-380.5 312,-380.5 312,-454.5 312,-454.5 312,-460.5 306,-466.5 300,-466.5"/>
<polyline fill="none" stroke="black" points="7,-436.5 305,-436.5 "/>
<text text-anchor="start" x="93" y="-445.3" font-family="Times,serif" font-weight="bold" font-size="14.00">SedimentBuffer</text>
<polygon fill="#cccccc" stroke="transparent" points="7,-413.5 7,-436.5 154,-436.5 154,-413.5 7,-413.5"/>
<polyline fill="none" stroke="black" points="7,-413.5 154,-413.5 154,-436.5 7,-436.5 "/>
<text text-anchor="start" x="11" y="-421.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="154,-413.5 154,-436.5 208,-436.5 208,-413.5 154,-413.5"/>
<polygon fill="none" stroke="black" points="154,-413.5 154,-436.5 208,-436.5 208,-413.5 154,-413.5"/>
<text text-anchor="start" x="158" y="-421.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="208,-413.5 208,-436.5 305,-436.5 305,-413.5 208,-413.5"/>
<polyline fill="none" stroke="black" points="305,-436.5 208,-436.5 208,-413.5 305,-413.5 "/>
<text text-anchor="start" x="212" y="-421.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="154,-394.5 154,-413.5 "/>
<text text-anchor="start" x="11" y="-401.5" font-family="monospace" font-size="10.00">sediment_buffer_size</text>
<polyline fill="none" stroke="black" points="208,-394.5 208,-413.5 "/>
<text text-anchor="start" x="158" y="-401.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="211" y="-401.5" font-family="monospace" font-size="10.00">sediment_buffer</text>
<polyline fill="none" stroke="black" points="154,-375.5 154,-394.5 "/>
<text text-anchor="start" x="11" y="-382.5" font-family="monospace" font-size="10.00">depositional_resolution</text>
<polyline fill="none" stroke="black" points="208,-375.5 208,-394.5 "/>
<text text-anchor="start" x="158" y="-382.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="211" y="-382.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;SedimentBuffer -->
<g id="edge10" class="edge">
<title>Boxes&#45;&gt;SedimentBuffer</title>
<path fill="none" stroke="black" d="M479.8,-515.04C476.84,-513.98 473.9,-512.96 471,-512 405.92,-490.44 386.79,-495.3 321,-476 314.1,-473.97 307.05,-471.83 299.96,-469.61"/>
<polygon fill="black" stroke="black" points="300.85,-466.22 290.26,-466.53 298.74,-472.89 300.85,-466.22"/>
</g>
<!-- CellularAutomaton -->
<g id="node10" class="node">
<title>CellularAutomaton</title>
<path fill="none" stroke="black" d="M1095.5,-304C1095.5,-304 834.5,-304 834.5,-304 828.5,-304 822.5,-298 822.5,-292 822.5,-292 822.5,-218 822.5,-218 822.5,-212 828.5,-206 834.5,-206 834.5,-206 1095.5,-206 1095.5,-206 1101.5,-206 1107.5,-212 1107.5,-218 1107.5,-218 1107.5,-292 1107.5,-292 1107.5,-298 1101.5,-304 1095.5,-304"/>
<polyline fill="none" stroke="black" points="830,-274 1101,-274 "/>
<text text-anchor="start" x="890" y="-282.8" font-family="Times,serif" font-weight="bold" font-size="14.00">CellularAutomaton</text>
<polygon fill="#cccccc" stroke="transparent" points="830,-251 830,-274 923,-274 923,-251 830,-251"/>
<polyline fill="none" stroke="black" points="830,-251 923,-251 923,-274 830,-274 "/>
<text text-anchor="start" x="834" y="-258.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="923,-251 923,-274 1028,-274 1028,-251 923,-251"/>
<polygon fill="none" stroke="black" points="923,-251 923,-274 1028,-274 1028,-251 923,-251"/>
<text text-anchor="start" x="927" y="-258.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="1028,-251 1028,-274 1101,-274 1101,-251 1028,-251"/>
<polyline fill="none" stroke="black" points="1101,-274 1028,-274 1028,-251 1101,-251 "/>
<text text-anchor="start" x="1032" y="-258.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="923,-232 923,-251 "/>
<text text-anchor="start" x="834" y="-239" font-family="monospace" font-size="10.00">ca_interval</text>
<polyline fill="none" stroke="black" points="1028,-232 1028,-251 "/>
<text text-anchor="start" x="927" y="-239" font-family="monospace" font-size="10.00">viability_range</text>
<text text-anchor="start" x="1031" y="-239" font-family="monospace" font-size="10.00">ca</text>
<polyline fill="none" stroke="black" points="923,-213 923,-232 "/>
<text text-anchor="start" x="834" y="-220" font-family="monospace" font-size="10.00">ca_random_seed</text>
<polyline fill="none" stroke="black" points="1028,-213 1028,-232 "/>
<text text-anchor="start" x="927" y="-220" font-family="monospace" font-size="10.00">activation_range</text>
<text text-anchor="start" x="1031" y="-220" font-family="monospace" font-size="10.00">ca_priority</text>
</g>
<!-- Boxes&#45;&gt;CellularAutomaton -->
<g id="edge17" class="edge">
<title>Boxes&#45;&gt;CellularAutomaton</title>
<path fill="none" stroke="black" d="M642,-538.46C691.41,-528.09 753.89,-509.32 801,-476 860.68,-433.79 907.74,-363.14 935.86,-313.3"/>
<polygon fill="black" stroke="black" points="939.1,-314.7 940.89,-304.25 932.98,-311.29 939.1,-314.7"/>
</g>
<!-- TimeIntegration -->
<g id="node2" class="node">
<title>TimeIntegration</title>
<path fill="none" stroke="black" d="M450,-591C450,-591 312,-591 312,-591 306,-591 300,-585 300,-579 300,-579 300,-524 300,-524 300,-518 306,-512 312,-512 312,-512 450,-512 450,-512 456,-512 462,-518 462,-524 462,-524 462,-579 462,-579 462,-585 456,-591 450,-591"/>
<polyline fill="none" stroke="black" points="307,-560.5 455,-560.5 "/>
<text text-anchor="start" x="315.5" y="-569.3" font-family="Times,serif" font-weight="bold" font-size="14.00">TimeIntegration</text>
<polygon fill="#cccccc" stroke="transparent" points="307,-537.5 307,-560.5 354,-560.5 354,-537.5 307,-537.5"/>
<polyline fill="none" stroke="black" points="307,-537.5 354,-537.5 354,-560.5 307,-560.5 "/>
<text text-anchor="start" x="311" y="-545.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="354,-537.5 354,-560.5 408,-560.5 408,-537.5 354,-537.5"/>
<polygon fill="none" stroke="black" points="354,-537.5 354,-560.5 408,-560.5 408,-537.5 354,-537.5"/>
<text text-anchor="start" x="358" y="-545.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="408,-537.5 408,-560.5 455,-560.5 455,-537.5 408,-537.5"/>
<polyline fill="none" stroke="black" points="455,-560.5 408,-560.5 408,-537.5 455,-537.5 "/>
<text text-anchor="start" x="412" y="-545.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="354,-518.5 354,-537.5 "/>
<text text-anchor="start" x="311" y="-525.5" font-family="monospace" font-size="10.00">time</text>
<polyline fill="none" stroke="black" points="408,-518.5 408,-537.5 "/>
<text text-anchor="start" x="358" y="-525.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="411" y="-525.5" font-family="monospace" font-size="10.00">step</text>
</g>
<!-- TimeIntegration&#45;&gt;WaterDepth -->
<g id="edge1" class="edge">
<title>TimeIntegration&#45;&gt;WaterDepth</title>
<path fill="none" stroke="black" d="M407.27,-511.97C413.07,-503.46 419.38,-494.21 425.69,-484.95"/>
<polygon fill="black" stroke="black" points="428.73,-486.7 431.48,-476.47 422.95,-482.76 428.73,-486.7"/>
</g>
<!-- ActiveLayer -->
<g id="node4" class="node">
<title>ActiveLayer</title>
<path fill="none" stroke="black" d="M396.5,-313.5C396.5,-313.5 101.5,-313.5 101.5,-313.5 95.5,-313.5 89.5,-307.5 89.5,-301.5 89.5,-301.5 89.5,-208.5 89.5,-208.5 89.5,-202.5 95.5,-196.5 101.5,-196.5 101.5,-196.5 396.5,-196.5 396.5,-196.5 402.5,-196.5 408.5,-202.5 408.5,-208.5 408.5,-208.5 408.5,-301.5 408.5,-301.5 408.5,-307.5 402.5,-313.5 396.5,-313.5"/>
<polyline fill="none" stroke="black" points="97,-283 402,-283 "/>
<text text-anchor="start" x="203.5" y="-291.8" font-family="Times,serif" font-weight="bold" font-size="14.00">ActiveLayer</text>
<polygon fill="#cccccc" stroke="transparent" points="97,-260 97,-283 220,-283 220,-260 97,-260"/>
<polyline fill="none" stroke="black" points="97,-260 220,-260 220,-283 97,-283 "/>
<text text-anchor="start" x="101" y="-267.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="220,-260 220,-283 355,-283 355,-260 220,-260"/>
<polygon fill="none" stroke="black" points="220,-260 220,-283 355,-283 355,-260 220,-260"/>
<text text-anchor="start" x="224" y="-267.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="355,-260 355,-283 402,-283 402,-260 355,-260"/>
<polyline fill="none" stroke="black" points="402,-283 355,-283 355,-260 402,-260 "/>
<text text-anchor="start" x="359" y="-267.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="220,-241 220,-260 "/>
<text text-anchor="start" x="101" y="-248" font-family="monospace" font-size="10.00">disintegration_rate</text>
<polyline fill="none" stroke="black" points="355,-241 355,-260 "/>
<text text-anchor="start" x="224" y="-248" font-family="monospace" font-size="10.00">diffusion_coefficient</text>
<text text-anchor="start" x="358" y="-248" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="220,-222 220,-241 "/>
<text text-anchor="start" x="101" y="-229" font-family="monospace" font-size="10.00">transport_solver</text>
<polyline fill="none" stroke="black" points="355,-222 355,-241 "/>
<text text-anchor="start" x="224" y="-229" font-family="monospace" font-size="10.00">wave_velocity</text>
<text text-anchor="start" x="358" y="-229" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="220,-203 220,-222 "/>
<text text-anchor="start" x="101" y="-210" font-family="monospace" font-size="10.00">transport_substeps</text>
<polyline fill="none" stroke="black" points="355,-203 355,-222 "/>
<text text-anchor="start" x="224" y="-210" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="358" y="-210" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;ActiveLayer -->
<g id="edge3" class="edge">
<title>WaterDepth&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M391.17,-358.78C373.6,-346.08 354.89,-332.56 337.02,-319.63"/>
<polygon fill="black" stroke="black" points="339.03,-316.77 328.87,-313.74 334.92,-322.44 339.03,-316.77"/>
</g>
<!-- H5Writer -->
<g id="node7" class="node">
<title>H5Writer</title>
<path fill="none" stroke="black" d="M503.5,-273C503.5,-273 438.5,-273 438.5,-273 432.5,-273 426.5,-267 426.5,-261 426.5,-261 426.5,-249 426.5,-249 426.5,-243 432.5,-237 438.5,-237 438.5,-237 503.5,-237 503.5,-237 509.5,-237 515.5,-243 515.5,-249 515.5,-249 515.5,-261 515.5,-261 515.5,-267 509.5,-273 503.5,-273"/>
<text text-anchor="start" x="433.5" y="-252.3" font-family="Times,serif" font-weight="bold" font-size="14.00">H5Writer</text>
</g>
<!-- WaterDepth&#45;&gt;H5Writer -->
<g id="edge7" class="edge">
<title>WaterDepth&#45;&gt;H5Writer</title>
<path fill="none" stroke="black" d="M471,-358.56C471,-332.98 471,-304.13 471,-283.55"/>
<polygon fill="black" stroke="black" points="474.5,-283.33 471,-273.33 467.5,-283.33 474.5,-283.33"/>
</g>
<!-- Production -->
<g id="node8" class="node">
<title>Production</title>
<path fill="none" stroke="black" d="M792.5,-323C792.5,-323 545.5,-323 545.5,-323 539.5,-323 533.5,-317 533.5,-311 533.5,-311 533.5,-199 533.5,-199 533.5,-193 539.5,-187 545.5,-187 545.5,-187 792.5,-187 792.5,-187 798.5,-187 804.5,-193 804.5,-199 804.5,-199 804.5,-311 804.5,-311 804.5,-317 798.5,-323 792.5,-323"/>
<polyline fill="none" stroke="black" points="541,-293 798,-293 "/>
<text text-anchor="start" x="625.5" y="-301.8" font-family="Times,serif" font-weight="bold" font-size="14.00">Production</text>
<polygon fill="#cccccc" stroke="transparent" points="541,-270 541,-293 610,-293 610,-270 541,-270"/>
<polyline fill="none" stroke="black" points="541,-270 610,-270 610,-293 541,-293 "/>
<text text-anchor="start" x="545" y="-277.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="610,-270 610,-293 751,-293 751,-270 610,-270"/>
<polygon fill="none" stroke="black" points="610,-270 610,-293 751,-293 751,-270 610,-270"/>
<text text-anchor="start" x="614" y="-277.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="751,-270 751,-293 798,-293 798,-270 751,-270"/>
<polyline fill="none" stroke="black" points="798,-293 751,-293 751,-270 798,-270 "/>
<text text-anchor="start" x="755" y="-277.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="610,-251 610,-270 "/>
<text text-anchor="start" x="545" y="-258" font-family="monospace" font-size="10.00">insolation</text>
<polyline fill="none" stroke="black" points="751,-251 751,-270 "/>
<text text-anchor="start" x="614" y="-258" font-family="monospace" font-size="10.00">maximum_growth_rate</text>
<text text-anchor="start" x="754" y="-258" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="610,-232 610,-251 "/>
<text text-anchor="start" x="545" y="-239" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="751,-232 751,-251 "/>
<text text-anchor="start" x="614" y="-239" font-family="monospace" font-size="10.00">extinction_coefficient</text>
<text text-anchor="start" x="754" y="-239" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="610,-213 610,-232 "/>
<text text-anchor="start" x="545" y="-220" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="751,-213 751,-232 "/>
<text text-anchor="start" x="614" y="-220" font-family="monospace" font-size="10.00">saturation_intensity</text>
<text text-anchor="start" x="754" y="-220" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="610,-194 610,-213 "/>
<text text-anchor="start" x="545" y="-201" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="751,-194 751,-213 "/>
<text text-anchor="start" x="614" y="-201" font-family="monospace" font-size="10.00">production_offset</text>
<text text-anchor="start" x="754" y="-201" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;Production -->
<g id="edge8" class="edge">
<title>WaterDepth&#45;&gt;Production</title>
<path fill="none" stroke="black" d="M542.2,-358.78C553.93,-349.27 566.23,-339.3 578.36,-329.47"/>
<polygon fill="black" stroke="black" points="580.74,-332.05 586.3,-323.03 576.33,-326.61 580.74,-332.05"/>
</g>
<!-- ALCAP -->
<g id="node12" class="node">
<title>ALCAP</title>
<path fill="none" stroke="black" d="M564.5,-36C564.5,-36 521.5,-36 521.5,-36 515.5,-36 509.5,-30 509.5,-24 509.5,-24 509.5,-12 509.5,-12 509.5,-6 515.5,0 521.5,0 521.5,0 564.5,0 564.5,0 570.5,0 576.5,-6 576.5,-12 576.5,-12 576.5,-24 576.5,-24 576.5,-30 570.5,-36 564.5,-36"/>
<text text-anchor="start" x="516.5" y="-15.3" font-family="Times,serif" font-weight="bold" font-size="14.00">ALCAP</text>
</g>
<!-- ActiveLayer&#45;&gt;ALCAP -->
<g id="edge16" class="edge">
<title>ActiveLayer&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M321.3,-196.21C383.11,-146.8 468.93,-78.21 513.49,-42.59"/>
<polygon fill="black" stroke="black" points="515.95,-45.1 521.57,-36.13 511.58,-39.64 515.95,-45.1"/>
</g>
<!-- FaciesBase -->
<g id="node5" class="node">
<title>FaciesBase</title>
<path fill="none" stroke="black" d="M780,-457C780,-457 642,-457 642,-457 636,-457 630,-451 630,-445 630,-445 630,-390 630,-390 630,-384 636,-378 642,-378 642,-378 780,-378 780,-378 786,-378 792,-384 792,-390 792,-390 792,-445 792,-445 792,-451 786,-457 780,-457"/>
<polyline fill="none" stroke="black" points="637,-426.5 785,-426.5 "/>
<text text-anchor="start" x="667" y="-435.3" font-family="Times,serif" font-weight="bold" font-size="14.00">FaciesBase</text>
<polygon fill="#cccccc" stroke="transparent" points="637,-403.5 637,-426.5 684,-426.5 684,-403.5 637,-403.5"/>
<polyline fill="none" stroke="black" points="637,-403.5 684,-403.5 684,-426.5 637,-426.5 "/>
<text text-anchor="start" x="641" y="-411.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="684,-403.5 684,-426.5 738,-426.5 738,-403.5 684,-403.5"/>
<polygon fill="none" stroke="black" points="684,-403.5 684,-426.5 738,-426.5 738,-403.5 684,-403.5"/>
<text text-anchor="start" x="688" y="-411.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="738,-403.5 738,-426.5 785,-426.5 785,-403.5 738,-403.5"/>
<polyline fill="none" stroke="black" points="785,-426.5 738,-426.5 738,-403.5 785,-403.5 "/>
<text text-anchor="start" x="742" y="-411.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="684,-384.5 684,-403.5 "/>
<text text-anchor="start" x="641" y="-391.5" font-family="monospace" font-size="10.00">facies</text>
<polyline fill="none" stroke="black" points="738,-384.5 738,-403.5 "/>
<text text-anchor="start" x="688" y="-391.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="741" y="-391.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- FaciesBase&#45;&gt;ActiveLayer -->
<g id="edge4" class="edge">
<title>FaciesBase&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M658.11,-377.9C646.35,-370.71 633.61,-363.92 621,-359 535.64,-325.69 506.15,-348.01 418,-323 411.37,-321.12 404.64,-319.07 397.88,-316.9"/>
<polygon fill="black" stroke="black" points="398.55,-313.43 387.96,-313.63 396.36,-320.08 398.55,-313.43"/>
</g>
<!-- FaciesBase&#45;&gt;H5Writer -->
<g id="edge6" class="edge">
<title>FaciesBase&#45;&gt;H5Writer</title>
<path fill="none" stroke="black" d="M654.44,-377.84C643.57,-371.14 632.11,-364.56 621,-359 580.24,-338.62 561.94,-349.68 525,-323 509.7,-311.95 496.35,-295.49 486.75,-281.65"/>
<polygon fill="black" stroke="black" points="489.46,-279.4 481,-273.02 483.63,-283.28 489.46,-279.4"/>
</g>
<!-- FaciesBase&#45;&gt;Production -->
<g id="edge9" class="edge">
<title>FaciesBase&#45;&gt;Production</title>
<path fill="none" stroke="black" d="M700.83,-377.65C697.33,-364.25 693.27,-348.74 689.25,-333.37"/>
<polygon fill="black" stroke="black" points="692.53,-332.1 686.61,-323.31 685.76,-333.87 692.53,-332.1"/>
</g>
<!-- FaciesBase&#45;&gt;CellularAutomaton -->
<g id="edge18" class="edge">
<title>FaciesBase&#45;&gt;CellularAutomaton</title>
<path fill="none" stroke="black" d="M772.16,-377.85C804.51,-357.41 844.72,-332 880.05,-309.68"/>
<polygon fill="black" stroke="black" points="882.33,-312.38 888.91,-304.08 878.59,-306.46 882.33,-312.38"/>
</g>
<!-- SedimentBuffer&#45;&gt;ActiveLayer -->
<g id="edge5" class="edge">
<title>SedimentBuffer&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M183.9,-368.34C192.22,-353.99 201.49,-337.99 210.37,-322.67"/>
<polygon fill="black" stroke="black" points="213.55,-324.16 215.54,-313.75 207.5,-320.65 213.55,-324.16"/>
</g>
<!-- H5Writer&#45;&gt;ALCAP -->
<g id="edge14" class="edge">
<title>H5Writer&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M476.29,-236.72C488.7,-196.23 519.72,-94.98 534.68,-46.16"/>
<polygon fill="black" stroke="black" points="538.11,-46.89 537.7,-36.31 531.42,-44.84 538.11,-46.89"/>
</g>
<!-- CAProduction -->
<g id="node9" class="node">
<title>CAProduction</title>
<path fill="none" stroke="black" d="M691.5,-129.5C691.5,-129.5 592.5,-129.5 592.5,-129.5 586.5,-129.5 580.5,-123.5 580.5,-117.5 580.5,-117.5 580.5,-105.5 580.5,-105.5 580.5,-99.5 586.5,-93.5 592.5,-93.5 592.5,-93.5 691.5,-93.5 691.5,-93.5 697.5,-93.5 703.5,-99.5 703.5,-105.5 703.5,-105.5 703.5,-117.5 703.5,-117.5 703.5,-123.5 697.5,-129.5 691.5,-129.5"/>
<text text-anchor="start" x="587.5" y="-108.8" font-family="Times,serif" font-weight="bold" font-size="14.00">CAProduction</text>
</g>
<!-- Production&#45;&gt;CAProduction -->
<g id="edge12" class="edge">
<title>Production&#45;&gt;CAProduction</title>
<path fill="none" stroke="black" d="M656.21,-186.98C653.01,-170.18 649.75,-153.11 647.16,-139.55"/>
<polygon fill="black" stroke="black" points="650.56,-138.67 645.24,-129.5 643.68,-139.98 650.56,-138.67"/>
</g>
<!-- CAProduction&#45;&gt;ALCAP -->
<g id="edge15" class="edge">
<title>CAProduction&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M623.38,-93.29C608.03,-79.1 586.09,-58.82 569,-43.03"/>
<polygon fill="black" stroke="black" points="571.26,-40.35 561.54,-36.13 566.51,-45.49 571.26,-40.35"/>
</g>
<!-- CellularAutomaton&#45;&gt;CAProduction -->
<g id="edge11" class="edge">
<title>CellularAutomaton&#45;&gt;CAProduction</title>
<path fill="none" stroke="black" d="M859.42,-205.95C844.25,-199.4 828.78,-192.9 814,-187 769.74,-169.32 756.52,-170.42 713,-151 702.11,-146.14 690.61,-140.26 680.12,-134.57"/>
<polygon fill="black" stroke="black" points="681.64,-131.41 671.19,-129.65 678.26,-137.54 681.64,-131.41"/>
</g>
<!-- Tag -->
<g id="node11" class="node">
<title>Tag</title>
<path fill="none" stroke="black" d="M872,-151C872,-151 734,-151 734,-151 728,-151 722,-145 722,-139 722,-139 722,-84 722,-84 722,-78 728,-72 734,-72 734,-72 872,-72 872,-72 878,-72 884,-78 884,-84 884,-84 884,-139 884,-139 884,-145 878,-151 872,-151"/>
<polyline fill="none" stroke="black" points="729,-120.5 877,-120.5 "/>
<text text-anchor="start" x="789" y="-129.3" font-family="Times,serif" font-weight="bold" font-size="14.00">Tag</text>
<polygon fill="#cccccc" stroke="transparent" points="729,-97.5 729,-120.5 776,-120.5 776,-97.5 729,-97.5"/>
<polyline fill="none" stroke="black" points="729,-97.5 776,-97.5 776,-120.5 729,-120.5 "/>
<text text-anchor="start" x="733" y="-105.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="776,-97.5 776,-120.5 830,-120.5 830,-97.5 776,-97.5"/>
<polygon fill="none" stroke="black" points="776,-97.5 776,-120.5 830,-120.5 830,-97.5 776,-97.5"/>
<text text-anchor="start" x="780" y="-105.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="830,-97.5 830,-120.5 877,-120.5 877,-97.5 830,-97.5"/>
<polyline fill="none" stroke="black" points="877,-120.5 830,-120.5 830,-97.5 877,-97.5 "/>
<text text-anchor="start" x="834" y="-105.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="776,-78.5 776,-97.5 "/>
<text text-anchor="start" x="733" y="-85.5" font-family="monospace" font-size="10.00">tag</text>
<polyline fill="none" stroke="black" points="830,-78.5 830,-97.5 "/>
<text text-anchor="start" x="780" y="-85.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="833" y="-85.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Tag&#45;&gt;ALCAP -->
<g id="edge13" class="edge">
<title>Tag&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M721.71,-75.29C718.78,-74.16 715.87,-73.06 713,-72 670.5,-56.33 620.95,-41.23 586.35,-31.19"/>
<polygon fill="black" stroke="black" points="587.14,-27.77 576.56,-28.37 585.2,-34.5 587.14,-27.77"/>
</g>
</g>
</svg>
</div><div class="noweb-label">file:<i>src/Models/ALCAP/Example.jl</i></div><pre><code class="language- julia hljs">module Example

using Unitful
using ..ALCAP: ALCAP
using CarboKitten.Boxes: Box, Coast
using CarboKitten.Config: TimeProperties

&lt;&lt;alcap-example-input&gt;&gt;

end</code></pre><div class="noweb-label">file:<i>src/Models/ALCAP.jl</i></div><pre><code class="language- julia hljs">@compose module ALCAP
@mixin Tag, H5Writer, CAProduction, ActiveLayer

using ..Common
using ..CAProduction: production
using ..TimeIntegration
using ..WaterDepth
using ModuleMixins: @for_each

export Input, Facies

function initial_state(input::AbstractInput)
    ca_state = CellularAutomaton.initial_state(input)
    for _ in 1:20
        CellularAutomaton.step!(input)(ca_state)
    end

    sediment_height = zeros(Height, input.box.grid_size...)
    sediment_buffer = zeros(Float64, input.sediment_buffer_size, n_facies(input), input.box.grid_size...)

    return State(
        step=0, sediment_height=sediment_height,
        sediment_buffer=sediment_buffer,
        ca=ca_state.ca, ca_priority=ca_state.ca_priority)
end

function step!(input::Input)
    step_ca! = CellularAutomaton.step!(input)
    disintegrate! = ActiveLayer.disintegrator(input)
    produce = production(input)
    transport! = ActiveLayer.transporter(input)

    function (state::State)
        if mod(state.step, input.ca_interval) == 0
            step_ca!(state)
        end

        p = produce(state)
        d = disintegrate!(state)

        active_layer = p .+ d
        transport!(state, active_layer)

        push_sediment!(state.sediment_buffer, active_layer ./ input.depositional_resolution .|&gt; NoUnits)
        state.sediment_height .+= sum(active_layer; dims=1)[1,:,:]
        state.step += 1

        return Frame(
            production = p,
            disintegration = d,
            deposition = active_layer)
    end
end

function write_header(fid, input::AbstractInput)
    @for_each(P -&gt; P.write_header(fid, input), PARENTS)
end

include(&quot;ALCAP/Example.jl&quot;)

end</code></pre><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ca-with-production/">« Model with CA and Production</a><a class="docs-footer-nextpage" href="../models/without-ca/">Model without CA »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Wednesday 7 May 2025 08:22">Wednesday 7 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
