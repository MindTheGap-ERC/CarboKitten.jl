<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ALCAPS · CarboKitten</title><meta name="title" content="ALCAPS · CarboKitten"/><meta property="og:title" content="ALCAPS · CarboKitten"/><meta property="twitter:title" content="ALCAPS · CarboKitten"/><meta name="description" content="Documentation for CarboKitten."/><meta property="og:description" content="Documentation for CarboKitten."/><meta property="twitter:description" content="Documentation for CarboKitten."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="CarboKitten logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">CarboKitten</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../getting-started/">Getting started</a></li><li><span class="tocitem">Models</span><ul><li><a class="tocitem" href="../bosscher-1992/">Bosscher and Schlager 1992</a></li><li><a class="tocitem" href="../ca-with-production/">Model with CA and Production</a></li><li class="is-active"><a class="tocitem" href>ALCAPS</a><ul class="internal"><li><a class="tocitem" href="#Example-Input"><span>Example Input</span></a></li><li><a class="tocitem" href="#Modular-Implementation"><span>Modular Implementation</span></a></li><li><a class="tocitem" href="#API"><span>API</span></a></li></ul></li><li><a class="tocitem" href="../models/without-ca/">Model without CA</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../first_tutorial/">Tutorial (Pluto notebook)</a></li><li><a class="tocitem" href="../cases/tabular-sea-level/">Tabular Sea Levels</a></li><li><a class="tocitem" href="../initial-topography/">Initial Topography</a></li></ul></li><li><a class="tocitem" href="../architecture/">Architecture</a></li><li><span class="tocitem">Model Components</span><ul><li><a class="tocitem" href="../components/components/">Components</a></li><li><a class="tocitem" href="../components/tag/">Tags</a></li><li><a class="tocitem" href="../components/boxes/">Boxes</a></li><li><a class="tocitem" href="../components/time/">Time</a></li><li><a class="tocitem" href="../components/output/">Output</a></li><li><a class="tocitem" href="../components/facies/">Facies</a></li><li><a class="tocitem" href="../components/cellular-automata/">Cellular Automata</a></li><li><a class="tocitem" href="../components/waterdepth/">Water Depth</a></li><li><a class="tocitem" href="../components/production/">Production</a></li><li><a class="tocitem" href="../components/sediment_buffer/">Sediment Buffers</a></li><li><a class="tocitem" href="../active-layer-transport/">Active Layer Transport</a></li><li><a class="tocitem" href="../onshore-transport/">Onshore Transport</a></li></ul></li><li><a class="tocitem" href="../visualization/">Visualizations</a></li><li><span class="tocitem">CarboCAT</span><ul><li><a class="tocitem" href="../carbocat/">Summary</a></li></ul></li><li><span class="tocitem">Denudation</span><ul><li><a class="tocitem" href="../denudation/denudation/">Denudation</a></li><li><a class="tocitem" href="../denudation/empirical/">Empirical Denudation</a></li><li><a class="tocitem" href="../denudation/chemical/">Chemical Dissolution</a></li><li><a class="tocitem" href="../denudation/physical_erosion/">Physical Erosion</a></li></ul></li><li><span class="tocitem">Input &amp; Output</span><ul><li><a class="tocitem" href="../input-methods/">Input Methods</a></li><li><a class="tocitem" href="../output/abstract/">Output</a></li><li><a class="tocitem" href="../output/h5writer/">HDF5 Output</a></li><li><a class="tocitem" href="../output/memory-writer/">Output to Memory</a></li><li><a class="tocitem" href="../data-export/">CSV Export</a></li><li><a class="tocitem" href="../debugging/">Trouble shooting and diagnostics</a></li></ul></li><li><span class="tocitem">Algorithms</span><ul><li><a class="tocitem" href="../unitful/">Unitful</a></li><li><a class="tocitem" href="../boxes/">Boxes</a></li><li><a class="tocitem" href="../stencils/">Stencils</a></li><li><a class="tocitem" href="../utility/">Utility</a></li><li><a class="tocitem" href="../finite-difference-transport/">Finite Difference</a></li></ul></li><li><a class="tocitem" href="../api/">API Documentation</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Models</a></li><li class="is-active"><a href>ALCAPS</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ALCAPS</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl/blob/main/docs/transpiled/model-alcap.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)"><a class="docs-heading-anchor" href="#Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)">Model with CA, Production and Active Layer transport (ALCAP)</a><a id="Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)-1"></a><a class="docs-heading-anchor-permalink" href="#Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)" title="Permalink"></a></h1><p>The following <strong>S</strong>edimentation model includes the Burgess 2013 <strong>C</strong>ellular <strong>A</strong>utomaton, Bosscher &amp; Schlager 1992 <strong>P</strong>roduction curves and an <strong>A</strong>ctive <strong>L</strong>ayer transport model, based on Paola 1992, henceforth ALCAP.</p><p><img src="../fig/alcaps-alternative.png" alt="Result from alternative input"/></p><h2 id="Example-Input"><a class="docs-heading-anchor" href="#Example-Input">Example Input</a><a id="Example-Input-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Input" title="Permalink"></a></h2><p>The following is a complete example input.</p><div class="noweb-label">⪡alcap-example-input⪢≣</div><pre><code class="language- julia hljs">const TAG = &quot;alcap-example&quot;

const FACIES = [
    ALCAP.Facies(
        viability_range = (4, 10),
        activation_range = (6, 10),
        maximum_growth_rate=500u&quot;m/Myr&quot;,
        extinction_coefficient=0.8u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=50.0u&quot;m/yr&quot;),
    ALCAP.Facies(
        viability_range = (4, 10),
        activation_range = (6, 10),
        maximum_growth_rate=400u&quot;m/Myr&quot;,
        extinction_coefficient=0.1u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=25.0u&quot;m/yr&quot;),
    ALCAP.Facies(
        viability_range = (4, 10),
        activation_range = (6, 10),
        maximum_growth_rate=100u&quot;m/Myr&quot;,
        extinction_coefficient=0.005u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=12.5u&quot;m/yr&quot;)
]

const PERIOD = 0.2u&quot;Myr&quot;
const AMPLITUDE = 4.0u&quot;m&quot;

const INPUT = ALCAP.Input(
    tag=&quot;$TAG&quot;,
    box=Box{Coast}(grid_size=(100, 50), phys_scale=150.0u&quot;m&quot;),
    time=TimeProperties(
        Δt=0.0002u&quot;Myr&quot;,
        steps=5000),
    output=Dict(
        :topography =&gt; OutputSpec(slice=(:,:), write_interval=10),
        :profile =&gt; OutputSpec(slice=(:, 25), write_interval=1)),
    ca_interval=1,
    initial_topography=(x, y) -&gt; -x / 300.0,
    sea_level=t -&gt; AMPLITUDE * sin(2π * t / PERIOD),
    subsidence_rate=50.0u&quot;m/Myr&quot;,
    disintegration_rate=50.0u&quot;m/Myr&quot;,
    insolation=400.0u&quot;W/m^2&quot;,
    sediment_buffer_size=50,
    depositional_resolution=0.5u&quot;m&quot;,
    facies=FACIES)</code></pre><div class="noweb-label">file:<i>examples/model/alcap/run.jl</i></div><pre><code class="language- julia hljs">#| requires: src/Models/ALCAP.jl
#| creates: data/output/alcap-example.h5

module Script

using Unitful
using CarboKitten
using CarboKitten.Export: read_slice, data_export, CSV

const PATH = &quot;data/output&quot;

&lt;&lt;alcap-example-input&gt;&gt;

function main()
    run_model(Model{ALCAP}, INPUT, &quot;$(PATH)/$(TAG).h5&quot;)
    header, profile = read_slice(&quot;$(PATH)/$(TAG).h5&quot;, :profile)
    columns = [profile[i] for i in 10:20:70]
    data_export(
        CSV(:sediment_accumulation_curve =&gt; &quot;$(PATH)/$(TAG)_sac.csv&quot;,
            :age_depth_model =&gt; &quot;$(PATH)/$(TAG)_adm.csv&quot;,
            :stratigraphic_column =&gt; &quot;$(PATH)/$(TAG)_sc.csv&quot;,
            :water_depth =&gt; &quot;$(PATH)/$(TAG)_wd.csv&quot;,
            :metadata =&gt; &quot;$(PATH)/$(TAG).toml&quot;),
         header,
         columns)
end

end

Script.main()</code></pre><details><summary>Plotting code</summary><div class="noweb-label">file:<i>examples/model/alcap/plot.jl</i></div><pre><code class="language- julia hljs">#| creates: docs/src/_fig/alcaps-alternative.png
#| requires: data/output/alcap-example.h5
#| collect: figures

using GLMakie
using CarboKitten.Visualization

GLMakie.activate!()

save(&quot;docs/src/_fig/alcaps-alternative.png&quot;, summary_plot(&quot;data/output/alcap-example.h5&quot;))</code></pre></details><h2 id="Modular-Implementation"><a class="docs-heading-anchor" href="#Modular-Implementation">Modular Implementation</a><a id="Modular-Implementation-1"></a><a class="docs-heading-anchor-permalink" href="#Modular-Implementation" title="Permalink"></a></h2><div class="component-dag" style="overflow: scroll"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Pages: 1 -->
<svg width="1207pt" height="656pt"
 viewBox="0.00 0.00 1206.50 656.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 652)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-652 1202.5,-652 1202.5,4 -4,4"/>
<!-- TimeIntegration -->
<g id="node1" class="node">
<title>TimeIntegration</title>
<path fill="none" stroke="black" d="M450,-648C450,-648 312,-648 312,-648 306,-648 300,-642 300,-636 300,-636 300,-581 300,-581 300,-575 306,-569 312,-569 312,-569 450,-569 450,-569 456,-569 462,-575 462,-581 462,-581 462,-636 462,-636 462,-642 456,-648 450,-648"/>
<polyline fill="none" stroke="black" points="307,-617.5 455,-617.5 "/>
<text text-anchor="start" x="315.5" y="-626.3" font-family="Times,serif" font-weight="bold" font-size="14.00">TimeIntegration</text>
<polygon fill="#cccccc" stroke="transparent" points="307,-594.5 307,-617.5 354,-617.5 354,-594.5 307,-594.5"/>
<polyline fill="none" stroke="black" points="307,-594.5 354,-594.5 354,-617.5 307,-617.5 "/>
<text text-anchor="start" x="311" y="-602.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="354,-594.5 354,-617.5 408,-617.5 408,-594.5 354,-594.5"/>
<polygon fill="none" stroke="black" points="354,-594.5 354,-617.5 408,-617.5 408,-594.5 354,-594.5"/>
<text text-anchor="start" x="358" y="-602.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="408,-594.5 408,-617.5 455,-617.5 455,-594.5 408,-594.5"/>
<polyline fill="none" stroke="black" points="455,-617.5 408,-617.5 408,-594.5 455,-594.5 "/>
<text text-anchor="start" x="412" y="-602.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="354,-575.5 354,-594.5 "/>
<text text-anchor="start" x="311" y="-582.5" font-family="monospace" font-size="10.00">time</text>
<polyline fill="none" stroke="black" points="408,-575.5 408,-594.5 "/>
<text text-anchor="start" x="358" y="-582.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="411" y="-582.5" font-family="monospace" font-size="10.00">step</text>
</g>
<!-- WaterDepth -->
<g id="node3" class="node">
<title>WaterDepth</title>
<path fill="none" stroke="black" d="M600,-533C600,-533 342,-533 342,-533 336,-533 330,-527 330,-521 330,-521 330,-428 330,-428 330,-422 336,-416 342,-416 342,-416 600,-416 600,-416 606,-416 612,-422 612,-428 612,-428 612,-521 612,-521 612,-527 606,-533 600,-533"/>
<polyline fill="none" stroke="black" points="337,-502.5 605,-502.5 "/>
<text text-anchor="start" x="423.5" y="-511.3" font-family="Times,serif" font-weight="bold" font-size="14.00">WaterDepth</text>
<polygon fill="#cccccc" stroke="transparent" points="337,-479.5 337,-502.5 454,-502.5 454,-479.5 337,-479.5"/>
<polyline fill="none" stroke="black" points="337,-479.5 454,-479.5 454,-502.5 337,-502.5 "/>
<text text-anchor="start" x="341" y="-487.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="454,-479.5 454,-502.5 508,-502.5 508,-479.5 454,-479.5"/>
<polygon fill="none" stroke="black" points="454,-479.5 454,-502.5 508,-502.5 508,-479.5 454,-479.5"/>
<text text-anchor="start" x="458" y="-487.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="508,-479.5 508,-502.5 605,-502.5 605,-479.5 508,-479.5"/>
<polyline fill="none" stroke="black" points="605,-502.5 508,-502.5 508,-479.5 605,-479.5 "/>
<text text-anchor="start" x="512" y="-487.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="454,-460.5 454,-479.5 "/>
<text text-anchor="start" x="341" y="-467.5" font-family="monospace" font-size="10.00">sea_level</text>
<polyline fill="none" stroke="black" points="508,-460.5 508,-479.5 "/>
<text text-anchor="start" x="458" y="-467.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="511" y="-467.5" font-family="monospace" font-size="10.00">sediment_height</text>
<polyline fill="none" stroke="black" points="454,-441.5 454,-460.5 "/>
<text text-anchor="start" x="341" y="-448.5" font-family="monospace" font-size="10.00">initial_topography</text>
<polyline fill="none" stroke="black" points="508,-441.5 508,-460.5 "/>
<text text-anchor="start" x="458" y="-448.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="511" y="-448.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="454,-422.5 454,-441.5 "/>
<text text-anchor="start" x="341" y="-429.5" font-family="monospace" font-size="10.00">subsidence_rate</text>
<polyline fill="none" stroke="black" points="508,-422.5 508,-441.5 "/>
<text text-anchor="start" x="458" y="-429.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="511" y="-429.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- TimeIntegration&#45;&gt;WaterDepth -->
<g id="edge1" class="edge">
<title>TimeIntegration&#45;&gt;WaterDepth</title>
<path fill="none" stroke="black" d="M407.27,-568.97C413.07,-560.46 419.38,-551.21 425.69,-541.95"/>
<polygon fill="black" stroke="black" points="428.73,-543.7 431.48,-533.47 422.95,-539.76 428.73,-543.7"/>
</g>
<!-- Boxes -->
<g id="node2" class="node">
<title>Boxes</title>
<path fill="none" stroke="black" d="M630,-648C630,-648 492,-648 492,-648 486,-648 480,-642 480,-636 480,-636 480,-581 480,-581 480,-575 486,-569 492,-569 492,-569 630,-569 630,-569 636,-569 642,-575 642,-581 642,-581 642,-636 642,-636 642,-642 636,-648 630,-648"/>
<polyline fill="none" stroke="black" points="487,-617.5 635,-617.5 "/>
<text text-anchor="start" x="537.5" y="-626.3" font-family="Times,serif" font-weight="bold" font-size="14.00">Boxes</text>
<polygon fill="#cccccc" stroke="transparent" points="487,-594.5 487,-617.5 534,-617.5 534,-594.5 487,-594.5"/>
<polyline fill="none" stroke="black" points="487,-594.5 534,-594.5 534,-617.5 487,-617.5 "/>
<text text-anchor="start" x="491" y="-602.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="534,-594.5 534,-617.5 588,-617.5 588,-594.5 534,-594.5"/>
<polygon fill="none" stroke="black" points="534,-594.5 534,-617.5 588,-617.5 588,-594.5 534,-594.5"/>
<text text-anchor="start" x="538" y="-602.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="588,-594.5 588,-617.5 635,-617.5 635,-594.5 588,-594.5"/>
<polyline fill="none" stroke="black" points="635,-617.5 588,-617.5 588,-594.5 635,-594.5 "/>
<text text-anchor="start" x="592" y="-602.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="534,-575.5 534,-594.5 "/>
<text text-anchor="start" x="491" y="-582.5" font-family="monospace" font-size="10.00">box</text>
<polyline fill="none" stroke="black" points="588,-575.5 588,-594.5 "/>
<text text-anchor="start" x="538" y="-582.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="591" y="-582.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;WaterDepth -->
<g id="edge2" class="edge">
<title>Boxes&#45;&gt;WaterDepth</title>
<path fill="none" stroke="black" d="M534.73,-568.97C528.93,-560.46 522.62,-551.21 516.31,-541.95"/>
<polygon fill="black" stroke="black" points="519.05,-539.76 510.52,-533.47 513.27,-543.7 519.05,-539.76"/>
</g>
<!-- SedimentBuffer -->
<g id="node6" class="node">
<title>SedimentBuffer</title>
<path fill="none" stroke="black" d="M300,-523.5C300,-523.5 12,-523.5 12,-523.5 6,-523.5 0,-517.5 0,-511.5 0,-511.5 0,-437.5 0,-437.5 0,-431.5 6,-425.5 12,-425.5 12,-425.5 300,-425.5 300,-425.5 306,-425.5 312,-431.5 312,-437.5 312,-437.5 312,-511.5 312,-511.5 312,-517.5 306,-523.5 300,-523.5"/>
<polyline fill="none" stroke="black" points="7,-493.5 305,-493.5 "/>
<text text-anchor="start" x="93" y="-502.3" font-family="Times,serif" font-weight="bold" font-size="14.00">SedimentBuffer</text>
<polygon fill="#cccccc" stroke="transparent" points="7,-470.5 7,-493.5 154,-493.5 154,-470.5 7,-470.5"/>
<polyline fill="none" stroke="black" points="7,-470.5 154,-470.5 154,-493.5 7,-493.5 "/>
<text text-anchor="start" x="11" y="-478.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="154,-470.5 154,-493.5 208,-493.5 208,-470.5 154,-470.5"/>
<polygon fill="none" stroke="black" points="154,-470.5 154,-493.5 208,-493.5 208,-470.5 154,-470.5"/>
<text text-anchor="start" x="158" y="-478.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="208,-470.5 208,-493.5 305,-493.5 305,-470.5 208,-470.5"/>
<polyline fill="none" stroke="black" points="305,-493.5 208,-493.5 208,-470.5 305,-470.5 "/>
<text text-anchor="start" x="212" y="-478.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="154,-451.5 154,-470.5 "/>
<text text-anchor="start" x="11" y="-458.5" font-family="monospace" font-size="10.00">sediment_buffer_size</text>
<polyline fill="none" stroke="black" points="208,-451.5 208,-470.5 "/>
<text text-anchor="start" x="158" y="-458.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="211" y="-458.5" font-family="monospace" font-size="10.00">sediment_buffer</text>
<polyline fill="none" stroke="black" points="154,-432.5 154,-451.5 "/>
<text text-anchor="start" x="11" y="-439.5" font-family="monospace" font-size="10.00">depositional_resolution</text>
<polyline fill="none" stroke="black" points="208,-432.5 208,-451.5 "/>
<text text-anchor="start" x="158" y="-439.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="211" y="-439.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;SedimentBuffer -->
<g id="edge11" class="edge">
<title>Boxes&#45;&gt;SedimentBuffer</title>
<path fill="none" stroke="black" d="M479.8,-572.04C476.84,-570.98 473.9,-569.96 471,-569 405.92,-547.44 386.79,-552.3 321,-533 314.1,-530.97 307.05,-528.83 299.96,-526.61"/>
<polygon fill="black" stroke="black" points="300.85,-523.22 290.26,-523.53 298.74,-529.89 300.85,-523.22"/>
</g>
<!-- CellularAutomaton -->
<g id="node12" class="node">
<title>CellularAutomaton</title>
<path fill="none" stroke="black" d="M1186.5,-351.5C1186.5,-351.5 925.5,-351.5 925.5,-351.5 919.5,-351.5 913.5,-345.5 913.5,-339.5 913.5,-339.5 913.5,-246.5 913.5,-246.5 913.5,-240.5 919.5,-234.5 925.5,-234.5 925.5,-234.5 1186.5,-234.5 1186.5,-234.5 1192.5,-234.5 1198.5,-240.5 1198.5,-246.5 1198.5,-246.5 1198.5,-339.5 1198.5,-339.5 1198.5,-345.5 1192.5,-351.5 1186.5,-351.5"/>
<polyline fill="none" stroke="black" points="921,-321 1192,-321 "/>
<text text-anchor="start" x="981" y="-329.8" font-family="Times,serif" font-weight="bold" font-size="14.00">CellularAutomaton</text>
<polygon fill="#cccccc" stroke="transparent" points="921,-298 921,-321 1014,-321 1014,-298 921,-298"/>
<polyline fill="none" stroke="black" points="921,-298 1014,-298 1014,-321 921,-321 "/>
<text text-anchor="start" x="925" y="-305.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="1014,-298 1014,-321 1119,-321 1119,-298 1014,-298"/>
<polygon fill="none" stroke="black" points="1014,-298 1014,-321 1119,-321 1119,-298 1014,-298"/>
<text text-anchor="start" x="1018" y="-305.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="1119,-298 1119,-321 1192,-321 1192,-298 1119,-298"/>
<polyline fill="none" stroke="black" points="1192,-321 1119,-321 1119,-298 1192,-298 "/>
<text text-anchor="start" x="1123" y="-305.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="1014,-279 1014,-298 "/>
<text text-anchor="start" x="925" y="-286" font-family="monospace" font-size="10.00">ca_interval</text>
<polyline fill="none" stroke="black" points="1119,-279 1119,-298 "/>
<text text-anchor="start" x="1018" y="-286" font-family="monospace" font-size="10.00">viability_range</text>
<text text-anchor="start" x="1122" y="-286" font-family="monospace" font-size="10.00">ca</text>
<polyline fill="none" stroke="black" points="1014,-260 1014,-279 "/>
<text text-anchor="start" x="925" y="-267" font-family="monospace" font-size="10.00">ca_random_seed</text>
<polyline fill="none" stroke="black" points="1119,-260 1119,-279 "/>
<text text-anchor="start" x="1018" y="-267" font-family="monospace" font-size="10.00">activation_range</text>
<text text-anchor="start" x="1122" y="-267" font-family="monospace" font-size="10.00">ca_priority</text>
<polyline fill="none" stroke="black" points="1014,-241 1014,-260 "/>
<text text-anchor="start" x="925" y="-248" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="1119,-241 1119,-260 "/>
<text text-anchor="start" x="1018" y="-248" font-family="monospace" font-size="10.00">active</text>
<text text-anchor="start" x="1122" y="-248" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;CellularAutomaton -->
<g id="edge20" class="edge">
<title>Boxes&#45;&gt;CellularAutomaton</title>
<path fill="none" stroke="black" d="M642.2,-595.98C696.8,-585.59 768.79,-566.6 825,-533 899.44,-488.51 966.09,-413.89 1008.44,-359.85"/>
<polygon fill="black" stroke="black" points="1011.4,-361.74 1014.77,-351.69 1005.87,-357.45 1011.4,-361.74"/>
</g>
<!-- ActiveLayer -->
<g id="node4" class="node">
<title>ActiveLayer</title>
<path fill="none" stroke="black" d="M594.5,-380C594.5,-380 243.5,-380 243.5,-380 237.5,-380 231.5,-374 231.5,-368 231.5,-368 231.5,-218 231.5,-218 231.5,-212 237.5,-206 243.5,-206 243.5,-206 594.5,-206 594.5,-206 600.5,-206 606.5,-212 606.5,-218 606.5,-218 606.5,-368 606.5,-368 606.5,-374 600.5,-380 594.5,-380"/>
<polyline fill="none" stroke="black" points="239,-350 600,-350 "/>
<text text-anchor="start" x="373.5" y="-358.8" font-family="Times,serif" font-weight="bold" font-size="14.00">ActiveLayer</text>
<polygon fill="#cccccc" stroke="transparent" points="239,-327 239,-350 386,-350 386,-327 239,-327"/>
<polyline fill="none" stroke="black" points="239,-327 386,-327 386,-350 239,-350 "/>
<text text-anchor="start" x="243" y="-334.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="386,-327 386,-350 521,-350 521,-327 386,-327"/>
<polygon fill="none" stroke="black" points="386,-327 386,-350 521,-350 521,-327 386,-327"/>
<text text-anchor="start" x="390" y="-334.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="521,-327 521,-350 600,-350 600,-327 521,-327"/>
<polyline fill="none" stroke="black" points="600,-350 521,-350 521,-327 600,-327 "/>
<text text-anchor="start" x="525" y="-334.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="386,-308 386,-327 "/>
<text text-anchor="start" x="243" y="-315" font-family="monospace" font-size="10.00">intertidal_zone</text>
<polyline fill="none" stroke="black" points="521,-308 521,-327 "/>
<text text-anchor="start" x="390" y="-315" font-family="monospace" font-size="10.00">diffusion_coefficient</text>
<text text-anchor="start" x="524" y="-315" font-family="monospace" font-size="10.00">active_layer</text>
<polyline fill="none" stroke="black" points="386,-289 386,-308 "/>
<text text-anchor="start" x="243" y="-296" font-family="monospace" font-size="10.00">disintegration_rate</text>
<polyline fill="none" stroke="black" points="521,-289 521,-308 "/>
<text text-anchor="start" x="390" y="-296" font-family="monospace" font-size="10.00">wave_velocity</text>
<text text-anchor="start" x="524" y="-296" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="386,-270 386,-289 "/>
<text text-anchor="start" x="243" y="-277" font-family="monospace" font-size="10.00">disintegration_transfer</text>
<polyline fill="none" stroke="black" points="521,-270 521,-289 "/>
<text text-anchor="start" x="390" y="-277" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="524" y="-277" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="386,-251 386,-270 "/>
<text text-anchor="start" x="243" y="-258" font-family="monospace" font-size="10.00">cementation_time</text>
<polyline fill="none" stroke="black" points="521,-251 521,-270 "/>
<text text-anchor="start" x="390" y="-258" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="524" y="-258" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="386,-232 386,-251 "/>
<text text-anchor="start" x="243" y="-239" font-family="monospace" font-size="10.00">transport_solver</text>
<polyline fill="none" stroke="black" points="521,-232 521,-251 "/>
<text text-anchor="start" x="390" y="-239" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="524" y="-239" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="386,-213 386,-232 "/>
<text text-anchor="start" x="243" y="-220" font-family="monospace" font-size="10.00">transport_substeps</text>
<polyline fill="none" stroke="black" points="521,-213 521,-232 "/>
<text text-anchor="start" x="390" y="-220" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="524" y="-220" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;ActiveLayer -->
<g id="edge3" class="edge">
<title>WaterDepth&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M454.26,-415.72C451.84,-407.36 449.3,-398.58 446.73,-389.73"/>
<polygon fill="black" stroke="black" points="450.09,-388.73 443.94,-380.1 443.36,-390.68 450.09,-388.73"/>
</g>
<!-- InitialSediment -->
<g id="node7" class="node">
<title>InitialSediment</title>
<path fill="none" stroke="black" d="M201.5,-332.5C201.5,-332.5 12.5,-332.5 12.5,-332.5 6.5,-332.5 0.5,-326.5 0.5,-320.5 0.5,-320.5 0.5,-265.5 0.5,-265.5 0.5,-259.5 6.5,-253.5 12.5,-253.5 12.5,-253.5 201.5,-253.5 201.5,-253.5 207.5,-253.5 213.5,-259.5 213.5,-265.5 213.5,-265.5 213.5,-320.5 213.5,-320.5 213.5,-326.5 207.5,-332.5 201.5,-332.5"/>
<polyline fill="none" stroke="black" points="8,-302 207,-302 "/>
<text text-anchor="start" x="45.5" y="-310.8" font-family="Times,serif" font-weight="bold" font-size="14.00">InitialSediment</text>
<polygon fill="#cccccc" stroke="transparent" points="8,-279 8,-302 55,-302 55,-279 8,-279"/>
<polyline fill="none" stroke="black" points="8,-279 55,-279 55,-302 8,-302 "/>
<text text-anchor="start" x="12" y="-286.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="55,-279 55,-302 160,-302 160,-279 55,-279"/>
<polygon fill="none" stroke="black" points="55,-279 55,-302 160,-302 160,-279 55,-279"/>
<text text-anchor="start" x="59" y="-286.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="160,-279 160,-302 207,-302 207,-279 160,-279"/>
<polyline fill="none" stroke="black" points="207,-302 160,-302 160,-279 207,-279 "/>
<text text-anchor="start" x="164" y="-286.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="55,-260 55,-279 "/>
<text text-anchor="start" x="12" y="-267" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="160,-260 160,-279 "/>
<text text-anchor="start" x="59" y="-267" font-family="monospace" font-size="10.00">initial_sediment</text>
<text text-anchor="start" x="163" y="-267" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;InitialSediment -->
<g id="edge7" class="edge">
<title>WaterDepth&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M329.7,-419.26C326.78,-418.16 323.87,-417.07 321,-416 277.14,-399.62 263.19,-402.26 222,-380 200.7,-368.49 179.01,-353.33 160.29,-338.95"/>
<polygon fill="black" stroke="black" points="162.22,-336.02 152.18,-332.64 157.92,-341.55 162.22,-336.02"/>
</g>
<!-- Production -->
<g id="node8" class="node">
<title>Production</title>
<path fill="none" stroke="black" d="M883.5,-351.5C883.5,-351.5 636.5,-351.5 636.5,-351.5 630.5,-351.5 624.5,-345.5 624.5,-339.5 624.5,-339.5 624.5,-246.5 624.5,-246.5 624.5,-240.5 630.5,-234.5 636.5,-234.5 636.5,-234.5 883.5,-234.5 883.5,-234.5 889.5,-234.5 895.5,-240.5 895.5,-246.5 895.5,-246.5 895.5,-339.5 895.5,-339.5 895.5,-345.5 889.5,-351.5 883.5,-351.5"/>
<polyline fill="none" stroke="black" points="632,-321 889,-321 "/>
<text text-anchor="start" x="716.5" y="-329.8" font-family="Times,serif" font-weight="bold" font-size="14.00">Production</text>
<polygon fill="#cccccc" stroke="transparent" points="632,-298 632,-321 701,-321 701,-298 632,-298"/>
<polyline fill="none" stroke="black" points="632,-298 701,-298 701,-321 632,-321 "/>
<text text-anchor="start" x="636" y="-305.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="701,-298 701,-321 842,-321 842,-298 701,-298"/>
<polygon fill="none" stroke="black" points="701,-298 701,-321 842,-321 842,-298 701,-298"/>
<text text-anchor="start" x="705" y="-305.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="842,-298 842,-321 889,-321 889,-298 842,-298"/>
<polyline fill="none" stroke="black" points="889,-321 842,-321 842,-298 889,-298 "/>
<text text-anchor="start" x="846" y="-305.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="701,-279 701,-298 "/>
<text text-anchor="start" x="636" y="-286" font-family="monospace" font-size="10.00">insolation</text>
<polyline fill="none" stroke="black" points="842,-279 842,-298 "/>
<text text-anchor="start" x="705" y="-286" font-family="monospace" font-size="10.00">maximum_growth_rate</text>
<text text-anchor="start" x="845" y="-286" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="701,-260 701,-279 "/>
<text text-anchor="start" x="636" y="-267" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="842,-260 842,-279 "/>
<text text-anchor="start" x="705" y="-267" font-family="monospace" font-size="10.00">extinction_coefficient</text>
<text text-anchor="start" x="845" y="-267" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="701,-241 701,-260 "/>
<text text-anchor="start" x="636" y="-248" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="842,-241 842,-260 "/>
<text text-anchor="start" x="705" y="-248" font-family="monospace" font-size="10.00">saturation_intensity</text>
<text text-anchor="start" x="845" y="-248" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;Production -->
<g id="edge9" class="edge">
<title>WaterDepth&#45;&gt;Production</title>
<path fill="none" stroke="black" d="M563.63,-415.96C593.97,-397.12 627.82,-376.1 658.75,-356.89"/>
<polygon fill="black" stroke="black" points="660.75,-359.77 667.39,-351.52 657.05,-353.82 660.75,-359.77"/>
</g>
<!-- ALCAP -->
<g id="node14" class="node">
<title>ALCAP</title>
<path fill="none" stroke="black" d="M577.5,-36C577.5,-36 534.5,-36 534.5,-36 528.5,-36 522.5,-30 522.5,-24 522.5,-24 522.5,-12 522.5,-12 522.5,-6 528.5,0 534.5,0 534.5,0 577.5,0 577.5,0 583.5,0 589.5,-6 589.5,-12 589.5,-12 589.5,-24 589.5,-24 589.5,-30 583.5,-36 577.5,-36"/>
<text text-anchor="start" x="529.5" y="-15.3" font-family="Times,serif" font-weight="bold" font-size="14.00">ALCAP</text>
</g>
<!-- ActiveLayer&#45;&gt;ALCAP -->
<g id="edge17" class="edge">
<title>ActiveLayer&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M368.67,-205.87C350.23,-162.08 340.12,-110.2 369,-72 386.24,-49.19 462.59,-33.36 512.24,-25.26"/>
<polygon fill="black" stroke="black" points="513.07,-28.67 522.4,-23.65 511.97,-21.76 513.07,-28.67"/>
</g>
<!-- FaciesBase -->
<g id="node5" class="node">
<title>FaciesBase</title>
<path fill="none" stroke="black" d="M804,-514C804,-514 666,-514 666,-514 660,-514 654,-508 654,-502 654,-502 654,-447 654,-447 654,-441 660,-435 666,-435 666,-435 804,-435 804,-435 810,-435 816,-441 816,-447 816,-447 816,-502 816,-502 816,-508 810,-514 804,-514"/>
<polyline fill="none" stroke="black" points="661,-483.5 809,-483.5 "/>
<text text-anchor="start" x="691" y="-492.3" font-family="Times,serif" font-weight="bold" font-size="14.00">FaciesBase</text>
<polygon fill="#cccccc" stroke="transparent" points="661,-460.5 661,-483.5 708,-483.5 708,-460.5 661,-460.5"/>
<polyline fill="none" stroke="black" points="661,-460.5 708,-460.5 708,-483.5 661,-483.5 "/>
<text text-anchor="start" x="665" y="-468.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="708,-460.5 708,-483.5 762,-483.5 762,-460.5 708,-460.5"/>
<polygon fill="none" stroke="black" points="708,-460.5 708,-483.5 762,-483.5 762,-460.5 708,-460.5"/>
<text text-anchor="start" x="712" y="-468.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="762,-460.5 762,-483.5 809,-483.5 809,-460.5 762,-460.5"/>
<polyline fill="none" stroke="black" points="809,-483.5 762,-483.5 762,-460.5 809,-460.5 "/>
<text text-anchor="start" x="766" y="-468.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="708,-441.5 708,-460.5 "/>
<text text-anchor="start" x="665" y="-448.5" font-family="monospace" font-size="10.00">facies</text>
<polyline fill="none" stroke="black" points="762,-441.5 762,-460.5 "/>
<text text-anchor="start" x="712" y="-448.5" font-family="monospace" font-size="10.00">name</text>
<text text-anchor="start" x="765" y="-448.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- FaciesBase&#45;&gt;ActiveLayer -->
<g id="edge4" class="edge">
<title>FaciesBase&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M667.21,-434.99C641.18,-420.21 610.25,-402.64 579.2,-385"/>
<polygon fill="black" stroke="black" points="580.87,-381.92 570.44,-380.03 577.41,-388.01 580.87,-381.92"/>
</g>
<!-- FaciesBase&#45;&gt;InitialSediment -->
<g id="edge6" class="edge">
<title>FaciesBase&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M668.9,-434.92C653.61,-427.49 637.09,-420.6 621,-416 449.81,-367.04 388.26,-443.73 222,-380 197.75,-370.71 174.2,-354.74 154.79,-339.07"/>
<polygon fill="black" stroke="black" points="156.95,-336.31 147.02,-332.63 152.48,-341.7 156.95,-336.31"/>
</g>
<!-- FaciesBase&#45;&gt;Production -->
<g id="edge10" class="edge">
<title>FaciesBase&#45;&gt;Production</title>
<path fill="none" stroke="black" d="M740.36,-434.99C743.34,-413.63 747.13,-386.43 750.58,-361.64"/>
<polygon fill="black" stroke="black" points="754.07,-361.93 751.99,-351.55 747.14,-360.97 754.07,-361.93"/>
</g>
<!-- FaciesBase&#45;&gt;CellularAutomaton -->
<g id="edge21" class="edge">
<title>FaciesBase&#45;&gt;CellularAutomaton</title>
<path fill="none" stroke="black" d="M805.85,-434.84C836.41,-418.08 872.52,-398.18 905,-380 918.52,-372.43 932.69,-364.44 946.7,-356.5"/>
<polygon fill="black" stroke="black" points="948.43,-359.55 955.4,-351.57 944.98,-353.46 948.43,-359.55"/>
</g>
<!-- SedimentBuffer&#45;&gt;ActiveLayer -->
<g id="edge5" class="edge">
<title>SedimentBuffer&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M226.48,-425.4C244.53,-413.08 264.56,-399.41 284.67,-385.68"/>
<polygon fill="black" stroke="black" points="286.7,-388.53 292.99,-380.01 282.75,-382.75 286.7,-388.53"/>
</g>
<!-- SedimentBuffer&#45;&gt;InitialSediment -->
<g id="edge8" class="edge">
<title>SedimentBuffer&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M142.87,-425.4C135.86,-399.73 127.26,-368.22 120.24,-342.49"/>
<polygon fill="black" stroke="black" points="123.54,-341.3 117.53,-332.58 116.79,-343.14 123.54,-341.3"/>
</g>
<!-- InitialSediment&#45;&gt;ALCAP -->
<g id="edge18" class="edge">
<title>InitialSediment&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M138.46,-253.13C180.69,-203.57 260.46,-118.73 347,-72 399.75,-43.51 468.3,-29.93 512.24,-23.74"/>
<polygon fill="black" stroke="black" points="512.86,-27.19 522.31,-22.4 511.93,-20.25 512.86,-27.19"/>
</g>
<!-- CAProduction -->
<g id="node11" class="node">
<title>CAProduction</title>
<path fill="none" stroke="black" d="M877.5,-139C877.5,-139 778.5,-139 778.5,-139 772.5,-139 766.5,-133 766.5,-127 766.5,-127 766.5,-115 766.5,-115 766.5,-109 772.5,-103 778.5,-103 778.5,-103 877.5,-103 877.5,-103 883.5,-103 889.5,-109 889.5,-115 889.5,-115 889.5,-127 889.5,-127 889.5,-133 883.5,-139 877.5,-139"/>
<text text-anchor="start" x="773.5" y="-118.3" font-family="Times,serif" font-weight="bold" font-size="14.00">CAProduction</text>
</g>
<!-- Production&#45;&gt;CAProduction -->
<g id="edge13" class="edge">
<title>Production&#45;&gt;CAProduction</title>
<path fill="none" stroke="black" d="M783.02,-234.45C794.63,-205.41 808.16,-171.6 817.32,-148.69"/>
<polygon fill="black" stroke="black" points="820.62,-149.87 821.09,-139.29 814.12,-147.27 820.62,-149.87"/>
</g>
<!-- Output -->
<g id="node9" class="node">
<title>Output</title>
<path fill="none" stroke="black" d="M528,-160.5C528,-160.5 390,-160.5 390,-160.5 384,-160.5 378,-154.5 378,-148.5 378,-148.5 378,-93.5 378,-93.5 378,-87.5 384,-81.5 390,-81.5 390,-81.5 528,-81.5 528,-81.5 534,-81.5 540,-87.5 540,-93.5 540,-93.5 540,-148.5 540,-148.5 540,-154.5 534,-160.5 528,-160.5"/>
<polyline fill="none" stroke="black" points="385,-130 533,-130 "/>
<text text-anchor="start" x="430.5" y="-138.8" font-family="Times,serif" font-weight="bold" font-size="14.00">Output</text>
<polygon fill="#cccccc" stroke="transparent" points="385,-107 385,-130 432,-130 432,-107 385,-107"/>
<polyline fill="none" stroke="black" points="385,-107 432,-107 432,-130 385,-130 "/>
<text text-anchor="start" x="389" y="-114.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="432,-107 432,-130 486,-130 486,-107 432,-107"/>
<polygon fill="none" stroke="black" points="432,-107 432,-130 486,-130 486,-107 432,-107"/>
<text text-anchor="start" x="436" y="-114.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="486,-107 486,-130 533,-130 533,-107 486,-107"/>
<polyline fill="none" stroke="black" points="533,-130 486,-130 486,-107 533,-107 "/>
<text text-anchor="start" x="490" y="-114.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="432,-88 432,-107 "/>
<text text-anchor="start" x="389" y="-95" font-family="monospace" font-size="10.00">output</text>
<polyline fill="none" stroke="black" points="486,-88 486,-107 "/>
<text text-anchor="start" x="436" y="-95" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="489" y="-95" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Output&#45;&gt;ALCAP -->
<g id="edge15" class="edge">
<title>Output&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M496.23,-81.24C508.38,-68.58 521.53,-54.89 532.4,-43.57"/>
<polygon fill="black" stroke="black" points="535.12,-45.8 539.52,-36.16 530.07,-40.95 535.12,-45.8"/>
</g>
<!-- Diagnostics -->
<g id="node10" class="node">
<title>Diagnostics</title>
<path fill="none" stroke="black" d="M736,-170C736,-170 570,-170 570,-170 564,-170 558,-164 558,-158 558,-158 558,-84 558,-84 558,-78 564,-72 570,-72 570,-72 736,-72 736,-72 742,-72 748,-78 748,-84 748,-84 748,-158 748,-158 748,-164 742,-170 736,-170"/>
<polyline fill="none" stroke="black" points="565,-140 741,-140 "/>
<text text-anchor="start" x="606.5" y="-148.8" font-family="Times,serif" font-weight="bold" font-size="14.00">Diagnostics</text>
<polygon fill="#cccccc" stroke="transparent" points="565,-117 565,-140 640,-140 640,-117 565,-117"/>
<polyline fill="none" stroke="black" points="565,-117 640,-117 640,-140 565,-140 "/>
<text text-anchor="start" x="569" y="-124.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="640,-117 640,-140 694,-140 694,-117 640,-117"/>
<polygon fill="none" stroke="black" points="640,-117 640,-140 694,-140 694,-117 640,-117"/>
<text text-anchor="start" x="644" y="-124.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="694,-117 694,-140 741,-140 741,-117 694,-117"/>
<polyline fill="none" stroke="black" points="741,-140 694,-140 694,-117 741,-117 "/>
<text text-anchor="start" x="698" y="-124.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="640,-98 640,-117 "/>
<text text-anchor="start" x="569" y="-105" font-family="monospace" font-size="10.00">diagnostics</text>
<polyline fill="none" stroke="black" points="694,-98 694,-117 "/>
<text text-anchor="start" x="644" y="-105" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="697" y="-105" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="640,-79 640,-98 "/>
<text text-anchor="start" x="569" y="-86" font-family="monospace" font-size="10.00">log_file</text>
<polyline fill="none" stroke="black" points="694,-79 694,-98 "/>
<text text-anchor="start" x="644" y="-86" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="697" y="-86" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Diagnostics&#45;&gt;ALCAP -->
<g id="edge19" class="edge">
<title>Diagnostics&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M606.77,-71.87C597.36,-62.06 587.83,-52.14 579.61,-43.58"/>
<polygon fill="black" stroke="black" points="581.92,-40.94 572.47,-36.15 576.87,-45.78 581.92,-40.94"/>
</g>
<!-- CAProduction&#45;&gt;ALCAP -->
<g id="edge16" class="edge">
<title>CAProduction&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M806.75,-102.84C793.2,-92.63 774.88,-80.12 757,-72 705.35,-48.55 641.35,-33.92 599.64,-26.11"/>
<polygon fill="black" stroke="black" points="600,-22.62 589.54,-24.28 598.75,-29.51 600,-22.62"/>
</g>
<!-- CellularAutomaton&#45;&gt;CAProduction -->
<g id="edge12" class="edge">
<title>CellularAutomaton&#45;&gt;CAProduction</title>
<path fill="none" stroke="black" d="M978.81,-234.45C937.83,-203.89 889.75,-168.04 859.09,-145.18"/>
<polygon fill="black" stroke="black" points="861.03,-142.26 850.93,-139.09 856.85,-147.88 861.03,-142.26"/>
</g>
<!-- Tag -->
<g id="node13" class="node">
<title>Tag</title>
<path fill="none" stroke="black" d="M1058,-160.5C1058,-160.5 920,-160.5 920,-160.5 914,-160.5 908,-154.5 908,-148.5 908,-148.5 908,-93.5 908,-93.5 908,-87.5 914,-81.5 920,-81.5 920,-81.5 1058,-81.5 1058,-81.5 1064,-81.5 1070,-87.5 1070,-93.5 1070,-93.5 1070,-148.5 1070,-148.5 1070,-154.5 1064,-160.5 1058,-160.5"/>
<polyline fill="none" stroke="black" points="915,-130 1063,-130 "/>
<text text-anchor="start" x="975" y="-138.8" font-family="Times,serif" font-weight="bold" font-size="14.00">Tag</text>
<polygon fill="#cccccc" stroke="transparent" points="915,-107 915,-130 962,-130 962,-107 915,-107"/>
<polyline fill="none" stroke="black" points="915,-107 962,-107 962,-130 915,-130 "/>
<text text-anchor="start" x="919" y="-114.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="962,-107 962,-130 1016,-130 1016,-107 962,-107"/>
<polygon fill="none" stroke="black" points="962,-107 962,-130 1016,-130 1016,-107 962,-107"/>
<text text-anchor="start" x="966" y="-114.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="1016,-107 1016,-130 1063,-130 1063,-107 1016,-107"/>
<polyline fill="none" stroke="black" points="1063,-130 1016,-130 1016,-107 1063,-107 "/>
<text text-anchor="start" x="1020" y="-114.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="962,-88 962,-107 "/>
<text text-anchor="start" x="919" y="-95" font-family="monospace" font-size="10.00">tag</text>
<polyline fill="none" stroke="black" points="1016,-88 1016,-107 "/>
<text text-anchor="start" x="966" y="-95" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="1019" y="-95" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Tag&#45;&gt;ALCAP -->
<g id="edge14" class="edge">
<title>Tag&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M922.53,-81.41C914.76,-77.84 906.81,-74.6 899,-72 795.09,-37.38 665.81,-25.2 599.58,-21.05"/>
<polygon fill="black" stroke="black" points="599.69,-17.55 589.5,-20.45 599.28,-24.54 599.69,-17.55"/>
</g>
</g>
</svg>
</div><div class="noweb-label">file:<i>src/Models/ALCAP/Example.jl</i></div><pre><code class="language- julia hljs">module Example

using Unitful
using ..ALCAP: ALCAP
using CarboKitten.Boxes: Box, Coast
using CarboKitten.Config: TimeProperties
using CarboKitten.Output.Abstract: OutputSpec

&lt;&lt;alcap-example-input&gt;&gt;

end</code></pre><div class="noweb-label">file:<i>src/Models/ALCAP.jl</i></div><pre><code class="language- julia hljs">@compose module ALCAP
@mixin Tag, Output, CAProduction, ActiveLayer, InitialSediment, Diagnostics

using ..Common
using ..CAProduction: production
using ..TimeIntegration
using ..WaterDepth: water_depth
using ...Output: Frame
using ModuleMixins: @for_each

export Input, Facies

function initial_state(input::AbstractInput)
    ca_state = CellularAutomaton.initial_state(input)
    for _ in 1:20
        CellularAutomaton.step!(input)(ca_state)
    end

    sediment_height = zeros(Height, input.box.grid_size...)
    sediment_buffer = zeros(Float64, input.sediment_buffer_size, n_facies(input), input.box.grid_size...)
    active_layer = zeros(Amount, n_facies(input), input.box.grid_size...)

    state = State(
        step=0, sediment_height=sediment_height,
        sediment_buffer=sediment_buffer,
        active_layer=active_layer,
        ca=ca_state.ca, ca_priority=ca_state.ca_priority)

    InitialSediment.push_initial_sediment!(input, state)
    return state
end

function step!(input::Input)
    step_ca! = CellularAutomaton.step!(input)
    disintegrate! = ActiveLayer.disintegrator(input)
    produce = production(input)
    transport! = ActiveLayer.transporter(input)
    local_water_depth = water_depth(input)
    na = [CartesianIndex()]
    pf = cementation_factor(input)
    dtf = input.disintegration_transfer
    debug = input.diagnostics

    function (state::State)
        if debug
            @debug &quot;step: &quot; state.step
            @debug &quot;   current active layer ambitus: &quot; extrema(state.active_layer)
        end

        if mod(state.step, input.ca_interval) == 0
            step_ca!(state)
        end

        wd = local_water_depth(state)
        p = produce(state, wd)
        d = disintegrate!(state)

        state.active_layer .+= p
        state.active_layer .+= dtf(d)

        if debug
            @debug &quot;   post-production ambitus: &quot; extrema(state.active_layer)
        end

        transport!(state)

        if debug
            @debug &quot;   post-transport ambitus: &quot; extrema(state.active_layer)
        end

        deposit = pf .* state.active_layer
        push_sediment!(state.sediment_buffer, deposit ./ input.depositional_resolution .|&gt; NoUnits)
        state.active_layer .-= deposit
        state.sediment_height .+= sum(deposit; dims=1)[1, :, :]
        state.step += 1

        return Frame(
            production=p,
            disintegration=d,
            deposition=deposit)
    end
end

function write_header(input::AbstractInput, output::AbstractOutput)
    @for_each(P -&gt; P.write_header(input, output), PARENTS)
end

include(&quot;ALCAP/Example.jl&quot;)

end</code></pre><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ca-with-production/">« Model with CA and Production</a><a class="docs-footer-nextpage" href="../models/without-ca/">Model without CA »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Thursday 4 December 2025 10:07">Thursday 4 December 2025</span>. Using Julia version 1.12.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
