<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ALCAPS · CarboKitten</title><meta name="title" content="ALCAPS · CarboKitten"/><meta property="og:title" content="ALCAPS · CarboKitten"/><meta property="twitter:title" content="ALCAPS · CarboKitten"/><meta name="description" content="Documentation for CarboKitten."/><meta property="og:description" content="Documentation for CarboKitten."/><meta property="twitter:description" content="Documentation for CarboKitten."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="CarboKitten logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">CarboKitten</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../getting-started/">Getting started</a></li><li><span class="tocitem">Models</span><ul><li><a class="tocitem" href="../../bosscher-1992/">Bosscher and Schlager 1992</a></li><li><a class="tocitem" href="../ca-with-production/">Model with CA and Production</a></li><li class="is-active"><a class="tocitem" href>ALCAPS</a><ul class="internal"><li><a class="tocitem" href="#Example-Input"><span>Example Input</span></a></li><li><a class="tocitem" href="#Modular-Implementation"><span>Modular Implementation</span></a></li><li><a class="tocitem" href="#API"><span>API</span></a></li></ul></li><li><a class="tocitem" href="../without-ca/">Model without CA</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../first_tutorial/">Tutorial (Pluto notebook)</a></li><li><a class="tocitem" href="../../cases/tabular-sea-level/">Tabular Sea Levels</a></li><li><a class="tocitem" href="../../initial-topography/">Initial Topography</a></li></ul></li><li><a class="tocitem" href="../../architecture/">Architecture</a></li><li><span class="tocitem">Model Components</span><ul><li><a class="tocitem" href="../../components/components/">Components</a></li><li><a class="tocitem" href="../../components/tag/">Tags</a></li><li><a class="tocitem" href="../../components/boxes/">Boxes</a></li><li><a class="tocitem" href="../../components/time/">Time</a></li><li><a class="tocitem" href="../../components/output/">Output</a></li><li><a class="tocitem" href="../../components/facies/">Facies</a></li><li><a class="tocitem" href="../../components/cellular-automata/">Cellular Automata</a></li><li><a class="tocitem" href="../../components/waterdepth/">Water Depth</a></li><li><a class="tocitem" href="../../components/production/">Production</a></li><li><a class="tocitem" href="../../components/sediment_buffer/">Sediment Buffers</a></li><li><a class="tocitem" href="../../active-layer-transport/">Active Layer Transport</a></li><li><a class="tocitem" href="../../onshore-transport/">Onshore Transport</a></li></ul></li><li><span class="tocitem">Visualizations</span><ul><li><a class="tocitem" href="../../visualization/overview/">Overview</a></li><li><a class="tocitem" href="../../visualization/profiles/">Profiles</a></li><li><a class="tocitem" href="../../visualization/topography/">Topography</a></li><li><a class="tocitem" href="../../visualization/">Other</a></li></ul></li><li><span class="tocitem">CarboCAT</span><ul><li><a class="tocitem" href="../../carbocat/">Summary</a></li></ul></li><li><span class="tocitem">Denudation</span><ul><li><a class="tocitem" href="../../denudation/denudation/">Denudation</a></li><li><a class="tocitem" href="../../denudation/empirical/">Empirical Denudation</a></li><li><a class="tocitem" href="../../denudation/chemical/">Chemical Dissolution</a></li><li><a class="tocitem" href="../../denudation/physical_erosion/">Physical Erosion</a></li></ul></li><li><span class="tocitem">Input &amp; Output</span><ul><li><a class="tocitem" href="../../input-methods/">Input Methods</a></li><li><a class="tocitem" href="../../output/abstract/">Output</a></li><li><a class="tocitem" href="../../output/h5writer/">HDF5 Output</a></li><li><a class="tocitem" href="../../output/memory-writer/">Output to Memory</a></li><li><a class="tocitem" href="../../data-export/">CSV Export</a></li><li><a class="tocitem" href="../../debugging/">Trouble shooting and diagnostics</a></li></ul></li><li><span class="tocitem">Algorithms</span><ul><li><a class="tocitem" href="../../algorithms/overview/">Overview</a></li><li><a class="tocitem" href="../../unitful/">Unitful</a></li><li><a class="tocitem" href="../../boxes/">Boxes</a></li><li><a class="tocitem" href="../../stencils/">Stencils</a></li><li><a class="tocitem" href="../../utility/">Utility</a></li><li><a class="tocitem" href="../../algorithms/finite-difference-transport/">Finite Difference</a></li><li><a class="tocitem" href="../../algorithms/range_finder/">Range Finder</a></li><li><a class="tocitem" href="../../algorithms/enumerate_seq/">Nested Sequence Enumeration</a></li><li><a class="tocitem" href="../../algorithms/skeleton/">Skeleton</a></li><li><a class="tocitem" href="../../algorithms/stratigraphic_column/">Stratigraphic Column</a></li></ul></li><li><a class="tocitem" href="../../api/">API Documentation</a></li><li><a class="tocitem" href="../../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Models</a></li><li class="is-active"><a href>ALCAPS</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ALCAPS</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl/blob/main/docs/transpiled/models/alcap.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)"><a class="docs-heading-anchor" href="#Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)">Model with CA, Production and Active Layer transport (ALCAP)</a><a id="Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)-1"></a><a class="docs-heading-anchor-permalink" href="#Model-with-CA,-Production-and-Active-Layer-transport-(ALCAP)" title="Permalink"></a></h1><p>The following <strong>S</strong>edimentation model includes the Burgess 2013 <strong>C</strong>ellular <strong>A</strong>utomaton, Bosscher &amp; Schlager 1992 <strong>P</strong>roduction curves and an <strong>A</strong>ctive <strong>L</strong>ayer transport model, based on Paola 1992, henceforth ALCAP.</p><p><img src="../../fig/alcaps-alternative.png" alt="Result from alternative input"/></p><h2 id="Example-Input"><a class="docs-heading-anchor" href="#Example-Input">Example Input</a><a id="Example-Input-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Input" title="Permalink"></a></h2><p>The following is a complete example input.</p><div class="noweb-label">⪡alcap-example-input⪢≣</div><pre><code class="language- julia hljs">const TAG = &quot;alcap-example&quot;

const FACIES = [
    ALCAP.Facies(
        viability_range = (4, 10),
        activation_range = (6, 10),
        maximum_growth_rate=500u&quot;m/Myr&quot;,
        extinction_coefficient=0.8u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=50.0u&quot;m/yr&quot;,
        name=&quot;euphotic&quot;),
    ALCAP.Facies(
        viability_range = (4, 10),
        activation_range = (6, 10),
        maximum_growth_rate=400u&quot;m/Myr&quot;,
        extinction_coefficient=0.1u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=25.0u&quot;m/yr&quot;,
        name=&quot;oligophotic&quot;),
    ALCAP.Facies(
        viability_range = (4, 10),
        activation_range = (6, 10),
        maximum_growth_rate=100u&quot;m/Myr&quot;,
        extinction_coefficient=0.005u&quot;m^-1&quot;,
        saturation_intensity=60u&quot;W/m^2&quot;,
        diffusion_coefficient=12.5u&quot;m/yr&quot;,
        name=&quot;aphotic&quot;),

    ALCAP.Facies(
        active=false,
        diffusion_coefficient=50.0u&quot;m/yr&quot;,
        name=&quot;euphotic transported&quot;),
    ALCAP.Facies(
        active=false,
        diffusion_coefficient=50.0u&quot;m/yr&quot;,
        name=&quot;oligophotic transported&quot;),
    ALCAP.Facies(
        active=false,
        diffusion_coefficient=50.0u&quot;m/yr&quot;,
        name=&quot;aphotic transported&quot;)
]

const PERIOD = 0.2u&quot;Myr&quot;
const AMPLITUDE = 4.0u&quot;m&quot;

const INPUT = ALCAP.Input(
    tag=&quot;$TAG&quot;,
    box=Box{Coast}(grid_size=(100, 50), phys_scale=150.0u&quot;m&quot;),
    time=TimeProperties(
        Δt=0.0002u&quot;Myr&quot;,
        steps=5000),
    output=Dict(
        :topography =&gt; OutputSpec(slice=(:,:), write_interval=10),
        :profile =&gt; OutputSpec(slice=(:, 25), write_interval=1)),
    ca_interval=1,
    initial_topography=(x, y) -&gt; -x / 300.0,
    sea_level=t -&gt; AMPLITUDE * sin(2π * t / PERIOD),
    subsidence_rate=50.0u&quot;m/Myr&quot;,
    disintegration_rate=50.0u&quot;m/Myr&quot;,
    disintegration_transfer=p-&gt;[0.0u&quot;m&quot;, 0.0u&quot;m&quot;, 0.0u&quot;m&quot;, p[1]+p[4], p[2]+p[5], p[3]+p[6]],
    insolation=400.0u&quot;W/m^2&quot;,
    sediment_buffer_size=50,
    depositional_resolution=0.5u&quot;m&quot;,
    facies=FACIES)</code></pre><div class="noweb-label">file:<i>examples/model/alcap/run.jl</i></div><pre><code class="language- julia hljs">#| requires: src/Models/ALCAP.jl
#| creates: data/output/alcap-example.h5

module Script

using Unitful
using CarboKitten
using CarboKitten.Export: read_slice, data_export, CSV

const PATH = &quot;data/output&quot;

&lt;&lt;alcap-example-input&gt;&gt;

function main()
    run_model(Model{ALCAP}, INPUT, &quot;$(PATH)/$(TAG).h5&quot;)
    header, profile = read_slice(&quot;$(PATH)/$(TAG).h5&quot;, :profile)
    columns = [profile[i] for i in 10:20:70]
    data_export(
        CSV(:sediment_accumulation_curve =&gt; &quot;$(PATH)/$(TAG)_sac.csv&quot;,
            :age_depth_model =&gt; &quot;$(PATH)/$(TAG)_adm.csv&quot;,
            :stratigraphic_column =&gt; &quot;$(PATH)/$(TAG)_sc.csv&quot;,
            :water_depth =&gt; &quot;$(PATH)/$(TAG)_wd.csv&quot;,
            :metadata =&gt; &quot;$(PATH)/$(TAG).toml&quot;),
         header,
         columns)
end

end

Script.main()</code></pre><details><summary>Plotting code</summary><div class="noweb-label">file:<i>examples/model/alcap/plot.jl</i></div><pre><code class="language- julia hljs">#| creates: docs/src/_fig/alcaps-alternative.png
#| requires: data/output/alcap-example.h5
#| collect: figures

using GLMakie
using CarboKitten.Visualization

GLMakie.activate!()

save(&quot;docs/src/_fig/alcaps-alternative.png&quot;, summary_plot(&quot;data/output/alcap-example.h5&quot;))</code></pre></details><h2 id="Modular-Implementation"><a class="docs-heading-anchor" href="#Modular-Implementation">Modular Implementation</a><a id="Modular-Implementation-1"></a><a class="docs-heading-anchor-permalink" href="#Modular-Implementation" title="Permalink"></a></h2><div class="component-dag" style="overflow: scroll"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.50.0 (20211204.2007)
 -->
<!-- Pages: 1 -->
<svg width="1207pt" height="675pt"
 viewBox="0.00 0.00 1206.50 675.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 671)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-671 1202.5,-671 1202.5,4 -4,4"/>
<!-- TimeIntegration -->
<g id="node1" class="node">
<title>TimeIntegration</title>
<path fill="none" stroke="black" d="M450,-667C450,-667 312,-667 312,-667 306,-667 300,-661 300,-655 300,-655 300,-600 300,-600 300,-594 306,-588 312,-588 312,-588 450,-588 450,-588 456,-588 462,-594 462,-600 462,-600 462,-655 462,-655 462,-661 456,-667 450,-667"/>
<polyline fill="none" stroke="black" points="307,-636.5 455,-636.5 "/>
<text text-anchor="start" x="315.5" y="-645.3" font-family="Times,serif" font-weight="bold" font-size="14.00">TimeIntegration</text>
<polygon fill="#cccccc" stroke="transparent" points="307,-613.5 307,-636.5 354,-636.5 354,-613.5 307,-613.5"/>
<polyline fill="none" stroke="black" points="307,-613.5 354,-613.5 354,-636.5 307,-636.5 "/>
<text text-anchor="start" x="311" y="-621.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="354,-613.5 354,-636.5 408,-636.5 408,-613.5 354,-613.5"/>
<polygon fill="none" stroke="black" points="354,-613.5 354,-636.5 408,-636.5 408,-613.5 354,-613.5"/>
<text text-anchor="start" x="358" y="-621.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="408,-613.5 408,-636.5 455,-636.5 455,-613.5 408,-613.5"/>
<polyline fill="none" stroke="black" points="455,-636.5 408,-636.5 408,-613.5 455,-613.5 "/>
<text text-anchor="start" x="412" y="-621.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="354,-594.5 354,-613.5 "/>
<text text-anchor="start" x="311" y="-601.5" font-family="monospace" font-size="10.00">time</text>
<polyline fill="none" stroke="black" points="408,-594.5 408,-613.5 "/>
<text text-anchor="start" x="358" y="-601.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="411" y="-601.5" font-family="monospace" font-size="10.00">step</text>
</g>
<!-- WaterDepth -->
<g id="node3" class="node">
<title>WaterDepth</title>
<path fill="none" stroke="black" d="M600,-552C600,-552 342,-552 342,-552 336,-552 330,-546 330,-540 330,-540 330,-447 330,-447 330,-441 336,-435 342,-435 342,-435 600,-435 600,-435 606,-435 612,-441 612,-447 612,-447 612,-540 612,-540 612,-546 606,-552 600,-552"/>
<polyline fill="none" stroke="black" points="337,-521.5 605,-521.5 "/>
<text text-anchor="start" x="423.5" y="-530.3" font-family="Times,serif" font-weight="bold" font-size="14.00">WaterDepth</text>
<polygon fill="#cccccc" stroke="transparent" points="337,-498.5 337,-521.5 454,-521.5 454,-498.5 337,-498.5"/>
<polyline fill="none" stroke="black" points="337,-498.5 454,-498.5 454,-521.5 337,-521.5 "/>
<text text-anchor="start" x="341" y="-506.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="454,-498.5 454,-521.5 508,-521.5 508,-498.5 454,-498.5"/>
<polygon fill="none" stroke="black" points="454,-498.5 454,-521.5 508,-521.5 508,-498.5 454,-498.5"/>
<text text-anchor="start" x="458" y="-506.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="508,-498.5 508,-521.5 605,-521.5 605,-498.5 508,-498.5"/>
<polyline fill="none" stroke="black" points="605,-521.5 508,-521.5 508,-498.5 605,-498.5 "/>
<text text-anchor="start" x="512" y="-506.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="454,-479.5 454,-498.5 "/>
<text text-anchor="start" x="341" y="-486.5" font-family="monospace" font-size="10.00">sea_level</text>
<polyline fill="none" stroke="black" points="508,-479.5 508,-498.5 "/>
<text text-anchor="start" x="458" y="-486.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="511" y="-486.5" font-family="monospace" font-size="10.00">sediment_height</text>
<polyline fill="none" stroke="black" points="454,-460.5 454,-479.5 "/>
<text text-anchor="start" x="341" y="-467.5" font-family="monospace" font-size="10.00">initial_topography</text>
<polyline fill="none" stroke="black" points="508,-460.5 508,-479.5 "/>
<text text-anchor="start" x="458" y="-467.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="511" y="-467.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="454,-441.5 454,-460.5 "/>
<text text-anchor="start" x="341" y="-448.5" font-family="monospace" font-size="10.00">subsidence_rate</text>
<polyline fill="none" stroke="black" points="508,-441.5 508,-460.5 "/>
<text text-anchor="start" x="458" y="-448.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="511" y="-448.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- TimeIntegration&#45;&gt;WaterDepth -->
<g id="edge1" class="edge">
<title>TimeIntegration&#45;&gt;WaterDepth</title>
<path fill="none" stroke="black" d="M407.27,-587.97C413.07,-579.46 419.38,-570.21 425.69,-560.95"/>
<polygon fill="black" stroke="black" points="428.73,-562.7 431.48,-552.47 422.95,-558.76 428.73,-562.7"/>
</g>
<!-- Boxes -->
<g id="node2" class="node">
<title>Boxes</title>
<path fill="none" stroke="black" d="M630,-667C630,-667 492,-667 492,-667 486,-667 480,-661 480,-655 480,-655 480,-600 480,-600 480,-594 486,-588 492,-588 492,-588 630,-588 630,-588 636,-588 642,-594 642,-600 642,-600 642,-655 642,-655 642,-661 636,-667 630,-667"/>
<polyline fill="none" stroke="black" points="487,-636.5 635,-636.5 "/>
<text text-anchor="start" x="537.5" y="-645.3" font-family="Times,serif" font-weight="bold" font-size="14.00">Boxes</text>
<polygon fill="#cccccc" stroke="transparent" points="487,-613.5 487,-636.5 534,-636.5 534,-613.5 487,-613.5"/>
<polyline fill="none" stroke="black" points="487,-613.5 534,-613.5 534,-636.5 487,-636.5 "/>
<text text-anchor="start" x="491" y="-621.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="534,-613.5 534,-636.5 588,-636.5 588,-613.5 534,-613.5"/>
<polygon fill="none" stroke="black" points="534,-613.5 534,-636.5 588,-636.5 588,-613.5 534,-613.5"/>
<text text-anchor="start" x="538" y="-621.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="588,-613.5 588,-636.5 635,-636.5 635,-613.5 588,-613.5"/>
<polyline fill="none" stroke="black" points="635,-636.5 588,-636.5 588,-613.5 635,-613.5 "/>
<text text-anchor="start" x="592" y="-621.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="534,-594.5 534,-613.5 "/>
<text text-anchor="start" x="491" y="-601.5" font-family="monospace" font-size="10.00">box</text>
<polyline fill="none" stroke="black" points="588,-594.5 588,-613.5 "/>
<text text-anchor="start" x="538" y="-601.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="591" y="-601.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;WaterDepth -->
<g id="edge2" class="edge">
<title>Boxes&#45;&gt;WaterDepth</title>
<path fill="none" stroke="black" d="M534.73,-587.97C528.93,-579.46 522.62,-570.21 516.31,-560.95"/>
<polygon fill="black" stroke="black" points="519.05,-558.76 510.52,-552.47 513.27,-562.7 519.05,-558.76"/>
</g>
<!-- SedimentBuffer -->
<g id="node6" class="node">
<title>SedimentBuffer</title>
<path fill="none" stroke="black" d="M300,-542.5C300,-542.5 12,-542.5 12,-542.5 6,-542.5 0,-536.5 0,-530.5 0,-530.5 0,-456.5 0,-456.5 0,-450.5 6,-444.5 12,-444.5 12,-444.5 300,-444.5 300,-444.5 306,-444.5 312,-450.5 312,-456.5 312,-456.5 312,-530.5 312,-530.5 312,-536.5 306,-542.5 300,-542.5"/>
<polyline fill="none" stroke="black" points="7,-512.5 305,-512.5 "/>
<text text-anchor="start" x="93" y="-521.3" font-family="Times,serif" font-weight="bold" font-size="14.00">SedimentBuffer</text>
<polygon fill="#cccccc" stroke="transparent" points="7,-489.5 7,-512.5 154,-512.5 154,-489.5 7,-489.5"/>
<polyline fill="none" stroke="black" points="7,-489.5 154,-489.5 154,-512.5 7,-512.5 "/>
<text text-anchor="start" x="11" y="-497.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="154,-489.5 154,-512.5 208,-512.5 208,-489.5 154,-489.5"/>
<polygon fill="none" stroke="black" points="154,-489.5 154,-512.5 208,-512.5 208,-489.5 154,-489.5"/>
<text text-anchor="start" x="158" y="-497.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="208,-489.5 208,-512.5 305,-512.5 305,-489.5 208,-489.5"/>
<polyline fill="none" stroke="black" points="305,-512.5 208,-512.5 208,-489.5 305,-489.5 "/>
<text text-anchor="start" x="212" y="-497.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="154,-470.5 154,-489.5 "/>
<text text-anchor="start" x="11" y="-477.5" font-family="monospace" font-size="10.00">sediment_buffer_size</text>
<polyline fill="none" stroke="black" points="208,-470.5 208,-489.5 "/>
<text text-anchor="start" x="158" y="-477.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="211" y="-477.5" font-family="monospace" font-size="10.00">sediment_buffer</text>
<polyline fill="none" stroke="black" points="154,-451.5 154,-470.5 "/>
<text text-anchor="start" x="11" y="-458.5" font-family="monospace" font-size="10.00">depositional_resolution</text>
<polyline fill="none" stroke="black" points="208,-451.5 208,-470.5 "/>
<text text-anchor="start" x="158" y="-458.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="211" y="-458.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;SedimentBuffer -->
<g id="edge11" class="edge">
<title>Boxes&#45;&gt;SedimentBuffer</title>
<path fill="none" stroke="black" d="M479.8,-591.04C476.84,-589.98 473.9,-588.96 471,-588 405.92,-566.44 386.79,-571.3 321,-552 314.1,-549.97 307.05,-547.83 299.96,-545.61"/>
<polygon fill="black" stroke="black" points="300.85,-542.22 290.26,-542.53 298.74,-548.89 300.85,-542.22"/>
</g>
<!-- CellularAutomaton -->
<g id="node12" class="node">
<title>CellularAutomaton</title>
<path fill="none" stroke="black" d="M1186.5,-361C1186.5,-361 925.5,-361 925.5,-361 919.5,-361 913.5,-355 913.5,-349 913.5,-349 913.5,-256 913.5,-256 913.5,-250 919.5,-244 925.5,-244 925.5,-244 1186.5,-244 1186.5,-244 1192.5,-244 1198.5,-250 1198.5,-256 1198.5,-256 1198.5,-349 1198.5,-349 1198.5,-355 1192.5,-361 1186.5,-361"/>
<polyline fill="none" stroke="black" points="921,-330.5 1192,-330.5 "/>
<text text-anchor="start" x="981" y="-339.3" font-family="Times,serif" font-weight="bold" font-size="14.00">CellularAutomaton</text>
<polygon fill="#cccccc" stroke="transparent" points="921,-307.5 921,-330.5 1014,-330.5 1014,-307.5 921,-307.5"/>
<polyline fill="none" stroke="black" points="921,-307.5 1014,-307.5 1014,-330.5 921,-330.5 "/>
<text text-anchor="start" x="925" y="-315.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="1014,-307.5 1014,-330.5 1119,-330.5 1119,-307.5 1014,-307.5"/>
<polygon fill="none" stroke="black" points="1014,-307.5 1014,-330.5 1119,-330.5 1119,-307.5 1014,-307.5"/>
<text text-anchor="start" x="1018" y="-315.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="1119,-307.5 1119,-330.5 1192,-330.5 1192,-307.5 1119,-307.5"/>
<polyline fill="none" stroke="black" points="1192,-330.5 1119,-330.5 1119,-307.5 1192,-307.5 "/>
<text text-anchor="start" x="1123" y="-315.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="1014,-288.5 1014,-307.5 "/>
<text text-anchor="start" x="925" y="-295.5" font-family="monospace" font-size="10.00">ca_interval</text>
<polyline fill="none" stroke="black" points="1119,-288.5 1119,-307.5 "/>
<text text-anchor="start" x="1018" y="-295.5" font-family="monospace" font-size="10.00">viability_range</text>
<text text-anchor="start" x="1122" y="-295.5" font-family="monospace" font-size="10.00">ca</text>
<polyline fill="none" stroke="black" points="1014,-269.5 1014,-288.5 "/>
<text text-anchor="start" x="925" y="-276.5" font-family="monospace" font-size="10.00">ca_random_seed</text>
<polyline fill="none" stroke="black" points="1119,-269.5 1119,-288.5 "/>
<text text-anchor="start" x="1018" y="-276.5" font-family="monospace" font-size="10.00">activation_range</text>
<text text-anchor="start" x="1122" y="-276.5" font-family="monospace" font-size="10.00">ca_priority</text>
<polyline fill="none" stroke="black" points="1014,-250.5 1014,-269.5 "/>
<text text-anchor="start" x="925" y="-257.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="1119,-250.5 1119,-269.5 "/>
<text text-anchor="start" x="1018" y="-257.5" font-family="monospace" font-size="10.00">active</text>
<text text-anchor="start" x="1122" y="-257.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Boxes&#45;&gt;CellularAutomaton -->
<g id="edge20" class="edge">
<title>Boxes&#45;&gt;CellularAutomaton</title>
<path fill="none" stroke="black" d="M642.12,-615.39C696.85,-605.17 769.02,-586.2 825,-552 901.77,-505.09 969.16,-425.7 1011.04,-369.28"/>
<polygon fill="black" stroke="black" points="1013.93,-371.26 1017.03,-361.13 1008.29,-367.12 1013.93,-371.26"/>
</g>
<!-- ActiveLayer -->
<g id="node4" class="node">
<title>ActiveLayer</title>
<path fill="none" stroke="black" d="M594.5,-399C594.5,-399 243.5,-399 243.5,-399 237.5,-399 231.5,-393 231.5,-387 231.5,-387 231.5,-218 231.5,-218 231.5,-212 237.5,-206 243.5,-206 243.5,-206 594.5,-206 594.5,-206 600.5,-206 606.5,-212 606.5,-218 606.5,-218 606.5,-387 606.5,-387 606.5,-393 600.5,-399 594.5,-399"/>
<polyline fill="none" stroke="black" points="239,-368.5 600,-368.5 "/>
<text text-anchor="start" x="373.5" y="-377.3" font-family="Times,serif" font-weight="bold" font-size="14.00">ActiveLayer</text>
<polygon fill="#cccccc" stroke="transparent" points="239,-345.5 239,-368.5 386,-368.5 386,-345.5 239,-345.5"/>
<polyline fill="none" stroke="black" points="239,-345.5 386,-345.5 386,-368.5 239,-368.5 "/>
<text text-anchor="start" x="243" y="-353.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="386,-345.5 386,-368.5 521,-368.5 521,-345.5 386,-345.5"/>
<polygon fill="none" stroke="black" points="386,-345.5 386,-368.5 521,-368.5 521,-345.5 386,-345.5"/>
<text text-anchor="start" x="390" y="-353.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="521,-345.5 521,-368.5 600,-368.5 600,-345.5 521,-345.5"/>
<polyline fill="none" stroke="black" points="600,-368.5 521,-368.5 521,-345.5 600,-345.5 "/>
<text text-anchor="start" x="525" y="-353.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="386,-326.5 386,-345.5 "/>
<text text-anchor="start" x="243" y="-333.5" font-family="monospace" font-size="10.00">intertidal_zone</text>
<polyline fill="none" stroke="black" points="521,-326.5 521,-345.5 "/>
<text text-anchor="start" x="390" y="-333.5" font-family="monospace" font-size="10.00">diffusion_coefficient</text>
<text text-anchor="start" x="524" y="-333.5" font-family="monospace" font-size="10.00">active_layer</text>
<polyline fill="none" stroke="black" points="386,-307.5 386,-326.5 "/>
<text text-anchor="start" x="243" y="-314.5" font-family="monospace" font-size="10.00">disintegration_rate</text>
<polyline fill="none" stroke="black" points="521,-307.5 521,-326.5 "/>
<text text-anchor="start" x="390" y="-314.5" font-family="monospace" font-size="10.00">wave_velocity</text>
<text text-anchor="start" x="524" y="-314.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="386,-288.5 386,-307.5 "/>
<text text-anchor="start" x="243" y="-295.5" font-family="monospace" font-size="10.00">disintegration_transfer</text>
<polyline fill="none" stroke="black" points="521,-288.5 521,-307.5 "/>
<text text-anchor="start" x="390" y="-295.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="524" y="-295.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="386,-269.5 386,-288.5 "/>
<text text-anchor="start" x="243" y="-276.5" font-family="monospace" font-size="10.00">cementation_time</text>
<polyline fill="none" stroke="black" points="521,-269.5 521,-288.5 "/>
<text text-anchor="start" x="390" y="-276.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="524" y="-276.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="386,-250.5 386,-269.5 "/>
<text text-anchor="start" x="243" y="-257.5" font-family="monospace" font-size="10.00">transport_solver</text>
<polyline fill="none" stroke="black" points="521,-250.5 521,-269.5 "/>
<text text-anchor="start" x="390" y="-257.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="524" y="-257.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="386,-231.5 386,-250.5 "/>
<text text-anchor="start" x="243" y="-238.5" font-family="monospace" font-size="10.00">transport_substeps</text>
<polyline fill="none" stroke="black" points="521,-231.5 521,-250.5 "/>
<text text-anchor="start" x="390" y="-238.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="524" y="-238.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="386,-212.5 386,-231.5 "/>
<text text-anchor="start" x="243" y="-219.5" font-family="monospace" font-size="10.00">save_active_layer</text>
<polyline fill="none" stroke="black" points="521,-212.5 521,-231.5 "/>
<text text-anchor="start" x="390" y="-219.5" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="524" y="-219.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;ActiveLayer -->
<g id="edge3" class="edge">
<title>WaterDepth&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M455.12,-434.77C452.83,-426.48 450.43,-417.74 447.99,-408.87"/>
<polygon fill="black" stroke="black" points="451.36,-407.92 445.33,-399.21 444.61,-409.78 451.36,-407.92"/>
</g>
<!-- InitialSediment -->
<g id="node7" class="node">
<title>InitialSediment</title>
<path fill="none" stroke="black" d="M201.5,-342C201.5,-342 12.5,-342 12.5,-342 6.5,-342 0.5,-336 0.5,-330 0.5,-330 0.5,-275 0.5,-275 0.5,-269 6.5,-263 12.5,-263 12.5,-263 201.5,-263 201.5,-263 207.5,-263 213.5,-269 213.5,-275 213.5,-275 213.5,-330 213.5,-330 213.5,-336 207.5,-342 201.5,-342"/>
<polyline fill="none" stroke="black" points="8,-311.5 207,-311.5 "/>
<text text-anchor="start" x="45.5" y="-320.3" font-family="Times,serif" font-weight="bold" font-size="14.00">InitialSediment</text>
<polygon fill="#cccccc" stroke="transparent" points="8,-288.5 8,-311.5 55,-311.5 55,-288.5 8,-288.5"/>
<polyline fill="none" stroke="black" points="8,-288.5 55,-288.5 55,-311.5 8,-311.5 "/>
<text text-anchor="start" x="12" y="-296.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="55,-288.5 55,-311.5 160,-311.5 160,-288.5 55,-288.5"/>
<polygon fill="none" stroke="black" points="55,-288.5 55,-311.5 160,-311.5 160,-288.5 55,-288.5"/>
<text text-anchor="start" x="59" y="-296.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="160,-288.5 160,-311.5 207,-311.5 207,-288.5 160,-288.5"/>
<polyline fill="none" stroke="black" points="207,-311.5 160,-311.5 160,-288.5 207,-288.5 "/>
<text text-anchor="start" x="164" y="-296.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="55,-269.5 55,-288.5 "/>
<text text-anchor="start" x="12" y="-276.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="160,-269.5 160,-288.5 "/>
<text text-anchor="start" x="59" y="-276.5" font-family="monospace" font-size="10.00">initial_sediment</text>
<text text-anchor="start" x="163" y="-276.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;InitialSediment -->
<g id="edge7" class="edge">
<title>WaterDepth&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M329.7,-438.26C326.78,-437.16 323.87,-436.07 321,-435 277.14,-418.62 262.61,-422.3 222,-399 197.95,-385.2 173.95,-366.29 154.15,-348.94"/>
<polygon fill="black" stroke="black" points="156.29,-346.16 146.49,-342.13 151.63,-351.39 156.29,-346.16"/>
</g>
<!-- Production -->
<g id="node8" class="node">
<title>Production</title>
<path fill="none" stroke="black" d="M883.5,-361C883.5,-361 636.5,-361 636.5,-361 630.5,-361 624.5,-355 624.5,-349 624.5,-349 624.5,-256 624.5,-256 624.5,-250 630.5,-244 636.5,-244 636.5,-244 883.5,-244 883.5,-244 889.5,-244 895.5,-250 895.5,-256 895.5,-256 895.5,-349 895.5,-349 895.5,-355 889.5,-361 883.5,-361"/>
<polyline fill="none" stroke="black" points="632,-330.5 889,-330.5 "/>
<text text-anchor="start" x="716.5" y="-339.3" font-family="Times,serif" font-weight="bold" font-size="14.00">Production</text>
<polygon fill="#cccccc" stroke="transparent" points="632,-307.5 632,-330.5 701,-330.5 701,-307.5 632,-307.5"/>
<polyline fill="none" stroke="black" points="632,-307.5 701,-307.5 701,-330.5 632,-330.5 "/>
<text text-anchor="start" x="636" y="-315.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="701,-307.5 701,-330.5 842,-330.5 842,-307.5 701,-307.5"/>
<polygon fill="none" stroke="black" points="701,-307.5 701,-330.5 842,-330.5 842,-307.5 701,-307.5"/>
<text text-anchor="start" x="705" y="-315.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="842,-307.5 842,-330.5 889,-330.5 889,-307.5 842,-307.5"/>
<polyline fill="none" stroke="black" points="889,-330.5 842,-330.5 842,-307.5 889,-307.5 "/>
<text text-anchor="start" x="846" y="-315.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="701,-288.5 701,-307.5 "/>
<text text-anchor="start" x="636" y="-295.5" font-family="monospace" font-size="10.00">insolation</text>
<polyline fill="none" stroke="black" points="842,-288.5 842,-307.5 "/>
<text text-anchor="start" x="705" y="-295.5" font-family="monospace" font-size="10.00">maximum_growth_rate</text>
<text text-anchor="start" x="845" y="-295.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="701,-269.5 701,-288.5 "/>
<text text-anchor="start" x="636" y="-276.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="842,-269.5 842,-288.5 "/>
<text text-anchor="start" x="705" y="-276.5" font-family="monospace" font-size="10.00">extinction_coefficient</text>
<text text-anchor="start" x="845" y="-276.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="701,-250.5 701,-269.5 "/>
<text text-anchor="start" x="636" y="-257.5" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="842,-250.5 842,-269.5 "/>
<text text-anchor="start" x="705" y="-257.5" font-family="monospace" font-size="10.00">saturation_intensity</text>
<text text-anchor="start" x="845" y="-257.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- WaterDepth&#45;&gt;Production -->
<g id="edge9" class="edge">
<title>WaterDepth&#45;&gt;Production</title>
<path fill="none" stroke="black" d="M560.84,-434.82C579.12,-423.02 598.2,-410.64 616,-399 631.82,-388.65 648.58,-377.61 664.85,-366.85"/>
<polygon fill="black" stroke="black" points="666.9,-369.69 673.31,-361.25 663.04,-363.85 666.9,-369.69"/>
</g>
<!-- ALCAP -->
<g id="node14" class="node">
<title>ALCAP</title>
<path fill="none" stroke="black" d="M577.5,-36C577.5,-36 534.5,-36 534.5,-36 528.5,-36 522.5,-30 522.5,-24 522.5,-24 522.5,-12 522.5,-12 522.5,-6 528.5,0 534.5,0 534.5,0 577.5,0 577.5,0 583.5,0 589.5,-6 589.5,-12 589.5,-12 589.5,-24 589.5,-24 589.5,-30 583.5,-36 577.5,-36"/>
<text text-anchor="start" x="529.5" y="-15.3" font-family="Times,serif" font-weight="bold" font-size="14.00">ALCAP</text>
</g>
<!-- ActiveLayer&#45;&gt;ALCAP -->
<g id="edge17" class="edge">
<title>ActiveLayer&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M365.45,-205.94C348.23,-161.49 340.17,-110.14 369,-72 386.24,-49.19 462.59,-33.36 512.24,-25.26"/>
<polygon fill="black" stroke="black" points="513.07,-28.67 522.4,-23.65 511.97,-21.76 513.07,-28.67"/>
</g>
<!-- FaciesBase -->
<g id="node5" class="node">
<title>FaciesBase</title>
<path fill="none" stroke="black" d="M804,-533C804,-533 666,-533 666,-533 660,-533 654,-527 654,-521 654,-521 654,-466 654,-466 654,-460 660,-454 666,-454 666,-454 804,-454 804,-454 810,-454 816,-460 816,-466 816,-466 816,-521 816,-521 816,-527 810,-533 804,-533"/>
<polyline fill="none" stroke="black" points="661,-502.5 809,-502.5 "/>
<text text-anchor="start" x="691" y="-511.3" font-family="Times,serif" font-weight="bold" font-size="14.00">FaciesBase</text>
<polygon fill="#cccccc" stroke="transparent" points="661,-479.5 661,-502.5 708,-502.5 708,-479.5 661,-479.5"/>
<polyline fill="none" stroke="black" points="661,-479.5 708,-479.5 708,-502.5 661,-502.5 "/>
<text text-anchor="start" x="665" y="-487.3" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="708,-479.5 708,-502.5 762,-502.5 762,-479.5 708,-479.5"/>
<polygon fill="none" stroke="black" points="708,-479.5 708,-502.5 762,-502.5 762,-479.5 708,-479.5"/>
<text text-anchor="start" x="712" y="-487.3" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="762,-479.5 762,-502.5 809,-502.5 809,-479.5 762,-479.5"/>
<polyline fill="none" stroke="black" points="809,-502.5 762,-502.5 762,-479.5 809,-479.5 "/>
<text text-anchor="start" x="766" y="-487.3" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="708,-460.5 708,-479.5 "/>
<text text-anchor="start" x="665" y="-467.5" font-family="monospace" font-size="10.00">facies</text>
<polyline fill="none" stroke="black" points="762,-460.5 762,-479.5 "/>
<text text-anchor="start" x="712" y="-467.5" font-family="monospace" font-size="10.00">name</text>
<text text-anchor="start" x="765" y="-467.5" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- FaciesBase&#45;&gt;ActiveLayer -->
<g id="edge4" class="edge">
<title>FaciesBase&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M670.29,-453.8C645.97,-439.25 617.05,-421.95 587.64,-404.36"/>
<polygon fill="black" stroke="black" points="589.3,-401.28 578.92,-399.15 585.7,-407.28 589.3,-401.28"/>
</g>
<!-- FaciesBase&#45;&gt;InitialSediment -->
<g id="edge6" class="edge">
<title>FaciesBase&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M668.9,-453.92C653.61,-446.49 637.09,-439.6 621,-435 449.81,-386.04 386.58,-466.94 222,-399 194.99,-387.85 169.49,-368.03 149.39,-349.32"/>
<polygon fill="black" stroke="black" points="151.62,-346.61 141.97,-342.23 146.78,-351.67 151.62,-346.61"/>
</g>
<!-- FaciesBase&#45;&gt;Production -->
<g id="edge10" class="edge">
<title>FaciesBase&#45;&gt;Production</title>
<path fill="none" stroke="black" d="M740.12,-453.8C743.26,-430.04 747.37,-398.95 751.04,-371.22"/>
<polygon fill="black" stroke="black" points="754.53,-371.54 752.37,-361.17 747.59,-370.63 754.53,-371.54"/>
</g>
<!-- FaciesBase&#45;&gt;CellularAutomaton -->
<g id="edge21" class="edge">
<title>FaciesBase&#45;&gt;CellularAutomaton</title>
<path fill="none" stroke="black" d="M807.51,-453.88C837.87,-437.39 873.39,-417.67 905,-399 922.33,-388.77 940.57,-377.59 958.16,-366.6"/>
<polygon fill="black" stroke="black" points="960.12,-369.5 966.73,-361.22 956.4,-363.57 960.12,-369.5"/>
</g>
<!-- SedimentBuffer&#45;&gt;ActiveLayer -->
<g id="edge5" class="edge">
<title>SedimentBuffer&#45;&gt;ActiveLayer</title>
<path fill="none" stroke="black" d="M223.05,-444.32C239.96,-432.16 258.76,-418.65 277.83,-404.95"/>
<polygon fill="black" stroke="black" points="279.94,-407.74 286.02,-399.06 275.86,-402.06 279.94,-407.74"/>
</g>
<!-- SedimentBuffer&#45;&gt;InitialSediment -->
<g id="edge8" class="edge">
<title>SedimentBuffer&#45;&gt;InitialSediment</title>
<path fill="none" stroke="black" d="M143.51,-444.32C136.15,-415.95 126.88,-380.18 119.52,-351.79"/>
<polygon fill="black" stroke="black" points="122.9,-350.88 117,-342.08 116.12,-352.63 122.9,-350.88"/>
</g>
<!-- InitialSediment&#45;&gt;ALCAP -->
<g id="edge18" class="edge">
<title>InitialSediment&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M136.49,-262.65C177.69,-211.15 257.45,-121.09 346,-72 398.82,-42.72 468.03,-29.32 512.27,-23.39"/>
<polygon fill="black" stroke="black" points="512.92,-26.84 522.41,-22.11 512.04,-19.9 512.92,-26.84"/>
</g>
<!-- CAProduction -->
<g id="node11" class="node">
<title>CAProduction</title>
<path fill="none" stroke="black" d="M877.5,-139C877.5,-139 778.5,-139 778.5,-139 772.5,-139 766.5,-133 766.5,-127 766.5,-127 766.5,-115 766.5,-115 766.5,-109 772.5,-103 778.5,-103 778.5,-103 877.5,-103 877.5,-103 883.5,-103 889.5,-109 889.5,-115 889.5,-115 889.5,-127 889.5,-127 889.5,-133 883.5,-139 877.5,-139"/>
<text text-anchor="start" x="773.5" y="-118.3" font-family="Times,serif" font-weight="bold" font-size="14.00">CAProduction</text>
</g>
<!-- Production&#45;&gt;CAProduction -->
<g id="edge13" class="edge">
<title>Production&#45;&gt;CAProduction</title>
<path fill="none" stroke="black" d="M781.89,-243.72C793.97,-211.83 808.4,-173.75 817.86,-148.78"/>
<polygon fill="black" stroke="black" points="821.19,-149.85 821.46,-139.25 814.65,-147.37 821.19,-149.85"/>
</g>
<!-- Output -->
<g id="node9" class="node">
<title>Output</title>
<path fill="none" stroke="black" d="M528,-160.5C528,-160.5 390,-160.5 390,-160.5 384,-160.5 378,-154.5 378,-148.5 378,-148.5 378,-93.5 378,-93.5 378,-87.5 384,-81.5 390,-81.5 390,-81.5 528,-81.5 528,-81.5 534,-81.5 540,-87.5 540,-93.5 540,-93.5 540,-148.5 540,-148.5 540,-154.5 534,-160.5 528,-160.5"/>
<polyline fill="none" stroke="black" points="385,-130 533,-130 "/>
<text text-anchor="start" x="430.5" y="-138.8" font-family="Times,serif" font-weight="bold" font-size="14.00">Output</text>
<polygon fill="#cccccc" stroke="transparent" points="385,-107 385,-130 432,-130 432,-107 385,-107"/>
<polyline fill="none" stroke="black" points="385,-107 432,-107 432,-130 385,-130 "/>
<text text-anchor="start" x="389" y="-114.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="432,-107 432,-130 486,-130 486,-107 432,-107"/>
<polygon fill="none" stroke="black" points="432,-107 432,-130 486,-130 486,-107 432,-107"/>
<text text-anchor="start" x="436" y="-114.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="486,-107 486,-130 533,-130 533,-107 486,-107"/>
<polyline fill="none" stroke="black" points="533,-130 486,-130 486,-107 533,-107 "/>
<text text-anchor="start" x="490" y="-114.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="432,-88 432,-107 "/>
<text text-anchor="start" x="389" y="-95" font-family="monospace" font-size="10.00">output</text>
<polyline fill="none" stroke="black" points="486,-88 486,-107 "/>
<text text-anchor="start" x="436" y="-95" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="489" y="-95" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Output&#45;&gt;ALCAP -->
<g id="edge15" class="edge">
<title>Output&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M496.23,-81.24C508.38,-68.58 521.53,-54.89 532.4,-43.57"/>
<polygon fill="black" stroke="black" points="535.12,-45.8 539.52,-36.16 530.07,-40.95 535.12,-45.8"/>
</g>
<!-- Diagnostics -->
<g id="node10" class="node">
<title>Diagnostics</title>
<path fill="none" stroke="black" d="M736,-170C736,-170 570,-170 570,-170 564,-170 558,-164 558,-158 558,-158 558,-84 558,-84 558,-78 564,-72 570,-72 570,-72 736,-72 736,-72 742,-72 748,-78 748,-84 748,-84 748,-158 748,-158 748,-164 742,-170 736,-170"/>
<polyline fill="none" stroke="black" points="565,-140 741,-140 "/>
<text text-anchor="start" x="606.5" y="-148.8" font-family="Times,serif" font-weight="bold" font-size="14.00">Diagnostics</text>
<polygon fill="#cccccc" stroke="transparent" points="565,-117 565,-140 640,-140 640,-117 565,-117"/>
<polyline fill="none" stroke="black" points="565,-117 640,-117 640,-140 565,-140 "/>
<text text-anchor="start" x="569" y="-124.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="640,-117 640,-140 694,-140 694,-117 640,-117"/>
<polygon fill="none" stroke="black" points="640,-117 640,-140 694,-140 694,-117 640,-117"/>
<text text-anchor="start" x="644" y="-124.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="694,-117 694,-140 741,-140 741,-117 694,-117"/>
<polyline fill="none" stroke="black" points="741,-140 694,-140 694,-117 741,-117 "/>
<text text-anchor="start" x="698" y="-124.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="640,-98 640,-117 "/>
<text text-anchor="start" x="569" y="-105" font-family="monospace" font-size="10.00">diagnostics</text>
<polyline fill="none" stroke="black" points="694,-98 694,-117 "/>
<text text-anchor="start" x="644" y="-105" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="697" y="-105" font-family="monospace" font-size="10.00"> </text>
<polyline fill="none" stroke="black" points="640,-79 640,-98 "/>
<text text-anchor="start" x="569" y="-86" font-family="monospace" font-size="10.00">log_file</text>
<polyline fill="none" stroke="black" points="694,-79 694,-98 "/>
<text text-anchor="start" x="644" y="-86" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="697" y="-86" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Diagnostics&#45;&gt;ALCAP -->
<g id="edge19" class="edge">
<title>Diagnostics&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M606.77,-71.87C597.36,-62.06 587.83,-52.14 579.61,-43.58"/>
<polygon fill="black" stroke="black" points="581.92,-40.94 572.47,-36.15 576.87,-45.78 581.92,-40.94"/>
</g>
<!-- CAProduction&#45;&gt;ALCAP -->
<g id="edge16" class="edge">
<title>CAProduction&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M806.75,-102.84C793.2,-92.63 774.88,-80.12 757,-72 705.35,-48.55 641.35,-33.92 599.64,-26.11"/>
<polygon fill="black" stroke="black" points="600,-22.62 589.54,-24.28 598.75,-29.51 600,-22.62"/>
</g>
<!-- CellularAutomaton&#45;&gt;CAProduction -->
<g id="edge12" class="edge">
<title>CellularAutomaton&#45;&gt;CAProduction</title>
<path fill="none" stroke="black" d="M982.92,-243.96C940.47,-210.55 889.3,-170.26 857.7,-145.39"/>
<polygon fill="black" stroke="black" points="859.75,-142.54 849.72,-139.1 855.42,-148.04 859.75,-142.54"/>
</g>
<!-- Tag -->
<g id="node13" class="node">
<title>Tag</title>
<path fill="none" stroke="black" d="M1058,-160.5C1058,-160.5 920,-160.5 920,-160.5 914,-160.5 908,-154.5 908,-148.5 908,-148.5 908,-93.5 908,-93.5 908,-87.5 914,-81.5 920,-81.5 920,-81.5 1058,-81.5 1058,-81.5 1064,-81.5 1070,-87.5 1070,-93.5 1070,-93.5 1070,-148.5 1070,-148.5 1070,-154.5 1064,-160.5 1058,-160.5"/>
<polyline fill="none" stroke="black" points="915,-130 1063,-130 "/>
<text text-anchor="start" x="975" y="-138.8" font-family="Times,serif" font-weight="bold" font-size="14.00">Tag</text>
<polygon fill="#cccccc" stroke="transparent" points="915,-107 915,-130 962,-130 962,-107 915,-107"/>
<polyline fill="none" stroke="black" points="915,-107 962,-107 962,-130 915,-130 "/>
<text text-anchor="start" x="919" y="-114.8" font-family="Times,serif" font-size="14.00">Input</text>
<polygon fill="#cccccc" stroke="transparent" points="962,-107 962,-130 1016,-130 1016,-107 962,-107"/>
<polygon fill="none" stroke="black" points="962,-107 962,-130 1016,-130 1016,-107 962,-107"/>
<text text-anchor="start" x="966" y="-114.8" font-family="Times,serif" font-size="14.00">Facies</text>
<polygon fill="#cccccc" stroke="transparent" points="1016,-107 1016,-130 1063,-130 1063,-107 1016,-107"/>
<polyline fill="none" stroke="black" points="1063,-130 1016,-130 1016,-107 1063,-107 "/>
<text text-anchor="start" x="1020" y="-114.8" font-family="Times,serif" font-size="14.00">State</text>
<polyline fill="none" stroke="black" points="962,-88 962,-107 "/>
<text text-anchor="start" x="919" y="-95" font-family="monospace" font-size="10.00">tag</text>
<polyline fill="none" stroke="black" points="1016,-88 1016,-107 "/>
<text text-anchor="start" x="966" y="-95" font-family="monospace" font-size="10.00"> </text>
<text text-anchor="start" x="1019" y="-95" font-family="monospace" font-size="10.00"> </text>
</g>
<!-- Tag&#45;&gt;ALCAP -->
<g id="edge14" class="edge">
<title>Tag&#45;&gt;ALCAP</title>
<path fill="none" stroke="black" d="M922.53,-81.41C914.76,-77.84 906.81,-74.6 899,-72 795.09,-37.38 665.81,-25.2 599.58,-21.05"/>
<polygon fill="black" stroke="black" points="599.69,-17.55 589.5,-20.45 599.28,-24.54 599.69,-17.55"/>
</g>
</g>
</svg>
</div><div class="noweb-label">file:<i>src/Models/ALCAP/Example.jl</i></div><pre><code class="language- julia hljs">module Example

using Unitful
using ..ALCAP: ALCAP
using CarboKitten.Boxes: Box, Coast
using CarboKitten.Config: TimeProperties
using CarboKitten.Output.Abstract: OutputSpec

&lt;&lt;alcap-example-input&gt;&gt;

end</code></pre><div class="noweb-label">file:<i>src/Models/ALCAP.jl</i></div><pre><code class="language- julia hljs">@compose module ALCAP
@mixin Tag, Output, CAProduction, ActiveLayer, InitialSediment, Diagnostics

using ..Common
using ..CAProduction: production
using ..TimeIntegration
using ..WaterDepth: water_depth
using ...Output: Frame
using ModuleMixins: @for_each

export Input, Facies

function initial_state(input::AbstractInput)
    ca_state = CellularAutomaton.initial_state(input)
    for _ in 1:20
        CellularAutomaton.step!(input)(ca_state)
    end

    sediment_height = zeros(Height, input.box.grid_size...)
    sediment_buffer = zeros(Float64, input.sediment_buffer_size, n_facies(input), input.box.grid_size...)
    active_layer = zeros(Amount, n_facies(input), input.box.grid_size...)

    state = State(
        step=0, sediment_height=sediment_height,
        sediment_buffer=sediment_buffer,
        active_layer=active_layer,
        ca=ca_state.ca, ca_priority=ca_state.ca_priority)

    InitialSediment.push_initial_sediment!(input, state)
    return state
end

function step!(input::Input)
    step_ca! = CellularAutomaton.step!(input)
    disintegrate! = ActiveLayer.disintegrator(input)
    produce = production(input)
    transport! = ActiveLayer.transporter(input)
    local_water_depth = water_depth(input)
    na = [CartesianIndex()]
    pf = cementation_factor(input)
    dtf = input.disintegration_transfer
    debug = input.diagnostics

    function (state::State)
        if debug
            @debug &quot;step: &quot; state.step
            @debug &quot;   current active layer ambitus: &quot; extrema(state.active_layer)
        end

        if mod(state.step, input.ca_interval) == 0
            step_ca!(state)
        end

        wd = local_water_depth(state)
        p = produce(state, wd)
        d = disintegrate!(state)

        state.active_layer .+= p
        state.active_layer .+= dtf(d)

        if debug
            @debug &quot;   post-production ambitus: &quot; extrema(state.active_layer)
        end

        transport!(state)

        if debug
            @debug &quot;   post-transport ambitus: &quot; extrema(state.active_layer)
        end

        deposit = pf .* state.active_layer
        push_sediment!(state.sediment_buffer, deposit ./ input.depositional_resolution .|&gt; NoUnits)
        state.active_layer .-= deposit
        state.sediment_height .+= sum(deposit; dims=1)[1, :, :]
        state.step += 1

        return Frame(
            production=p,
            disintegration=d,
            deposition=deposit)
    end
end

function write_header(input::AbstractInput, output::AbstractOutput)
    @for_each(P -&gt; P.write_header(input, output), PARENTS)
end

include(&quot;ALCAP/Example.jl&quot;)

end</code></pre><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ca-with-production/">« Model with CA and Production</a><a class="docs-footer-nextpage" href="../without-ca/">Model without CA »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 23 January 2026 09:54">Friday 23 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
