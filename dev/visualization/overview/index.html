<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · CarboKitten</title><meta name="title" content="Overview · CarboKitten"/><meta property="og:title" content="Overview · CarboKitten"/><meta property="twitter:title" content="Overview · CarboKitten"/><meta name="description" content="Documentation for CarboKitten."/><meta property="og:description" content="Documentation for CarboKitten."/><meta property="twitter:description" content="Documentation for CarboKitten."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="CarboKitten logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">CarboKitten</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../getting-started/">Getting started</a></li><li><span class="tocitem">Models</span><ul><li><a class="tocitem" href="../../bosscher-1992/">Bosscher and Schlager 1992</a></li><li><a class="tocitem" href="../../models/ca-with-production/">Model with CA and Production</a></li><li><a class="tocitem" href="../../models/alcap/">ALCAPS</a></li><li><a class="tocitem" href="../../models/without-ca/">Model without CA</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../first_tutorial/">Tutorial (Pluto notebook)</a></li><li><a class="tocitem" href="../../cases/tabular-sea-level/">Tabular Sea Levels</a></li><li><a class="tocitem" href="../../initial-topography/">Initial Topography</a></li></ul></li><li><a class="tocitem" href="../../architecture/">Architecture</a></li><li><span class="tocitem">Model Components</span><ul><li><a class="tocitem" href="../../components/components/">Components</a></li><li><a class="tocitem" href="../../components/tag/">Tags</a></li><li><a class="tocitem" href="../../components/boxes/">Boxes</a></li><li><a class="tocitem" href="../../components/time/">Time</a></li><li><a class="tocitem" href="../../components/output/">Output</a></li><li><a class="tocitem" href="../../components/facies/">Facies</a></li><li><a class="tocitem" href="../../components/cellular-automata/">Cellular Automata</a></li><li><a class="tocitem" href="../../components/waterdepth/">Water Depth</a></li><li><a class="tocitem" href="../../components/production/">Production</a></li><li><a class="tocitem" href="../../components/sediment_buffer/">Sediment Buffers</a></li><li><a class="tocitem" href="../../active-layer-transport/">Active Layer Transport</a></li><li><a class="tocitem" href="../../onshore-transport/">Onshore Transport</a></li></ul></li><li><span class="tocitem">Visualizations</span><ul><li class="is-active"><a class="tocitem" href>Overview</a><ul class="internal"><li><a class="tocitem" href="#Makie-primer"><span>Makie primer</span></a></li><li><a class="tocitem" href="#Colours"><span>Colours</span></a></li><li><a class="tocitem" href="#Project-Extension"><span>Project Extension</span></a></li><li><a class="tocitem" href="#Summary-collage"><span>Summary collage</span></a></li></ul></li><li><a class="tocitem" href="../profiles/">Profiles</a></li><li><a class="tocitem" href="../topography/">Topography</a></li><li><a class="tocitem" href="../">Other</a></li></ul></li><li><span class="tocitem">CarboCAT</span><ul><li><a class="tocitem" href="../../carbocat/">Summary</a></li></ul></li><li><span class="tocitem">Denudation</span><ul><li><a class="tocitem" href="../../denudation/denudation/">Denudation</a></li><li><a class="tocitem" href="../../denudation/empirical/">Empirical Denudation</a></li><li><a class="tocitem" href="../../denudation/chemical/">Chemical Dissolution</a></li><li><a class="tocitem" href="../../denudation/physical_erosion/">Physical Erosion</a></li></ul></li><li><span class="tocitem">Input &amp; Output</span><ul><li><a class="tocitem" href="../../input-methods/">Input Methods</a></li><li><a class="tocitem" href="../../output/abstract/">Output</a></li><li><a class="tocitem" href="../../output/h5writer/">HDF5 Output</a></li><li><a class="tocitem" href="../../output/memory-writer/">Output to Memory</a></li><li><a class="tocitem" href="../../data-export/">CSV Export</a></li><li><a class="tocitem" href="../../debugging/">Trouble shooting and diagnostics</a></li></ul></li><li><span class="tocitem">Algorithms</span><ul><li><a class="tocitem" href="../../algorithms/overview/">Overview</a></li><li><a class="tocitem" href="../../unitful/">Unitful</a></li><li><a class="tocitem" href="../../boxes/">Boxes</a></li><li><a class="tocitem" href="../../stencils/">Stencils</a></li><li><a class="tocitem" href="../../utility/">Utility</a></li><li><a class="tocitem" href="../../algorithms/finite-difference-transport/">Finite Difference</a></li><li><a class="tocitem" href="../../algorithms/range_finder/">Range Finder</a></li><li><a class="tocitem" href="../../algorithms/enumerate_seq/">Nested Sequence Enumeration</a></li><li><a class="tocitem" href="../../algorithms/skeleton/">Skeleton</a></li><li><a class="tocitem" href="../../algorithms/stratigraphic_column/">Stratigraphic Column</a></li></ul></li><li><a class="tocitem" href="../../api/">API Documentation</a></li><li><a class="tocitem" href="../../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Visualizations</a></li><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MindTheGap-ERC/CarboKitten.jl/blob/main/docs/transpiled/visualization/overview.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Visualization"><a class="docs-heading-anchor" href="#Visualization">Visualization</a><a id="Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Visualization" title="Permalink"></a></h1><p>The visualization of CarboKitten output is implemented in a Julia <a href="https://pkgdocs.julialang.org/v1/creating-packages/#Conditional-loading-of-code-in-packages-(Extensions)">package extension</a>. This is done so that <code>CarboKitten.jl</code> itself doesn&#39;t have to depend on <code>Makie.jl</code> (our main visualization tool), which has a large transient dependency stack. To make the <code>Visualization</code> extension of CarboKitten available, make sure to activate a Julia project where <code>Makie</code> is installed.</p><h2 id="Makie-primer"><a class="docs-heading-anchor" href="#Makie-primer">Makie primer</a><a id="Makie-primer-1"></a><a class="docs-heading-anchor-permalink" href="#Makie-primer" title="Permalink"></a></h2><p><code>Makie.jl</code> is a visualization package that creates exceptionally good looking (publication quality) plots in both 2D and 3D. There are three back-ends for Makie:</p><ul><li><code>CairoMakie</code> for publication quality vector graphics, writing to <code>SVG</code>, <code>PDF</code> or <code>PNG</code>.</li><li><code>GLMakie</code> has better run-time performance than <code>CairoMakie</code>, especially when dealing with larger datasets and/or 3D visualizations. However, <code>GLMakie</code> can only produce rasterized images, so <code>PNG</code>, <code>JPEG</code> or directly to screen for interactive use.</li><li><code>WGLMakie</code> for online publication using WebGL. If you want interactive plots, like 3D plots that you can rotate in the browser, this is the one to use. Fair warning: this is also the least stable back-end for Makie.</li></ul><p>To work with Makie, you need to import one of the three back-end packages. In general, every plot available in Makie has two variants. One is a direct function for plotting:</p><pre><code class="language-julia hljs">using CairoMakie

x = randn(10)
y = randn(10)

scatter(x, y)</code></pre><p>The other requires a bit more prep, but gives you more control.</p><pre><code class="language-julia hljs">fig = Figure()
ax = Axis(fig[1,1])
scatter!(ax, x, y)</code></pre><p>Here, we create a figure explicitly, then create a new set of axes somewhere on the grid in the figure, and then plot on that set of axes. The plotting functions accepting an <code>Axis</code> argument actually modify an existing context, which is why these functions always end with an exclamation mark, in this case <code>scatter!</code>.</p><p>If you like to know more about Makie, their <a href="https://docs.makie.org/stable/tutorials/getting-started">&quot;Getting started&quot;</a> is a good place to start.</p><h2 id="Colours"><a class="docs-heading-anchor" href="#Colours">Colours</a><a id="Colours-1"></a><a class="docs-heading-anchor-permalink" href="#Colours" title="Permalink"></a></h2><p>We like to use colorblind safe pallete of colours as described on <a href="https://personal.sron.nl/~pault/">Paul Tol&#39;s website</a>: &#39;#4477AA&#39;, &#39;#EE6677&#39;, &#39;#228833&#39;, &#39;#CCBB44&#39;, &#39;#66CCEE&#39;, &#39;#AA3377&#39;, &#39;#BBBBBB&#39;.</p><h2 id="Project-Extension"><a class="docs-heading-anchor" href="#Project-Extension">Project Extension</a><a id="Project-Extension-1"></a><a class="docs-heading-anchor-permalink" href="#Project-Extension" title="Permalink"></a></h2><p>The Project Extension requires a front-end where the available methods are exposed.</p><div class="noweb-label">file:<i>src/Visualization.jl</i></div><pre><code class="language- julia hljs">module Visualization
export sediment_profile!, sediment_profile, wheeler_diagram!, wheeler_diagram, production_curve!,
       production_curve, glamour_view!, coeval_lines!, summary_plot, dominant_facies!, sediment_accumulation!

function print_instructions(func_name, args)
    println(&quot;Called `$(func_name)` with args `$(typeof.(args))`&quot;)
    println(&quot;This is an extension and only becomes available when you import {Cairo,GL,WGL}Makie before using this.&quot;)
end

function profile_plot! end

# profile_plot!(args...; kwargs...) = print_instructions(&quot;profile_plot!&quot;, args)
sediment_accumulation!(args...) = print_instructions(&quot;sediment_accumulation!&quot;, args)
dominant_facies!(args...) = print_instructions(&quot;dominant_facies!&quot;, args)
coeval_lines!(args...) = print_instructions(&quot;coeval_lines!&quot;, args)
sediment_profile!(args...) = print_instructions(&quot;sediment_profile!&quot;, args)
sediment_profile(args...) = print_instructions(&quot;sediment_profile&quot;, args)
wheeler_diagram!(args...) = print_instructions(&quot;wheeler_diagram!&quot;, args)
wheeler_diagram(args...) = print_instructions(&quot;wheeler_diagram&quot;, args)
production_curve(args...) = print_instructions(&quot;production_curve&quot;, args)
production_curve!(args...) = print_instructions(&quot;production_curve!&quot;, args)
stratigraphic_column!(args...) = print_instructions(&quot;production_curve!&quot;, args)
glamour_view!(args...) = print_instructions(&quot;glamour_view!&quot;, args)
summary_plot(args...) = print_instructions(&quot;summary_plot&quot;, args)

end  # module</code></pre><div class="noweb-label">file:<i>ext/VisualizationExt.jl</i></div><pre><code class="language- julia hljs">module VisualizationExt

include(&quot;WheelerDiagram.jl&quot;)
include(&quot;ProductionCurve.jl&quot;)
include(&quot;StratigraphicColumn.jl&quot;)
include(&quot;SedimentProfile.jl&quot;)
include(&quot;GlamourView.jl&quot;)
include(&quot;SummaryPlot.jl&quot;)

end</code></pre><h2 id="Summary-collage"><a class="docs-heading-anchor" href="#Summary-collage">Summary collage</a><a id="Summary-collage-1"></a><a class="docs-heading-anchor-permalink" href="#Summary-collage" title="Permalink"></a></h2><p><img src="../../fig/alcaps-alternative.png" alt="Collage"/></p><div class="noweb-label">file:<i>ext/SummaryPlot.jl</i></div><pre><code class="language- julia hljs">module SummaryPlot

using CarboKitten.Visualization
import CarboKitten.Visualization: summary_plot
using CarboKitten.Export: read_header, read_volume, read_slice, group_datasets
using CarboKitten.Utility: in_units_of
using HDF5
using Unitful
using Makie

summary_plot(filename::AbstractString; kwargs...) = h5open(fid-&gt;summary_plot(fid; kwargs...), filename, &quot;r&quot;)

function summary_plot(fid::HDF5.File; wheeler_smooth=(1, 1), show_unconformities=true)
    header = read_header(fid)
    data_groups = group_datasets(fid)

    if length(data_groups[:slice]) == 0 &amp;&amp; length(data_groups[:volume]) == 0
        @warn &quot;No volume data or slice data stored. Cannot produce summary view.&quot;
        return nothing
    end

    fig = Figure(size=(1200, 1000), backgroundcolor=:gray80)

    volume_data = if length(data_groups[:volume]) == 0
        @warn &quot;No volume data stored, skipping topographic plots.&quot;
        nothing
    else
        if length(data_groups[:volume]) &gt; 1
            @warn &quot;Multiple volume data sets, picking first one.&quot;
        end

        volume_data = read_volume(fid[data_groups[:volume][1]])
        ax = Axis3(fig[1, 3]; title=&quot;topography&quot;, zlabel=&quot;depth [m]&quot;, xlabel=&quot;x [km]&quot;, ylabel=&quot;y [km]&quot;)
        glamour_view!(ax, header, volume_data)
        volume_data
    end

    section_data = if length(data_groups[:slice]) == 0
        @warn &quot;No profile data slice stored, taking section of volume data along x-axis.&quot;

        y_slice = div(size(volume_data.sediment_thickness)[2], 2) + 1
        volume_data[:, y_slice]
    else
        read_slice(fid[data_groups[:slice][1]])
    end

    n_facies = size(section_data.production)[1]

    ax1 = Axis(fig[1:2,1:2])
    sediment_profile!(ax1, header, section_data; show_unconformities = show_unconformities)
    axislegend(ax1; merge=true, backgroundcolor=:gray80)

    ax2 = Axis(fig[4,1])
    ax3 = Axis(fig[4,2])
    sm, df = wheeler_diagram!(ax2, ax3, header, section_data; smooth_size=wheeler_smooth)
    Colorbar(fig[3,1], sm; vertical=false, label=&quot;sedimentation rate [m/Myr]&quot;)
    Colorbar(fig[3,2], df; vertical=false, label=&quot;dominant facies&quot;, ticks=1:n_facies)
    wi = section_data.write_interval
    ax4 = Axis(fig[4,3], title=&quot;sealevel curve&quot;, xlabel=&quot;sealevel [m]&quot;,
               limits=(nothing, (header.axes.t[1] |&gt; in_units_of(u&quot;Myr&quot;),
                                 header.axes.t[1:wi:end][end] |&gt; in_units_of(u&quot;Myr&quot;))))
    lines!(ax4, header.sea_level |&gt; in_units_of(u&quot;m&quot;), header.axes.t |&gt; in_units_of(u&quot;Myr&quot;))

    ax5 = Axis(fig[2,3])
    max_depth = minimum(header.initial_topography)
    production_curve!(ax5, fid[&quot;input&quot;], max_depth=max_depth)

    linkyaxes!(ax2, ax3, ax4)

    fig
end

end</code></pre><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../onshore-transport/">« Onshore Transport</a><a class="docs-footer-nextpage" href="../profiles/">Profiles »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 23 January 2026 09:54">Friday 23 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
